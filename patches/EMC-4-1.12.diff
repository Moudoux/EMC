diff -ur original/block/Block.java minecraft/block/Block.java
--- original/block/Block.java	2017-06-17 13:16:28.268986000 +0200
+++ minecraft/block/Block.java	2017-06-16 23:55:57.949573200 +0200
@@ -1,11 +1,21 @@
 package net.minecraft.block;
 
-import com.google.common.collect.Sets;
-import com.google.common.collect.UnmodifiableIterator;
 import java.util.List;
 import java.util.Random;
 import java.util.Set;
+
 import javax.annotation.Nullable;
+
+import com.google.common.collect.Sets;
+import com.google.common.collect.UnmodifiableIterator;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventBlockLayer;
+import me.deftware.client.framework.Event.Events.EventBlockhardness;
+import me.deftware.client.framework.Event.Events.EventCollideCheck;
+import me.deftware.client.framework.Event.Events.EventGetLightValue;
+import me.deftware.client.framework.Event.Events.EventRenderSide;
+import me.deftware.client.framework.Wrappers.IBlock;
 import net.minecraft.block.material.EnumPushReaction;
 import net.minecraft.block.material.MapColor;
 import net.minecraft.block.material.Material;
@@ -203,7 +213,10 @@
     @Deprecated
     public int getLightValue(IBlockState state)
     {
-        return this.lightValue;
+		// TODO: Client
+		EventGetLightValue event = new EventGetLightValue(new IBlock(this), this.lightValue);
+		Event.sendEvent(event);
+		return event.getValue();
     }
 
     @Deprecated
@@ -499,6 +512,16 @@
     @Deprecated
     public boolean shouldSideBeRendered(IBlockState blockState, IBlockAccess blockAccess, BlockPos pos, EnumFacing side)
     {
+
+		// TODO: Client
+		EventRenderSide event = new EventRenderSide(new IBlock(this));
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return false;
+		} else if (event.isOverride()) {
+			return true;
+		}
+
         AxisAlignedBB axisalignedbb = blockState.getBoundingBox(blockAccess, pos);
 
         switch (side)
@@ -603,7 +626,10 @@
 
     public boolean canCollideCheck(IBlockState state, boolean hitIfLiquid)
     {
-        return this.isCollidable();
+    	// TODO: Client
+		EventCollideCheck event = new EventCollideCheck(new IBlock(state.getBlock()), this.isCollidable());
+		Event.sendEvent(event);
+		return event.isCollidable();
     }
 
     /**
@@ -696,6 +722,11 @@
     {
         float f = state.getBlockHardness(worldIn, pos);
 
+		// TODO: Client
+		EventBlockhardness event = new EventBlockhardness(state, player, worldIn, pos, f);
+		Event.sendEvent(event);
+		f = event.getHardness();
+
         if (f < 0.0F)
         {
             return 0.0F;
@@ -746,10 +777,10 @@
         if (!worldIn.isRemote && !stack.func_190926_b() && worldIn.getGameRules().getBoolean("doTileDrops"))
         {
             float f = 0.5F;
-            double d0 = (double)(worldIn.rand.nextFloat() * 0.5F) + 0.25D;
-            double d1 = (double)(worldIn.rand.nextFloat() * 0.5F) + 0.25D;
-            double d2 = (double)(worldIn.rand.nextFloat() * 0.5F) + 0.25D;
-            EntityItem entityitem = new EntityItem(worldIn, (double)pos.getX() + d0, (double)pos.getY() + d1, (double)pos.getZ() + d2, stack);
+            double d0 = worldIn.rand.nextFloat() * 0.5F + 0.25D;
+            double d1 = worldIn.rand.nextFloat() * 0.5F + 0.25D;
+            double d2 = worldIn.rand.nextFloat() * 0.5F + 0.25D;
+            EntityItem entityitem = new EntityItem(worldIn, pos.getX() + d0, pos.getY() + d1, pos.getZ() + d2, stack);
             entityitem.setDefaultPickupDelay();
             worldIn.spawnEntityInWorld(entityitem);
         }
@@ -766,7 +797,7 @@
             {
                 int i = EntityXPOrb.getXPSplit(amount);
                 amount -= i;
-                worldIn.spawnEntityInWorld(new EntityXPOrb(worldIn, (double)pos.getX() + 0.5D, (double)pos.getY() + 0.5D, (double)pos.getZ() + 0.5D, i));
+                worldIn.spawnEntityInWorld(new EntityXPOrb(worldIn, pos.getX() + 0.5D, pos.getY() + 0.5D, pos.getZ() + 0.5D, i));
             }
         }
     }
@@ -802,10 +833,10 @@
     @Nullable
     protected RayTraceResult rayTrace(BlockPos pos, Vec3d start, Vec3d end, AxisAlignedBB boundingBox)
     {
-        Vec3d vec3d = start.subtract((double)pos.getX(), (double)pos.getY(), (double)pos.getZ());
-        Vec3d vec3d1 = end.subtract((double)pos.getX(), (double)pos.getY(), (double)pos.getZ());
+        Vec3d vec3d = start.subtract(pos.getX(), pos.getY(), pos.getZ());
+        Vec3d vec3d1 = end.subtract(pos.getX(), pos.getY(), pos.getZ());
         RayTraceResult raytraceresult = boundingBox.calculateIntercept(vec3d, vec3d1);
-        return raytraceresult == null ? null : new RayTraceResult(raytraceresult.hitVec.addVector((double)pos.getX(), (double)pos.getY(), (double)pos.getZ()), raytraceresult.sideHit, pos);
+        return raytraceresult == null ? null : new RayTraceResult(raytraceresult.hitVec.addVector(pos.getX(), pos.getY(), pos.getZ()), raytraceresult.sideHit, pos);
     }
 
     /**
@@ -817,7 +848,10 @@
 
     public BlockRenderLayer getBlockLayer()
     {
-        return BlockRenderLayer.SOLID;
+		// TODO: Client
+		EventBlockLayer event = new EventBlockLayer(new IBlock(this), BlockRenderLayer.SOLID);
+		Event.sendEvent(event);
+		return event.getValue();
     }
 
     /**
@@ -1148,7 +1182,7 @@
         else
         {
             long i = MathHelper.getCoordinateRandom(p_190949_3_.getX(), 0, p_190949_3_.getZ());
-            return new Vec3d(((double)((float)(i >> 16 & 15L) / 15.0F) - 0.5D) * 0.5D, block$enumoffsettype == Block.EnumOffsetType.XYZ ? ((double)((float)(i >> 20 & 15L) / 15.0F) - 1.0D) * 0.2D : 0.0D, ((double)((float)(i >> 24 & 15L) / 15.0F) - 0.5D) * 0.5D);
+            return new Vec3d(((i >> 16 & 15L) / 15.0F - 0.5D) * 0.5D, block$enumoffsettype == Block.EnumOffsetType.XYZ ? ((i >> 20 & 15L) / 15.0F - 1.0D) * 0.2D : 0.0D, ((i >> 24 & 15L) / 15.0F - 0.5D) * 0.5D);
         }
     }
 
@@ -1157,7 +1191,8 @@
         return this.blockSoundType;
     }
 
-    public String toString()
+    @Override
+	public String toString()
     {
         return "Block{" + REGISTRY.getNameForObject(this) + "}";
     }
diff -ur original/block/BlockLiquid.java minecraft/block/BlockLiquid.java
--- original/block/BlockLiquid.java	2017-06-17 13:16:28.810006000 +0200
+++ minecraft/block/BlockLiquid.java	2017-06-16 16:55:22.749941600 +0200
@@ -1,7 +1,13 @@
 package net.minecraft.block;
 
 import java.util.Random;
+
 import javax.annotation.Nullable;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventIsPassable;
+import me.deftware.client.framework.Event.Events.EventLiquidBoundingBox;
+import me.deftware.client.framework.Wrappers.IBlock;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyInteger;
@@ -37,20 +43,29 @@
         this.setTickRandomly(true);
     }
 
-    public AxisAlignedBB getBoundingBox(IBlockState state, IBlockAccess source, BlockPos pos)
+    @Override
+	public AxisAlignedBB getBoundingBox(IBlockState state, IBlockAccess source, BlockPos pos)
     {
         return FULL_BLOCK_AABB;
     }
 
-    @Nullable
+    @Override
+	@Nullable
     public AxisAlignedBB getCollisionBoundingBox(IBlockState blockState, IBlockAccess worldIn, BlockPos pos)
     {
-        return NULL_AABB;
+		// TODO: Client
+		EventLiquidBoundingBox event = new EventLiquidBoundingBox();
+		Event.sendEvent(event);
+		return event.getAABB();
     }
 
-    public boolean isPassable(IBlockAccess worldIn, BlockPos pos)
-    {
-        return this.blockMaterial != Material.LAVA;
+    @Override
+	public boolean isPassable(IBlockAccess worldIn, BlockPos pos)
+    {
+		// TODO: Client
+		EventIsPassable event = new EventIsPassable(new IBlock(this), this.blockMaterial != Material.LAVA);
+		Event.sendEvent(event);
+		return event.isPassable();
     }
 
     /**
@@ -63,12 +78,12 @@
             meta = 0;
         }
 
-        return (float)(meta + 1) / 9.0F;
+        return (meta + 1) / 9.0F;
     }
 
     protected int getDepth(IBlockState p_189542_1_)
     {
-        return p_189542_1_.getMaterial() == this.blockMaterial ? ((Integer)p_189542_1_.getValue(LEVEL)).intValue() : -1;
+        return p_189542_1_.getMaterial() == this.blockMaterial ? p_189542_1_.getValue(LEVEL).intValue() : -1;
     }
 
     protected int getRenderedDepth(IBlockState p_189545_1_)
@@ -77,7 +92,8 @@
         return i >= 8 ? 0 : i;
     }
 
-    public boolean isFullCube(IBlockState state)
+    @Override
+	public boolean isFullCube(IBlockState state)
     {
         return false;
     }
@@ -85,14 +101,16 @@
     /**
      * Used to determine ambient occlusion and culling when rebuilding chunks for render
      */
-    public boolean isOpaqueCube(IBlockState state)
+    @Override
+	public boolean isOpaqueCube(IBlockState state)
     {
         return false;
     }
 
-    public boolean canCollideCheck(IBlockState state, boolean hitIfLiquid)
+    @Override
+	public boolean canCollideCheck(IBlockState state, boolean hitIfLiquid)
     {
-        return hitIfLiquid && ((Integer)state.getValue(LEVEL)).intValue() == 0;
+        return hitIfLiquid && state.getValue(LEVEL).intValue() == 0;
     }
 
     /**
@@ -123,7 +141,8 @@
         }
     }
 
-    public boolean shouldSideBeRendered(IBlockState blockState, IBlockAccess blockAccess, BlockPos pos, EnumFacing side)
+    @Override
+	public boolean shouldSideBeRendered(IBlockState blockState, IBlockAccess blockAccess, BlockPos pos, EnumFacing side)
     {
         if (blockAccess.getBlockState(pos.offset(side)).getMaterial() == this.blockMaterial)
         {
@@ -157,7 +176,8 @@
      * The type of render function called. MODEL for mixed tesr and static model, MODELBLOCK_ANIMATED for TESR-only,
      * LIQUID for vanilla liquids, INVISIBLE to skip all rendering
      */
-    public EnumBlockRenderType getRenderType(IBlockState state)
+    @Override
+	public EnumBlockRenderType getRenderType(IBlockState state)
     {
         return EnumBlockRenderType.LIQUID;
     }
@@ -165,7 +185,8 @@
     /**
      * Get the Item that this Block should drop when harvested.
      */
-    public Item getItemDropped(IBlockState state, Random rand, int fortune)
+    @Override
+	public Item getItemDropped(IBlockState state, Random rand, int fortune)
     {
         return Items.field_190931_a;
     }
@@ -173,7 +194,8 @@
     /**
      * Returns the quantity of items to drop on block destruction.
      */
-    public int quantityDropped(Random random)
+    @Override
+	public int quantityDropped(Random random)
     {
         return 0;
     }
@@ -200,24 +222,24 @@
                     if (j >= 0)
                     {
                         int k = j - (i - 8);
-                        d0 += (double)(enumfacing.getFrontOffsetX() * k);
-                        d1 += (double)(enumfacing.getFrontOffsetY() * k);
-                        d2 += (double)(enumfacing.getFrontOffsetZ() * k);
+                        d0 += enumfacing.getFrontOffsetX() * k;
+                        d1 += enumfacing.getFrontOffsetY() * k;
+                        d2 += enumfacing.getFrontOffsetZ() * k;
                     }
                 }
             }
             else if (j >= 0)
             {
                 int l = j - i;
-                d0 += (double)(enumfacing.getFrontOffsetX() * l);
-                d1 += (double)(enumfacing.getFrontOffsetY() * l);
-                d2 += (double)(enumfacing.getFrontOffsetZ() * l);
+                d0 += enumfacing.getFrontOffsetX() * l;
+                d1 += enumfacing.getFrontOffsetY() * l;
+                d2 += enumfacing.getFrontOffsetZ() * l;
             }
         }
 
         Vec3d vec3d = new Vec3d(d0, d1, d2);
 
-        if (((Integer)p_189543_3_.getValue(LEVEL)).intValue() >= 8)
+        if (p_189543_3_.getValue(LEVEL).intValue() >= 8)
         {
             for (EnumFacing enumfacing1 : EnumFacing.Plane.HORIZONTAL)
             {
@@ -235,7 +257,8 @@
         return vec3d.normalize();
     }
 
-    public Vec3d modifyAcceleration(World worldIn, BlockPos pos, Entity entityIn, Vec3d motion)
+    @Override
+	public Vec3d modifyAcceleration(World worldIn, BlockPos pos, Entity entityIn, Vec3d motion)
     {
         return motion.add(this.getFlow(worldIn, pos, worldIn.getBlockState(pos)));
     }
@@ -243,7 +266,8 @@
     /**
      * How many world ticks before ticking
      */
-    public int tickRate(World worldIn)
+    @Override
+	public int tickRate(World worldIn)
     {
         if (this.blockMaterial == Material.WATER)
         {
@@ -259,7 +283,8 @@
         }
     }
 
-    public int getPackedLightmapCoords(IBlockState state, IBlockAccess source, BlockPos pos)
+    @Override
+	public int getPackedLightmapCoords(IBlockState state, IBlockAccess source, BlockPos pos)
     {
         int i = source.getCombinedLight(pos, 0);
         int j = source.getCombinedLight(pos.up(), 0);
@@ -270,20 +295,22 @@
         return (k > l ? k : l) | (i1 > j1 ? i1 : j1) << 16;
     }
 
-    public BlockRenderLayer getBlockLayer()
+    @Override
+	public BlockRenderLayer getBlockLayer()
     {
         return this.blockMaterial == Material.WATER ? BlockRenderLayer.TRANSLUCENT : BlockRenderLayer.SOLID;
     }
 
-    public void randomDisplayTick(IBlockState stateIn, World worldIn, BlockPos pos, Random rand)
+    @Override
+	public void randomDisplayTick(IBlockState stateIn, World worldIn, BlockPos pos, Random rand)
     {
-        double d0 = (double)pos.getX();
-        double d1 = (double)pos.getY();
-        double d2 = (double)pos.getZ();
+        double d0 = pos.getX();
+        double d1 = pos.getY();
+        double d2 = pos.getZ();
 
         if (this.blockMaterial == Material.WATER)
         {
-            int i = ((Integer)stateIn.getValue(LEVEL)).intValue();
+            int i = stateIn.getValue(LEVEL).intValue();
 
             if (i > 0 && i < 8)
             {
@@ -294,7 +321,7 @@
             }
             else if (rand.nextInt(10) == 0)
             {
-                worldIn.spawnParticle(EnumParticleTypes.SUSPENDED, d0 + (double)rand.nextFloat(), d1 + (double)rand.nextFloat(), d2 + (double)rand.nextFloat(), 0.0D, 0.0D, 0.0D);
+                worldIn.spawnParticle(EnumParticleTypes.SUSPENDED, d0 + rand.nextFloat(), d1 + rand.nextFloat(), d2 + rand.nextFloat(), 0.0D, 0.0D, 0.0D);
             }
         }
 
@@ -302,9 +329,9 @@
         {
             if (rand.nextInt(100) == 0)
             {
-                double d8 = d0 + (double)rand.nextFloat();
+                double d8 = d0 + rand.nextFloat();
                 double d4 = d1 + stateIn.getBoundingBox(worldIn, pos).maxY;
-                double d6 = d2 + (double)rand.nextFloat();
+                double d6 = d2 + rand.nextFloat();
                 worldIn.spawnParticle(EnumParticleTypes.LAVA, d8, d4, d6, 0.0D, 0.0D, 0.0D);
                 worldIn.playSound(d8, d4, d6, SoundEvents.BLOCK_LAVA_POP, SoundCategory.BLOCKS, 0.2F + rand.nextFloat() * 0.2F, 0.9F + rand.nextFloat() * 0.15F, false);
             }
@@ -321,9 +348,9 @@
 
             if (!material.blocksMovement() && !material.isLiquid())
             {
-                double d3 = d0 + (double)rand.nextFloat();
+                double d3 = d0 + rand.nextFloat();
                 double d5 = d1 - 1.05D;
-                double d7 = d2 + (double)rand.nextFloat();
+                double d7 = d2 + rand.nextFloat();
 
                 if (this.blockMaterial == Material.WATER)
                 {
@@ -346,7 +373,8 @@
     /**
      * Called after the block is set in the Chunk data, but before the Tile Entity is set
      */
-    public void onBlockAdded(World worldIn, BlockPos pos, IBlockState state)
+    @Override
+	public void onBlockAdded(World worldIn, BlockPos pos, IBlockState state)
     {
         this.checkForMixing(worldIn, pos, state);
     }
@@ -356,7 +384,8 @@
      * change. Cases may include when redstone power is updated, cactus blocks popping off due to a neighboring solid
      * block, etc.
      */
-    public void neighborChanged(IBlockState state, World worldIn, BlockPos pos, Block blockIn, BlockPos p_189540_5_)
+    @Override
+	public void neighborChanged(IBlockState state, World worldIn, BlockPos pos, Block blockIn, BlockPos p_189540_5_)
     {
         this.checkForMixing(worldIn, pos, state);
     }
@@ -378,7 +407,7 @@
 
             if (flag)
             {
-                Integer integer = (Integer)state.getValue(LEVEL);
+                Integer integer = state.getValue(LEVEL);
 
                 if (integer.intValue() == 0)
                 {
@@ -401,9 +430,9 @@
 
     protected void triggerMixEffects(World worldIn, BlockPos pos)
     {
-        double d0 = (double)pos.getX();
-        double d1 = (double)pos.getY();
-        double d2 = (double)pos.getZ();
+        double d0 = pos.getX();
+        double d1 = pos.getY();
+        double d2 = pos.getZ();
         worldIn.playSound((EntityPlayer)null, pos, SoundEvents.BLOCK_LAVA_EXTINGUISH, SoundCategory.BLOCKS, 0.5F, 2.6F + (worldIn.rand.nextFloat() - worldIn.rand.nextFloat()) * 0.8F);
 
         for (int i = 0; i < 8; ++i)
@@ -415,7 +444,8 @@
     /**
      * Convert the given metadata into a BlockState for this Block
      */
-    public IBlockState getStateFromMeta(int meta)
+    @Override
+	public IBlockState getStateFromMeta(int meta)
     {
         return this.getDefaultState().withProperty(LEVEL, Integer.valueOf(meta));
     }
@@ -423,12 +453,14 @@
     /**
      * Convert the BlockState into the correct metadata value
      */
-    public int getMetaFromState(IBlockState state)
+    @Override
+	public int getMetaFromState(IBlockState state)
     {
-        return ((Integer)state.getValue(LEVEL)).intValue();
+        return state.getValue(LEVEL).intValue();
     }
 
-    protected BlockStateContainer createBlockState()
+    @Override
+	protected BlockStateContainer createBlockState()
     {
         return new BlockStateContainer(this, new IProperty[] {LEVEL});
     }
@@ -467,16 +499,17 @@
 
     public static float func_190973_f(IBlockState p_190973_0_, IBlockAccess p_190973_1_, BlockPos p_190973_2_)
     {
-        int i = ((Integer)p_190973_0_.getValue(LEVEL)).intValue();
+        int i = p_190973_0_.getValue(LEVEL).intValue();
         return (i & 7) == 0 && p_190973_1_.getBlockState(p_190973_2_.up()).getMaterial() == Material.WATER ? 1.0F : 1.0F - getLiquidHeightPercent(i);
     }
 
     public static float func_190972_g(IBlockState p_190972_0_, IBlockAccess p_190972_1_, BlockPos p_190972_2_)
     {
-        return (float)p_190972_2_.getY() + func_190973_f(p_190972_0_, p_190972_1_, p_190972_2_);
+        return p_190972_2_.getY() + func_190973_f(p_190972_0_, p_190972_1_, p_190972_2_);
     }
 
-    public BlockFaceShape func_193383_a(IBlockAccess p_193383_1_, IBlockState p_193383_2_, BlockPos p_193383_3_, EnumFacing p_193383_4_)
+    @Override
+	public BlockFaceShape func_193383_a(IBlockAccess p_193383_1_, IBlockState p_193383_2_, BlockPos p_193383_3_, EnumFacing p_193383_4_)
     {
         return BlockFaceShape.UNDEFINED;
     }
diff -ur original/block/BlockSoulSand.java minecraft/block/BlockSoulSand.java
--- original/block/BlockSoulSand.java	2017-06-17 13:16:29.233412000 +0200
+++ minecraft/block/BlockSoulSand.java	2017-06-16 03:19:31.262699200 +0200
@@ -1,6 +1,10 @@
 package net.minecraft.block;
 
 import javax.annotation.Nullable;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventSlowdown;
+import me.deftware.client.framework.Event.Events.EventSlowdown.SlowdownType;
 import net.minecraft.block.material.MapColor;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
@@ -21,7 +25,8 @@
         this.setCreativeTab(CreativeTabs.BUILDING_BLOCKS);
     }
 
-    @Nullable
+    @Override
+	@Nullable
     public AxisAlignedBB getCollisionBoundingBox(IBlockState blockState, IBlockAccess worldIn, BlockPos pos)
     {
         return SOUL_SAND_AABB;
@@ -30,8 +35,15 @@
     /**
      * Called When an Entity Collided with the Block
      */
-    public void onEntityCollidedWithBlock(World worldIn, BlockPos pos, IBlockState state, Entity entityIn)
+    @Override
+	public void onEntityCollidedWithBlock(World worldIn, BlockPos pos, IBlockState state, Entity entityIn)
     {
+		// TODO: Client
+		EventSlowdown event = new EventSlowdown(SlowdownType.Soulsand);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
         entityIn.motionX *= 0.4D;
         entityIn.motionZ *= 0.4D;
     }
diff -ur original/client/entity/AbstractClientPlayer.java minecraft/client/entity/AbstractClientPlayer.java
--- original/client/entity/AbstractClientPlayer.java	2017-06-17 13:16:29.746405000 +0200
+++ minecraft/client/entity/AbstractClientPlayer.java	2017-06-16 21:42:23.890171100 +0200
@@ -1,8 +1,14 @@
 package net.minecraft.client.entity;
 
-import com.mojang.authlib.GameProfile;
 import java.io.File;
+
 import javax.annotation.Nullable;
+
+import com.mojang.authlib.GameProfile;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventFovModifier;
+import me.deftware.client.framework.Event.Events.EventSpectator;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetworkPlayerInfo;
 import net.minecraft.client.renderer.ImageBufferDownload;
@@ -34,13 +40,20 @@
     /**
      * Returns true if the player is in spectator mode.
      */
-    public boolean isSpectator()
+    @Override
+	public boolean isSpectator()
     {
         NetworkPlayerInfo networkplayerinfo = Minecraft.getMinecraft().getConnection().getPlayerInfo(this.getGameProfile().getId());
-        return networkplayerinfo != null && networkplayerinfo.getGameType() == GameType.SPECTATOR;
+
+		// TODO: Client
+		EventSpectator event = new EventSpectator(
+				networkplayerinfo != null && networkplayerinfo.getGameType() == GameType.SPECTATOR);
+		Event.sendEvent(event);
+		return event.isSpectator();
     }
 
-    public boolean isCreative()
+    @Override
+	public boolean isCreative()
     {
         NetworkPlayerInfo networkplayerinfo = Minecraft.getMinecraft().getConnection().getPlayerInfo(this.getGameProfile().getId());
         return networkplayerinfo != null && networkplayerinfo.getGameType() == GameType.CREATIVE;
@@ -143,8 +156,13 @@
             f *= 1.1F;
         }
 
+		// TODO: Client
+		EventFovModifier event = new EventFovModifier(f);
+		Event.sendEvent(event);
+		f = event.getFov();
+
         IAttributeInstance iattributeinstance = this.getEntityAttribute(SharedMonsterAttributes.MOVEMENT_SPEED);
-        f = (float)((double)f * ((iattributeinstance.getAttributeValue() / (double)this.capabilities.getWalkSpeed() + 1.0D) / 2.0D));
+        f = (float)(f * ((iattributeinstance.getAttributeValue() / this.capabilities.getWalkSpeed() + 1.0D) / 2.0D));
 
         if (this.capabilities.getWalkSpeed() == 0.0F || Float.isNaN(f) || Float.isInfinite(f))
         {
@@ -154,7 +172,7 @@
         if (this.isHandActive() && this.getActiveItemStack().getItem() == Items.BOW)
         {
             int i = this.getItemInUseMaxCount();
-            float f1 = (float)i / 20.0F;
+            float f1 = i / 20.0F;
 
             if (f1 > 1.0F)
             {
diff -ur original/client/entity/EntityOtherPlayerMP.java minecraft/client/entity/EntityOtherPlayerMP.java
--- original/client/entity/EntityOtherPlayerMP.java	2017-06-17 13:16:29.754412000 +0200
+++ minecraft/client/entity/EntityOtherPlayerMP.java	2017-06-16 20:59:37.592088700 +0200
@@ -1,7 +1,9 @@
 package net.minecraft.client.entity;
 
 import com.mojang.authlib.GameProfile;
+
 import net.minecraft.client.Minecraft;
+import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.DamageSource;
 import net.minecraft.util.math.BlockPos;
 import net.minecraft.util.math.MathHelper;
@@ -25,10 +27,36 @@
         this.renderOffsetY = 0.25F;
     }
 
+	public void clonePlayer(EntityPlayer oldPlayer, boolean respawnFromEnd) {
+		if (respawnFromEnd) {
+			this.inventory.copyInventory(oldPlayer.inventory);
+			this.setHealth(oldPlayer.getHealth());
+			this.foodStats = oldPlayer.foodStats;
+			this.experienceLevel = oldPlayer.experienceLevel;
+			this.experienceTotal = oldPlayer.experienceTotal;
+			this.experience = oldPlayer.experience;
+			this.setScore(oldPlayer.getScore());
+			this.lastPortalPos = oldPlayer.lastPortalPos;
+			this.lastPortalVec = oldPlayer.lastPortalVec;
+			this.teleportDirection = oldPlayer.teleportDirection;
+		} else if (this.world.getGameRules().getBoolean("keepInventory") || oldPlayer.isSpectator()) {
+			this.inventory.copyInventory(oldPlayer.inventory);
+			this.experienceLevel = oldPlayer.experienceLevel;
+			this.experienceTotal = oldPlayer.experienceTotal;
+			this.experience = oldPlayer.experience;
+			this.setScore(oldPlayer.getScore());
+		}
+
+		this.xpSeed = oldPlayer.xpSeed;
+		this.theInventoryEnderChest = oldPlayer.theInventoryEnderChest;
+		this.getDataManager().set(PLAYER_MODEL_FLAG, oldPlayer.getDataManager().get(PLAYER_MODEL_FLAG));
+	}
+
     /**
      * Checks if the entity is in range to render.
      */
-    public boolean isInRangeToRenderDist(double distance)
+    @Override
+	public boolean isInRangeToRenderDist(double distance)
     {
         double d0 = this.getEntityBoundingBox().getAverageEdgeLength() * 10.0D;
 
@@ -44,7 +72,8 @@
     /**
      * Called when the entity is attacked.
      */
-    public boolean attackEntityFrom(DamageSource source, float amount)
+    @Override
+	public boolean attackEntityFrom(DamageSource source, float amount)
     {
         return true;
     }
@@ -52,20 +81,22 @@
     /**
      * Set the position and rotation values directly without any clamping.
      */
-    public void setPositionAndRotationDirect(double x, double y, double z, float yaw, float pitch, int posRotationIncrements, boolean teleport)
+    @Override
+	public void setPositionAndRotationDirect(double x, double y, double z, float yaw, float pitch, int posRotationIncrements, boolean teleport)
     {
         this.otherPlayerMPX = x;
         this.otherPlayerMPY = y;
         this.otherPlayerMPZ = z;
-        this.otherPlayerMPYaw = (double)yaw;
-        this.otherPlayerMPPitch = (double)pitch;
+        this.otherPlayerMPYaw = yaw;
+        this.otherPlayerMPPitch = pitch;
         this.otherPlayerMPPosRotationIncrements = posRotationIncrements;
     }
 
     /**
      * Called to update the entity's position/logic.
      */
-    public void onUpdate()
+    @Override
+	public void onUpdate()
     {
         this.renderOffsetY = 0.0F;
         super.onUpdate();
@@ -87,16 +118,17 @@
      * Called frequently so the entity can update its state every tick as required. For example, zombies and skeletons
      * use this to react to sunlight and start to burn.
      */
-    public void onLivingUpdate()
+    @Override
+	public void onLivingUpdate()
     {
         if (this.otherPlayerMPPosRotationIncrements > 0)
         {
-            double d0 = this.posX + (this.otherPlayerMPX - this.posX) / (double)this.otherPlayerMPPosRotationIncrements;
-            double d1 = this.posY + (this.otherPlayerMPY - this.posY) / (double)this.otherPlayerMPPosRotationIncrements;
-            double d2 = this.posZ + (this.otherPlayerMPZ - this.posZ) / (double)this.otherPlayerMPPosRotationIncrements;
+            double d0 = this.posX + (this.otherPlayerMPX - this.posX) / this.otherPlayerMPPosRotationIncrements;
+            double d1 = this.posY + (this.otherPlayerMPY - this.posY) / this.otherPlayerMPPosRotationIncrements;
+            double d2 = this.posZ + (this.otherPlayerMPZ - this.posZ) / this.otherPlayerMPPosRotationIncrements;
             double d3;
 
-            for (d3 = this.otherPlayerMPYaw - (double)this.rotationYaw; d3 < -180.0D; d3 += 360.0D)
+            for (d3 = this.otherPlayerMPYaw - this.rotationYaw; d3 < -180.0D; d3 += 360.0D)
             {
                 ;
             }
@@ -106,8 +138,8 @@
                 d3 -= 360.0D;
             }
 
-            this.rotationYaw = (float)((double)this.rotationYaw + d3 / (double)this.otherPlayerMPPosRotationIncrements);
-            this.rotationPitch = (float)((double)this.rotationPitch + (this.otherPlayerMPPitch - (double)this.rotationPitch) / (double)this.otherPlayerMPPosRotationIncrements);
+            this.rotationYaw = (float)(this.rotationYaw + d3 / this.otherPlayerMPPosRotationIncrements);
+            this.rotationPitch = (float)(this.rotationPitch + (this.otherPlayerMPPitch - this.rotationPitch) / this.otherPlayerMPPosRotationIncrements);
             --this.otherPlayerMPPosRotationIncrements;
             this.setPosition(d0, d1, d2);
             this.setRotation(this.rotationYaw, this.rotationPitch);
@@ -143,7 +175,8 @@
     /**
      * Send a chat message to the CommandSender
      */
-    public void addChatMessage(ITextComponent component)
+    @Override
+	public void addChatMessage(ITextComponent component)
     {
         Minecraft.getMinecraft().ingameGUI.getChatGUI().printChatMessage(component);
     }
@@ -151,7 +184,8 @@
     /**
      * Returns {@code true} if the CommandSender is allowed to execute the command, {@code false} if not
      */
-    public boolean canCommandSenderUseCommand(int permLevel, String commandName)
+    @Override
+	public boolean canCommandSenderUseCommand(int permLevel, String commandName)
     {
         return false;
     }
@@ -160,7 +194,8 @@
      * Get the position in the world. <b>{@code null} is not allowed!</b> If you are not an entity in the world, return
      * the coordinates 0, 0, 0
      */
-    public BlockPos getPosition()
+    @Override
+	public BlockPos getPosition()
     {
         return new BlockPos(this.posX + 0.5D, this.posY + 0.5D, this.posZ + 0.5D);
     }
diff -ur original/client/entity/EntityPlayerSP.java minecraft/client/entity/EntityPlayerSP.java
--- original/client/entity/EntityPlayerSP.java	2017-06-17 13:16:29.762420000 +0200
+++ minecraft/client/entity/EntityPlayerSP.java	2017-06-16 21:31:08.334355800 +0200
@@ -1,7 +1,18 @@
 package net.minecraft.client.entity;
 
 import java.util.List;
+
 import javax.annotation.Nullable;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventChatSend;
+import me.deftware.client.framework.Event.Events.EventClientCommand;
+import me.deftware.client.framework.Event.Events.EventIRCMessage;
+import me.deftware.client.framework.Event.Events.EventPlayerWalking;
+import me.deftware.client.framework.Event.Events.EventSlowdown;
+import me.deftware.client.framework.Event.Events.EventSlowdown.SlowdownType;
+import me.deftware.client.framework.Event.Events.EventUpdate;
+import me.deftware.client.framework.Utils.Chat.ChatProcessor;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.audio.ElytraSound;
@@ -174,7 +185,8 @@
     /**
      * Called when the entity is attacked.
      */
-    public boolean attackEntityFrom(DamageSource source, float amount)
+    @Override
+	public boolean attackEntityFrom(DamageSource source, float amount)
     {
         return false;
     }
@@ -182,11 +194,13 @@
     /**
      * Heal living entity (param: amount of half-hearts)
      */
-    public void heal(float healAmount)
+    @Override
+	public void heal(float healAmount)
     {
     }
 
-    public boolean startRiding(Entity entityIn, boolean force)
+    @Override
+	public boolean startRiding(Entity entityIn, boolean force)
     {
         if (!super.startRiding(entityIn, force))
         {
@@ -210,7 +224,8 @@
         }
     }
 
-    public void dismountRidingEntity()
+    @Override
+	public void dismountRidingEntity()
     {
         super.dismountRidingEntity();
         this.rowingBoat = false;
@@ -219,7 +234,8 @@
     /**
      * interpolated look vector
      */
-    public Vec3d getLook(float partialTicks)
+    @Override
+	public Vec3d getLook(float partialTicks)
     {
         return this.getVectorForRotation(this.rotationPitch, this.rotationYaw);
     }
@@ -227,11 +243,19 @@
     /**
      * Called to update the entity's position/logic.
      */
-    public void onUpdate()
+    @Override
+	public void onUpdate()
     {
         if (this.world.isBlockLoaded(new BlockPos(this.posX, 0.0D, this.posZ)))
         {
             super.onUpdate();
+            
+            // TODO: Client
+            EventUpdate event = new EventUpdate(this.posX, this.posY, this.posZ, this.rotationYaw, this.rotationPitch, this.onGround);
+            Event.sendEvent(event);
+            if (event.isCanceled()) {
+            	return;
+            }
 
             if (this.isRiding())
             {
@@ -246,7 +270,7 @@
             }
             else
             {
-                this.onUpdateWalkingPlayer();
+                this.onUpdateWalkingPlayer(event);
             }
         }
     }
@@ -254,8 +278,16 @@
     /**
      * called every tick when the player is on foot. Performs all the things that normally happen during movement.
      */
-    private void onUpdateWalkingPlayer()
+    private void onUpdateWalkingPlayer(EventUpdate event)
     {
+
+		// TODO: Client
+		EventPlayerWalking e = new EventPlayerWalking();
+		Event.sendEvent(e);
+		if (e.isCanceled()) {
+			return;
+		}
+
         boolean flag = this.isSprinting();
 
         if (flag != this.serverSprintState)
@@ -290,15 +322,16 @@
 
         if (this.isCurrentViewEntity())
         {
-            AxisAlignedBB axisalignedbb = this.getEntityBoundingBox();
-            double d0 = this.posX - this.lastReportedPosX;
-            double d1 = axisalignedbb.minY - this.lastReportedPosY;
-            double d2 = this.posZ - this.lastReportedPosZ;
-            double d3 = (double)(this.rotationYaw - this.lastReportedYaw);
-            double d4 = (double)(this.rotationPitch - this.lastReportedPitch);
-            ++this.positionUpdateTicks;
-            boolean flag2 = d0 * d0 + d1 * d1 + d2 * d2 > 9.0E-4D || this.positionUpdateTicks >= 20;
-            boolean flag3 = d3 != 0.0D || d4 != 0.0D;
+        	// TODO: Client update event
+        	AxisAlignedBB axisalignedbb = this.getEntityBoundingBox();
+			double d0 = this.posX - this.lastReportedPosX;
+			double d1 = event.getPosY() - this.lastReportedPosY;
+			double d2 = this.posZ - this.lastReportedPosZ;
+			double d3 = event.getRotationYaw() - this.lastReportedYaw;
+			double d4 = event.getRotationPitch() - this.lastReportedPitch;
+			++this.positionUpdateTicks;
+			boolean flag2 = d0 * d0 + d1 * d1 + d2 * d2 > 9.0E-4D || this.positionUpdateTicks >= 20;
+			boolean flag3 = d3 != 0.0D || d4 != 0.0D;
 
             if (this.isRiding())
             {
@@ -341,7 +374,8 @@
         }
     }
 
-    @Nullable
+    @Override
+	@Nullable
 
     /**
      * Drop one item out of the currently selected stack if {@code dropAll} is false. If {@code dropItem} is true the
@@ -354,7 +388,8 @@
         return null;
     }
 
-    protected ItemStack dropItemAndGetStack(EntityItem p_184816_1_)
+    @Override
+	protected ItemStack dropItemAndGetStack(EntityItem p_184816_1_)
     {
         return ItemStack.field_190927_a;
     }
@@ -364,16 +399,49 @@
      */
     public void sendChatMessage(String message)
     {
-        this.connection.sendPacket(new CPacketChatMessage(message));
+    	// TODO: Client
+    	if (message.startsWith(".")) {
+    		if (message.startsWith(".say")) {
+    			if (!message.contains(" ")) {
+        			ChatProcessor.printClientMessage("Invalid syntax, please use: §b.say <Message>");
+        			return;
+        		}
+    			this.connection.sendPacket(new CPacketChatMessage(message.replace(".say ", "")));
+    			return;
+    		}
+    		EventClientCommand event = new EventClientCommand(message);
+    		Event.sendEvent(event);
+    		return;
+    	} else if (message.startsWith("#")) {
+    		if (message.startsWith("# ")) {
+    			message = message.substring(2);
+    		} else {
+    			message = message.substring(1);
+    		}
+    		if (message.equals("")) {
+    			ChatProcessor.printClientMessage("Invalid syntax, please use: §b# <Message>");
+    			return;
+    		}
+    		EventIRCMessage event = new EventIRCMessage(message);
+    		Event.sendEvent(event);
+    		return;
+    	}
+    	EventChatSend event = new EventChatSend(message);
+    	Event.sendEvent(event);
+    	if (!event.isCanceled()) {
+    		this.connection.sendPacket(new CPacketChatMessage(event.getMessage()));
+    	}
     }
 
-    public void swingArm(EnumHand hand)
+    @Override
+	public void swingArm(EnumHand hand)
     {
         super.swingArm(hand);
         this.connection.sendPacket(new CPacketAnimation(hand));
     }
 
-    public void respawnPlayer()
+    @Override
+	public void respawnPlayer()
     {
         this.connection.sendPacket(new CPacketClientStatus(CPacketClientStatus.State.PERFORM_RESPAWN));
     }
@@ -382,7 +450,8 @@
      * Deals damage to the entity. This will take the armor of the entity into consideration before damaging the health
      * bar.
      */
-    protected void damageEntity(DamageSource damageSrc, float damageAmount)
+    @Override
+	protected void damageEntity(DamageSource damageSrc, float damageAmount)
     {
         if (!this.isEntityInvulnerable(damageSrc))
         {
@@ -393,7 +462,8 @@
     /**
      * set current crafting inventory back to the 2x2 square
      */
-    public void closeScreen()
+    @Override
+	public void closeScreen()
     {
         this.connection.sendPacket(new CPacketCloseWindow(this.openContainer.windowId));
         this.closeScreenAndDropStack();
@@ -444,7 +514,8 @@
     /**
      * Adds a value to a statistic field.
      */
-    public void addStat(StatBase stat, int amount)
+    @Override
+	public void addStat(StatBase stat, int amount)
     {
         if (stat != null)
         {
@@ -458,7 +529,8 @@
     /**
      * Sends the player's abilities to the server (if there is one).
      */
-    public void sendPlayerAbilities()
+    @Override
+	public void sendPlayerAbilities()
     {
         this.connection.sendPacket(new CPacketPlayerAbilities(this.capabilities));
     }
@@ -466,7 +538,8 @@
     /**
      * returns true if this is an EntityPlayerSP, or the logged in player.
      */
-    public boolean isUser()
+    @Override
+	public boolean isUser()
     {
         return true;
     }
@@ -529,7 +602,8 @@
         this.permissionLevel = p_184839_1_;
     }
 
-    public void addChatComponentMessage(ITextComponent chatComponent, boolean p_146105_2_)
+    @Override
+	public void addChatComponentMessage(ITextComponent chatComponent, boolean p_146105_2_)
     {
         if (p_146105_2_)
         {
@@ -541,7 +615,8 @@
         }
     }
 
-    protected boolean pushOutOfBlocks(double x, double y, double z)
+    @Override
+	protected boolean pushOutOfBlocks(double x, double y, double z)
     {
         if (this.noClip)
         {
@@ -550,8 +625,8 @@
         else
         {
             BlockPos blockpos = new BlockPos(x, y, z);
-            double d0 = x - (double)blockpos.getX();
-            double d1 = z - (double)blockpos.getZ();
+            double d0 = x - blockpos.getX();
+            double d1 = z - blockpos.getZ();
 
             if (!this.isOpenBlockSpace(blockpos))
             {
@@ -620,7 +695,8 @@
     /**
      * Set sprinting switch for Entity.
      */
-    public void setSprinting(boolean sprinting)
+    @Override
+	public void setSprinting(boolean sprinting)
     {
         super.setSprinting(sprinting);
         this.sprintingTicksLeft = 0;
@@ -639,7 +715,8 @@
     /**
      * Send a chat message to the CommandSender
      */
-    public void addChatMessage(ITextComponent component)
+    @Override
+	public void addChatMessage(ITextComponent component)
     {
         this.mc.ingameGUI.getChatGUI().printChatMessage(component);
     }
@@ -647,12 +724,14 @@
     /**
      * Returns {@code true} if the CommandSender is allowed to execute the command, {@code false} if not
      */
-    public boolean canCommandSenderUseCommand(int permLevel, String commandName)
+    @Override
+	public boolean canCommandSenderUseCommand(int permLevel, String commandName)
     {
         return permLevel <= this.getPermissionLevel();
     }
 
-    public void handleStatusUpdate(byte id)
+    @Override
+	public void handleStatusUpdate(byte id)
     {
         if (id >= 24 && id <= 28)
         {
@@ -668,12 +747,14 @@
      * Get the position in the world. <b>{@code null} is not allowed!</b> If you are not an entity in the world, return
      * the coordinates 0, 0, 0
      */
-    public BlockPos getPosition()
+    @Override
+	public BlockPos getPosition()
     {
         return new BlockPos(this.posX + 0.5D, this.posY + 0.5D, this.posZ + 0.5D);
     }
 
-    public void playSound(SoundEvent soundIn, float volume, float pitch)
+    @Override
+	public void playSound(SoundEvent soundIn, float volume, float pitch)
     {
         this.world.playSound(this.posX, this.posY, this.posZ, soundIn, this.getSoundCategory(), volume, pitch, false);
     }
@@ -681,12 +762,14 @@
     /**
      * Returns whether the entity is in a server world
      */
-    public boolean isServerWorld()
+    @Override
+	public boolean isServerWorld()
     {
         return true;
     }
 
-    public void setActiveHand(EnumHand hand)
+    @Override
+	public void setActiveHand(EnumHand hand)
     {
         ItemStack itemstack = this.getHeldItem(hand);
 
@@ -698,30 +781,34 @@
         }
     }
 
-    public boolean isHandActive()
+    @Override
+	public boolean isHandActive()
     {
         return this.handActive;
     }
 
-    public void resetActiveHand()
+    @Override
+	public void resetActiveHand()
     {
         super.resetActiveHand();
         this.handActive = false;
     }
 
-    public EnumHand getActiveHand()
+    @Override
+	public EnumHand getActiveHand()
     {
         return this.activeHand;
     }
 
-    public void notifyDataManagerChange(DataParameter<?> key)
+    @Override
+	public void notifyDataManagerChange(DataParameter<?> key)
     {
         super.notifyDataManagerChange(key);
 
         if (HAND_STATES.equals(key))
         {
-            boolean flag = (((Byte)this.dataManager.get(HAND_STATES)).byteValue() & 1) > 0;
-            EnumHand enumhand = (((Byte)this.dataManager.get(HAND_STATES)).byteValue() & 2) > 0 ? EnumHand.OFF_HAND : EnumHand.MAIN_HAND;
+            boolean flag = (this.dataManager.get(HAND_STATES).byteValue() & 1) > 0;
+            EnumHand enumhand = (this.dataManager.get(HAND_STATES).byteValue() & 2) > 0 ? EnumHand.OFF_HAND : EnumHand.MAIN_HAND;
 
             if (flag && !this.handActive)
             {
@@ -750,27 +837,32 @@
         return this.horseJumpPower;
     }
 
-    public void openEditSign(TileEntitySign signTile)
+    @Override
+	public void openEditSign(TileEntitySign signTile)
     {
         this.mc.displayGuiScreen(new GuiEditSign(signTile));
     }
 
-    public void displayGuiEditCommandCart(CommandBlockBaseLogic commandBlock)
+    @Override
+	public void displayGuiEditCommandCart(CommandBlockBaseLogic commandBlock)
     {
         this.mc.displayGuiScreen(new GuiEditCommandBlockMinecart(commandBlock));
     }
 
-    public void displayGuiCommandBlock(TileEntityCommandBlock commandBlock)
+    @Override
+	public void displayGuiCommandBlock(TileEntityCommandBlock commandBlock)
     {
         this.mc.displayGuiScreen(new GuiCommandBlock(commandBlock));
     }
 
-    public void openEditStructure(TileEntityStructure structure)
+    @Override
+	public void openEditStructure(TileEntityStructure structure)
     {
         this.mc.displayGuiScreen(new GuiEditStructure(structure));
     }
 
-    public void openBook(ItemStack stack, EnumHand hand)
+    @Override
+	public void openBook(ItemStack stack, EnumHand hand)
     {
         Item item = stack.getItem();
 
@@ -783,7 +875,8 @@
     /**
      * Displays the GUI for interacting with a chest inventory.
      */
-    public void displayGUIChest(IInventory chestInventory)
+    @Override
+	public void displayGUIChest(IInventory chestInventory)
     {
         String s = chestInventory instanceof IInteractionObject ? ((IInteractionObject)chestInventory).getGuiID() : "minecraft:container";
 
@@ -824,12 +917,14 @@
         }
     }
 
-    public void openGuiHorseInventory(AbstractHorse horse, IInventory inventoryIn)
+    @Override
+	public void openGuiHorseInventory(AbstractHorse horse, IInventory inventoryIn)
     {
         this.mc.displayGuiScreen(new GuiScreenHorseInventory(this.inventory, inventoryIn, horse));
     }
 
-    public void displayGui(IInteractionObject guiOwner)
+    @Override
+	public void displayGui(IInteractionObject guiOwner)
     {
         String s = guiOwner.getGuiID();
 
@@ -847,7 +942,8 @@
         }
     }
 
-    public void displayVillagerTradeGui(IMerchant villager)
+    @Override
+	public void displayVillagerTradeGui(IMerchant villager)
     {
         this.mc.displayGuiScreen(new GuiMerchant(this.inventory, villager, this.world));
     }
@@ -855,12 +951,14 @@
     /**
      * Called when the entity is dealt a critical hit.
      */
-    public void onCriticalHit(Entity entityHit)
+    @Override
+	public void onCriticalHit(Entity entityHit)
     {
         this.mc.effectRenderer.emitParticleAtEntity(entityHit, EnumParticleTypes.CRIT);
     }
 
-    public void onEnchantmentCritical(Entity entityHit)
+    @Override
+	public void onEnchantmentCritical(Entity entityHit)
     {
         this.mc.effectRenderer.emitParticleAtEntity(entityHit, EnumParticleTypes.CRIT_MAGIC);
     }
@@ -868,13 +966,15 @@
     /**
      * Returns if this entity is sneaking.
      */
-    public boolean isSneaking()
+    @Override
+	public boolean isSneaking()
     {
         boolean flag = this.movementInput != null && this.movementInput.sneak;
         return flag && !this.sleeping;
     }
 
-    public void updateEntityActionState()
+    @Override
+	public void updateEntityActionState()
     {
         super.updateEntityActionState();
 
@@ -885,8 +985,8 @@
             this.isJumping = this.movementInput.jump;
             this.prevRenderArmYaw = this.renderArmYaw;
             this.prevRenderArmPitch = this.renderArmPitch;
-            this.renderArmPitch = (float)((double)this.renderArmPitch + (double)(this.rotationPitch - this.renderArmPitch) * 0.5D);
-            this.renderArmYaw = (float)((double)this.renderArmYaw + (double)(this.rotationYaw - this.renderArmYaw) * 0.5D);
+            this.renderArmPitch = (float)(this.renderArmPitch + (this.rotationPitch - this.renderArmPitch) * 0.5D);
+            this.renderArmYaw = (float)(this.renderArmYaw + (this.rotationYaw - this.renderArmYaw) * 0.5D);
         }
     }
 
@@ -899,7 +999,8 @@
      * Called frequently so the entity can update its state every tick as required. For example, zombies and skeletons
      * use this to react to sunlight and start to burn.
      */
-    public void onLivingUpdate()
+    @Override
+	public void onLivingUpdate()
     {
         ++this.sprintingTicksLeft;
 
@@ -965,7 +1066,12 @@
         this.movementInput.updatePlayerMoveState();
         this.mc.func_193032_ao().func_193293_a(this.movementInput);
 
-        if (this.isHandActive() && !this.isRiding())
+		// TODO: Client
+		EventSlowdown event = new EventSlowdown(SlowdownType.Item_Use);
+		Event.sendEvent(event);
+
+		// TODO: Client => Add !event.isCanceled()
+		if (this.isHandActive() && !this.isRiding() && !event.isCanceled())
         {
             this.movementInput.moveStrafe *= 0.2F;
             this.movementInput.field_192832_b *= 0.2F;
@@ -982,11 +1088,16 @@
         }
 
         AxisAlignedBB axisalignedbb = this.getEntityBoundingBox();
-        this.pushOutOfBlocks(this.posX - (double)this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ + (double)this.width * 0.35D);
-        this.pushOutOfBlocks(this.posX - (double)this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ - (double)this.width * 0.35D);
-        this.pushOutOfBlocks(this.posX + (double)this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ - (double)this.width * 0.35D);
-        this.pushOutOfBlocks(this.posX + (double)this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ + (double)this.width * 0.35D);
-        boolean flag4 = (float)this.getFoodStats().getFoodLevel() > 6.0F || this.capabilities.allowFlying;
+        this.pushOutOfBlocks(this.posX - this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ + this.width * 0.35D);
+        this.pushOutOfBlocks(this.posX - this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ - this.width * 0.35D);
+        this.pushOutOfBlocks(this.posX + this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ - this.width * 0.35D);
+        this.pushOutOfBlocks(this.posX + this.width * 0.35D, axisalignedbb.minY + 0.5D, this.posZ + this.width * 0.35D);
+
+		// TODO: Client
+		event = new EventSlowdown(SlowdownType.Hunger);
+		Event.sendEvent(event);
+		boolean flag4 = this.getFoodStats().getFoodLevel() > 6.0F || this.capabilities.allowFlying
+				|| event.isCanceled();
 
         if (this.onGround && !flag1 && !flag2 && this.movementInput.field_192832_b >= 0.8F && !this.isSprinting() && flag4 && !this.isHandActive() && !this.isPotionActive(MobEffects.BLINDNESS))
         {
@@ -1000,7 +1111,13 @@
             }
         }
 
-        if (!this.isSprinting() && this.movementInput.field_192832_b >= 0.8F && flag4 && !this.isHandActive() && !this.isPotionActive(MobEffects.BLINDNESS) && this.mc.gameSettings.keyBindSprint.isKeyDown())
+		// TODO: Client
+		event = new EventSlowdown(SlowdownType.Blindness);
+		Event.sendEvent(event);
+
+		if (!this.isSprinting() && this.movementInput.field_192832_b >= 0.8F && flag4 && !this.isHandActive()
+				&& (!this.isPotionActive(MobEffects.BLINDNESS) || event.isCanceled())
+				&& this.mc.gameSettings.keyBindSprint.isKeyDown())
         {
             this.setSprinting(true);
         }
@@ -1051,14 +1168,14 @@
         {
             if (this.movementInput.sneak)
             {
-                this.movementInput.moveStrafe = (float)((double)this.movementInput.moveStrafe / 0.3D);
-                this.movementInput.field_192832_b = (float)((double)this.movementInput.field_192832_b / 0.3D);
-                this.motionY -= (double)(this.capabilities.getFlySpeed() * 3.0F);
+                this.movementInput.moveStrafe = (float)(this.movementInput.moveStrafe / 0.3D);
+                this.movementInput.field_192832_b = (float)(this.movementInput.field_192832_b / 0.3D);
+                this.motionY -= this.capabilities.getFlySpeed() * 3.0F;
             }
 
             if (this.movementInput.jump)
             {
-                this.motionY += (double)(this.capabilities.getFlySpeed() * 3.0F);
+                this.motionY += this.capabilities.getFlySpeed() * 3.0F;
             }
         }
 
@@ -1093,11 +1210,11 @@
 
                 if (this.horseJumpPowerCounter < 10)
                 {
-                    this.horseJumpPower = (float)this.horseJumpPowerCounter * 0.1F;
+                    this.horseJumpPower = this.horseJumpPowerCounter * 0.1F;
                 }
                 else
                 {
-                    this.horseJumpPower = 0.8F + 2.0F / (float)(this.horseJumpPowerCounter - 9) * 0.1F;
+                    this.horseJumpPower = 0.8F + 2.0F / (this.horseJumpPowerCounter - 9) * 0.1F;
                 }
             }
         }
@@ -1118,7 +1235,8 @@
     /**
      * Handles updating while being ridden by an entity
      */
-    public void updateRidden()
+    @Override
+	public void updateRidden()
     {
         super.updateRidden();
         this.rowingBoat = false;
@@ -1136,7 +1254,8 @@
         return this.rowingBoat;
     }
 
-    @Nullable
+    @Override
+	@Nullable
 
     /**
      * Removes the given potion effect from the active potion map and returns it. Does not call cleanup callbacks for
@@ -1156,7 +1275,8 @@
     /**
      * Tries to move the entity towards the specified location.
      */
-    public void moveEntity(MoverType x, double p_70091_2_, double p_70091_4_, double p_70091_6_)
+    @Override
+	public void moveEntity(MoverType x, double p_70091_2_, double p_70091_4_, double p_70091_6_)
     {
         double d0 = this.posX;
         double d1 = this.posZ;
@@ -1180,10 +1300,10 @@
                 if (vec2f.x != 0.0F || vec2f.y != 0.0F)
                 {
                     Vec3d vec3d = new Vec3d(this.posX, this.getEntityBoundingBox().minY, this.posZ);
-                    double d0 = this.posX + (double)p_189810_1_;
-                    double d1 = this.posZ + (double)p_189810_2_;
+                    double d0 = this.posX + p_189810_1_;
+                    double d1 = this.posZ + p_189810_2_;
                     Vec3d vec3d1 = new Vec3d(d0, this.getEntityBoundingBox().minY, d1);
-                    Vec3d vec3d2 = new Vec3d((double)p_189810_1_, 0.0D, (double)p_189810_2_);
+                    Vec3d vec3d2 = new Vec3d(p_189810_1_, 0.0D, p_189810_2_);
                     float f = this.getAIMoveSpeed();
                     float f1 = (float)vec3d2.lengthSquared();
 
@@ -1193,7 +1313,7 @@
                         float f3 = f * vec2f.y;
                         float f4 = MathHelper.sin(this.rotationYaw * 0.017453292F);
                         float f5 = MathHelper.cos(this.rotationYaw * 0.017453292F);
-                        vec3d2 = new Vec3d((double)(f2 * f5 - f3 * f4), vec3d2.yCoord, (double)(f3 * f5 + f2 * f4));
+                        vec3d2 = new Vec3d(f2 * f5 - f3 * f4, vec3d2.yCoord, f3 * f5 + f2 * f4);
                         f1 = (float)vec3d2.lengthSquared();
 
                         if (f1 <= 0.001F)
@@ -1202,8 +1322,8 @@
                         }
                     }
 
-                    float f12 = (float)MathHelper.fastInvSqrt((double)f1);
-                    Vec3d vec3d12 = vec3d2.scale((double)f12);
+                    float f12 = (float)MathHelper.fastInvSqrt(f1);
+                    Vec3d vec3d12 = vec3d2.scale(f12);
                     Vec3d vec3d13 = this.getForward();
                     float f13 = (float)(vec3d13.xCoord * vec3d12.xCoord + vec3d13.zCoord * vec3d12.zCoord);
 
@@ -1224,18 +1344,18 @@
 
                                 if (this.isPotionActive(MobEffects.JUMP_BOOST))
                                 {
-                                    f7 += (float)(this.getActivePotionEffect(MobEffects.JUMP_BOOST).getAmplifier() + 1) * 0.75F;
+                                    f7 += (this.getActivePotionEffect(MobEffects.JUMP_BOOST).getAmplifier() + 1) * 0.75F;
                                 }
 
                                 float f8 = Math.max(f * 7.0F, 1.0F / f12);
-                                Vec3d vec3d4 = vec3d1.add(vec3d12.scale((double)f8));
+                                Vec3d vec3d4 = vec3d1.add(vec3d12.scale(f8));
                                 float f9 = this.width;
                                 float f10 = this.height;
-                                AxisAlignedBB axisalignedbb = (new AxisAlignedBB(vec3d, vec3d4.addVector(0.0D, (double)f10, 0.0D))).expand((double)f9, 0.0D, (double)f9);
+                                AxisAlignedBB axisalignedbb = (new AxisAlignedBB(vec3d, vec3d4.addVector(0.0D, f10, 0.0D))).expand(f9, 0.0D, f9);
                                 Vec3d lvt_19_1_ = vec3d.addVector(0.0D, 0.5099999904632568D, 0.0D);
                                 vec3d4 = vec3d4.addVector(0.0D, 0.5099999904632568D, 0.0D);
                                 Vec3d vec3d5 = vec3d12.crossProduct(new Vec3d(0.0D, 1.0D, 0.0D));
-                                Vec3d vec3d6 = vec3d5.scale((double)(f9 * 0.5F));
+                                Vec3d vec3d6 = vec3d5.scale(f9 * 0.5F);
                                 Vec3d vec3d7 = lvt_19_1_.subtract(vec3d6);
                                 Vec3d vec3d8 = vec3d4.subtract(vec3d6);
                                 Vec3d vec3d9 = lvt_19_1_.add(vec3d6);
@@ -1261,7 +1381,7 @@
 
                                         while (true)
                                         {
-                                            if ((float)i >= f7)
+                                            if (i >= f7)
                                             {
                                                 break label86;
                                             }
@@ -1272,9 +1392,9 @@
 
                                             if ((axisalignedbb1 = iblockstate2.getCollisionBoundingBox(this.world, blockpos2)) != null)
                                             {
-                                                f11 = (float)axisalignedbb1.maxY + (float)blockpos2.getY();
+                                                f11 = (float)axisalignedbb1.maxY + blockpos2.getY();
 
-                                                if ((double)f11 - this.getEntityBoundingBox().minY > (double)f7)
+                                                if (f11 - this.getEntityBoundingBox().minY > f7)
                                                 {
                                                     return;
                                                 }
@@ -1298,7 +1418,7 @@
 
                                 if (f11 != Float.MIN_VALUE)
                                 {
-                                    float f14 = (float)((double)f11 - this.getEntityBoundingBox().minY);
+                                    float f14 = (float)(f11 - this.getEntityBoundingBox().minY);
 
                                     if (f14 > 0.5F && f14 <= f7)
                                     {
diff -ur original/client/gui/FontRenderer.java minecraft/client/gui/FontRenderer.java
--- original/client/gui/FontRenderer.java	2017-06-17 13:16:29.783941000 +0200
+++ minecraft/client/gui/FontRenderer.java	2017-06-14 13:00:34.226080700 +0200
@@ -849,7 +849,7 @@
     /**
      * Inserts newline and formatting into a string to wrap it within the specified width.
      */
-    String wrapFormattedStringToWidth(String str, int wrapWidth)
+    public String wrapFormattedStringToWidth(String str, int wrapWidth)
     {
         int i = this.sizeStringToWidth(str, wrapWidth);
 
diff -ur original/client/gui/GuiChat.java minecraft/client/gui/GuiChat.java
--- original/client/gui/GuiChat.java	2017-06-17 13:16:29.828984000 +0200
+++ minecraft/client/gui/GuiChat.java	2017-06-14 13:07:24.910555400 +0200
@@ -15,6 +15,8 @@
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
 
+import me.deftware.client.framework.InternalClasses.InternalGuiTextField;
+
 public class GuiChat extends GuiScreen implements ITabCompleter
 {
     private static final Logger LOGGER = LogManager.getLogger();
@@ -52,7 +54,8 @@
     {
         Keyboard.enableRepeatEvents(true);
         this.sentHistoryCursor = this.mc.ingameGUI.getChatGUI().getSentMessages().size();
-        this.inputField = new GuiTextField(0, this.fontRendererObj, 4, this.height - 12, this.width - 4, 12);
+        // TODO: GuiTextField => InternalGuiTextField
+        this.inputField = new InternalGuiTextField(0, this.fontRendererObj, 4, this.height - 12, this.width - 4, 12);
         this.inputField.setMaxStringLength(256);
         this.inputField.setEnableBackgroundDrawing(false);
         this.inputField.setFocused(true);
diff -ur original/client/gui/GuiDisconnected.java minecraft/client/gui/GuiDisconnected.java
--- original/client/gui/GuiDisconnected.java	2017-06-17 13:16:29.936087000 +0200
+++ minecraft/client/gui/GuiDisconnected.java	2017-06-16 19:37:41.392622200 +0200
@@ -2,6 +2,11 @@
 
 import java.io.IOException;
 import java.util.List;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventDisconnected;
+import me.deftware.client.framework.Event.Events.EventGuiScreenDraw;
+import me.deftware.client.framework.Event.Events.EventGuiScreenUpdate;
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.text.ITextComponent;
 
@@ -15,6 +20,8 @@
 
     public GuiDisconnected(GuiScreen screen, String reasonLocalizationKey, ITextComponent chatComp)
     {
+		// TODO: Client
+		Event.sendEvent(new EventDisconnected());
         this.parentScreen = screen;
         this.reason = I18n.format(reasonLocalizationKey);
         this.message = chatComp;
@@ -24,7 +31,8 @@
      * Fired when a key is typed (except F11 which toggles full screen). This is the equivalent of
      * KeyListener.keyTyped(KeyEvent e). Args : character (character on the key), keyCode (lwjgl Keyboard key code)
      */
-    protected void keyTyped(char typedChar, int keyCode) throws IOException
+    @Override
+	protected void keyTyped(char typedChar, int keyCode) throws IOException
     {
     }
 
@@ -32,7 +40,8 @@
      * Adds the buttons (and other controls) to the screen in question. Called when the GUI is displayed and when the
      * window resizes, the buttonList is cleared beforehand.
      */
-    public void initGui()
+    @Override
+	public void initGui()
     {
         this.buttonList.clear();
         this.multilineMessage = this.fontRendererObj.listFormattedStringToWidth(this.message.getFormattedText(), this.width - 50);
@@ -43,7 +52,8 @@
     /**
      * Called by the controls from the buttonList when activated. (Mouse pressed for buttons)
      */
-    protected void actionPerformed(GuiButton button) throws IOException
+    @Override
+	protected void actionPerformed(GuiButton button) throws IOException
     {
         if (button.id == 0)
         {
@@ -51,10 +61,18 @@
         }
     }
 
+	@Override
+	public void updateScreen() {
+		super.updateScreen();
+		// TODO: Client
+		Event.sendEvent(new EventGuiScreenUpdate());
+	}
+
     /**
      * Draws the screen and all the components in it.
      */
-    public void drawScreen(int mouseX, int mouseY, float partialTicks)
+    @Override
+	public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         this.drawDefaultBackground();
         this.drawCenteredString(this.fontRendererObj, this.reason, this.width / 2, this.height / 2 - this.textHeight / 2 - this.fontRendererObj.FONT_HEIGHT * 2, 11184810);
@@ -69,6 +87,10 @@
             }
         }
 
+		// TODO: Client
+		EventGuiScreenDraw event = new EventGuiScreenDraw(this);
+		Event.sendEvent(event);
+
         super.drawScreen(mouseX, mouseY, partialTicks);
     }
 }
diff -ur original/client/gui/GuiGameOver.java minecraft/client/gui/GuiGameOver.java
--- original/client/gui/GuiGameOver.java	2017-06-17 13:16:29.978127000 +0200
+++ minecraft/client/gui/GuiGameOver.java	2017-06-16 18:42:45.704680500 +0200
@@ -1,7 +1,11 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
 import javax.annotation.Nullable;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventGameOver;
 import net.minecraft.client.multiplayer.WorldClient;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.resources.I18n;
@@ -25,8 +29,12 @@
      * Adds the buttons (and other controls) to the screen in question. Called when the GUI is displayed and when the
      * window resizes, the buttonList is cleared beforehand.
      */
-    public void initGui()
+    @Override
+	public void initGui()
     {
+		// TODO: Client
+		Event.sendEvent(new EventGameOver());
+
         this.buttonList.clear();
         this.enableButtonsTimer = 0;
 
@@ -56,14 +64,16 @@
      * Fired when a key is typed (except F11 which toggles full screen). This is the equivalent of
      * KeyListener.keyTyped(KeyEvent e). Args : character (character on the key), keyCode (lwjgl Keyboard key code)
      */
-    protected void keyTyped(char typedChar, int keyCode) throws IOException
+    @Override
+	protected void keyTyped(char typedChar, int keyCode) throws IOException
     {
     }
 
     /**
      * Called by the controls from the buttonList when activated. (Mouse pressed for buttons)
      */
-    protected void actionPerformed(GuiButton button) throws IOException
+    @Override
+	protected void actionPerformed(GuiButton button) throws IOException
     {
         switch (button.id)
         {
@@ -86,7 +96,8 @@
         }
     }
 
-    public void confirmClicked(boolean result, int id)
+    @Override
+	public void confirmClicked(boolean result, int id)
     {
         if (result)
         {
@@ -108,7 +119,8 @@
     /**
      * Draws the screen and all the components in it.
      */
-    public void drawScreen(int mouseX, int mouseY, float partialTicks)
+    @Override
+	public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         boolean flag = this.mc.world.getWorldInfo().isHardcoreModeEnabled();
         this.drawGradientRect(0, 0, this.width, this.height, 1615855616, -1602211792);
@@ -175,7 +187,8 @@
     /**
      * Returns true if this GUI should pause the game when it is displayed in single-player
      */
-    public boolean doesGuiPauseGame()
+    @Override
+	public boolean doesGuiPauseGame()
     {
         return false;
     }
@@ -183,7 +196,8 @@
     /**
      * Called from the main game loop to update the screen.
      */
-    public void updateScreen()
+    @Override
+	public void updateScreen()
     {
         super.updateScreen();
         ++this.enableButtonsTimer;
diff -ur original/client/gui/GuiIngame.java minecraft/client/gui/GuiIngame.java
--- original/client/gui/GuiIngame.java	2017-06-17 13:16:29.989138000 +0200
+++ minecraft/client/gui/GuiIngame.java	2017-06-16 13:39:20.747375400 +0200
@@ -1,15 +1,21 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Predicate;
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
-import com.google.common.collect.Maps;
-import com.google.common.collect.Ordering;
 import java.util.Collection;
 import java.util.List;
 import java.util.Map;
 import java.util.Random;
+
 import javax.annotation.Nullable;
+
+import com.google.common.base.Predicate;
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
+import com.google.common.collect.Maps;
+import com.google.common.collect.Ordering;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventPostHotbar;
+import me.deftware.client.framework.Event.Events.EventRender2D;
 import net.minecraft.block.material.Material;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.chat.IChatListener;
@@ -160,6 +166,10 @@
         int i = scaledresolution.getScaledWidth();
         int j = scaledresolution.getScaledHeight();
         FontRenderer fontrenderer = this.getFontRenderer();
+        
+        // TODO: Client
+        Event.sendEvent(new EventRender2D(partialTicks));
+        
         GlStateManager.enableBlend();
 
         if (Minecraft.isFancyGraphicsEnabled())
@@ -198,6 +208,9 @@
             this.renderHotbar(scaledresolution, partialTicks);
         }
 
+		// TODO: Client
+		Event.sendEvent(new EventPostHotbar());
+
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         this.mc.getTextureManager().bindTexture(ICONS);
         GlStateManager.enableBlend();
@@ -223,11 +236,11 @@
             GlStateManager.disableDepth();
             GlStateManager.disableAlpha();
             int j1 = this.mc.player.getSleepTimer();
-            float f1 = (float)j1 / 100.0F;
+            float f1 = j1 / 100.0F;
 
             if (f1 > 1.0F)
             {
-                f1 = 1.0F - (float)(j1 - 100) / 10.0F;
+                f1 = 1.0F - (j1 - 100) / 10.0F;
             }
 
             int k = (int)(220.0F * f1) << 24 | 1052704;
@@ -273,7 +286,7 @@
         if (this.recordPlayingUpFor > 0)
         {
             this.mc.mcProfiler.startSection("overlayMessage");
-            float f2 = (float)this.recordPlayingUpFor - partialTicks;
+            float f2 = this.recordPlayingUpFor - partialTicks;
             int l1 = (int)(f2 * 255.0F / 20.0F);
 
             if (l1 > 255)
@@ -284,7 +297,7 @@
             if (l1 > 8)
             {
                 GlStateManager.pushMatrix();
-                GlStateManager.translate((float)(i / 2), (float)(j - 68), 0.0F);
+                GlStateManager.translate(i / 2, j - 68, 0.0F);
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
                 int l = 16777215;
@@ -307,18 +320,18 @@
         if (this.titlesTimer > 0)
         {
             this.mc.mcProfiler.startSection("titleAndSubtitle");
-            float f3 = (float)this.titlesTimer - partialTicks;
+            float f3 = this.titlesTimer - partialTicks;
             int i2 = 255;
 
             if (this.titlesTimer > this.titleFadeOut + this.titleDisplayTime)
             {
-                float f4 = (float)(this.titleFadeIn + this.titleDisplayTime + this.titleFadeOut) - f3;
-                i2 = (int)(f4 * 255.0F / (float)this.titleFadeIn);
+                float f4 = this.titleFadeIn + this.titleDisplayTime + this.titleFadeOut - f3;
+                i2 = (int)(f4 * 255.0F / this.titleFadeIn);
             }
 
             if (this.titlesTimer <= this.titleFadeOut)
             {
-                i2 = (int)(f3 * 255.0F / (float)this.titleFadeOut);
+                i2 = (int)(f3 * 255.0F / this.titleFadeOut);
             }
 
             i2 = MathHelper.clamp(i2, 0, 255);
@@ -326,17 +339,17 @@
             if (i2 > 8)
             {
                 GlStateManager.pushMatrix();
-                GlStateManager.translate((float)(i / 2), (float)(j / 2), 0.0F);
+                GlStateManager.translate(i / 2, j / 2, 0.0F);
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(4.0F, 4.0F, 4.0F);
                 int j2 = i2 << 24 & -16777216;
-                fontrenderer.drawString(this.displayedTitle, (float)(-fontrenderer.getStringWidth(this.displayedTitle) / 2), -10.0F, 16777215 | j2, true);
+                fontrenderer.drawString(this.displayedTitle, -fontrenderer.getStringWidth(this.displayedTitle) / 2, -10.0F, 16777215 | j2, true);
                 GlStateManager.popMatrix();
                 GlStateManager.pushMatrix();
                 GlStateManager.scale(2.0F, 2.0F, 2.0F);
-                fontrenderer.drawString(this.displayedSubTitle, (float)(-fontrenderer.getStringWidth(this.displayedSubTitle) / 2), 5.0F, 16777215 | j2, true);
+                fontrenderer.drawString(this.displayedSubTitle, -fontrenderer.getStringWidth(this.displayedSubTitle) / 2, 5.0F, 16777215 | j2, true);
                 GlStateManager.popMatrix();
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
@@ -370,7 +383,7 @@
         GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
         GlStateManager.disableAlpha();
         GlStateManager.pushMatrix();
-        GlStateManager.translate(0.0F, (float)(j - 48), 0.0F);
+        GlStateManager.translate(0.0F, j - 48, 0.0F);
         this.mc.mcProfiler.startSection("chat");
         this.persistantChatGUI.drawChat(this.updateCounter);
         this.mc.mcProfiler.endSection();
@@ -421,7 +434,7 @@
             if (gamesettings.showDebugInfo && !gamesettings.hideGUI && !this.mc.player.hasReducedDebug() && !gamesettings.reducedDebugInfo)
             {
                 GlStateManager.pushMatrix();
-                GlStateManager.translate((float)(l / 2), (float)(i1 / 2), this.zLevel);
+                GlStateManager.translate(l / 2, i1 / 2, this.zLevel);
                 Entity entity = this.mc.getRenderViewEntity();
                 GlStateManager.rotate(entity.prevRotationPitch + (entity.rotationPitch - entity.prevRotationPitch) * p_184045_1_, -1.0F, 0.0F, 0.0F);
                 GlStateManager.rotate(entity.prevRotationYaw + (entity.rotationYaw - entity.prevRotationYaw) * p_184045_1_, 0.0F, 1.0F, 0.0F);
@@ -517,7 +530,7 @@
                         if (potioneffect.getDuration() <= 200)
                         {
                             int j1 = 10 - potioneffect.getDuration() / 20;
-                            f = MathHelper.clamp((float)potioneffect.getDuration() / 10.0F / 5.0F * 0.5F, 0.0F, 0.5F) + MathHelper.cos((float)potioneffect.getDuration() * (float)Math.PI / 5.0F) * MathHelper.clamp((float)j1 / 10.0F * 0.25F, 0.0F, 0.25F);
+                            f = MathHelper.clamp(potioneffect.getDuration() / 10.0F / 5.0F * 0.5F, 0.0F, 0.5F) + MathHelper.cos(potioneffect.getDuration() * (float)Math.PI / 5.0F) * MathHelper.clamp(j1 / 10.0F * 0.25F, 0.0F, 0.25F);
                         }
                     }
 
@@ -687,7 +700,7 @@
                 j += 14;
             }
 
-            int k = (int)((float)this.remainingHighlightTicks * 256.0F / 10.0F);
+            int k = (int)(this.remainingHighlightTicks * 256.0F / 10.0F);
 
             if (k > 255)
             {
@@ -699,7 +712,7 @@
                 GlStateManager.pushMatrix();
                 GlStateManager.enableBlend();
                 GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
-                this.getFontRenderer().drawStringWithShadow(s, (float)i, (float)j, 16777215 + (k << 24));
+                this.getFontRenderer().drawStringWithShadow(s, i, j, 16777215 + (k << 24));
                 GlStateManager.disableBlend();
                 GlStateManager.popMatrix();
             }
@@ -723,7 +736,7 @@
         }
 
         int i = this.getFontRenderer().getStringWidth(s);
-        this.getFontRenderer().drawStringWithShadow(s, (float)(scaledRes.getScaledWidth() - i - 10), 5.0F, 16777215);
+        this.getFontRenderer().drawStringWithShadow(s, scaledRes.getScaledWidth() - i - 10, 5.0F, 16777215);
         this.mc.mcProfiler.endSection();
     }
 
@@ -733,7 +746,8 @@
         Collection<Score> collection = scoreboard.getSortedScores(objective);
         List<Score> list = Lists.newArrayList(Iterables.filter(collection, new Predicate<Score>()
         {
-            public boolean apply(@Nullable Score p_apply_1_)
+            @Override
+			public boolean apply(@Nullable Score p_apply_1_)
             {
                 return p_apply_1_.getPlayerName() != null && !p_apply_1_.getPlayerName().startsWith("#");
             }
@@ -791,17 +805,17 @@
         {
             EntityPlayer entityplayer = (EntityPlayer)this.mc.getRenderViewEntity();
             int i = MathHelper.ceil(entityplayer.getHealth());
-            boolean flag = this.healthUpdateCounter > (long)this.updateCounter && (this.healthUpdateCounter - (long)this.updateCounter) / 3L % 2L == 1L;
+            boolean flag = this.healthUpdateCounter > this.updateCounter && (this.healthUpdateCounter - this.updateCounter) / 3L % 2L == 1L;
 
             if (i < this.playerHealth && entityplayer.hurtResistantTime > 0)
             {
                 this.lastSystemTime = Minecraft.getSystemTime();
-                this.healthUpdateCounter = (long)(this.updateCounter + 20);
+                this.healthUpdateCounter = this.updateCounter + 20;
             }
             else if (i > this.playerHealth && entityplayer.hurtResistantTime > 0)
             {
                 this.lastSystemTime = Minecraft.getSystemTime();
-                this.healthUpdateCounter = (long)(this.updateCounter + 10);
+                this.healthUpdateCounter = this.updateCounter + 10;
             }
 
             if (Minecraft.getSystemTime() - this.lastSystemTime > 1000L)
@@ -813,7 +827,7 @@
 
             this.playerHealth = i;
             int j = this.lastPlayerHealth;
-            this.rand.setSeed((long)(this.updateCounter * 312871));
+            this.rand.setSeed(this.updateCounter * 312871);
             FoodStats foodstats = entityplayer.getFoodStats();
             int k = foodstats.getFoodLevel();
             IAttributeInstance iattributeinstance = entityplayer.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH);
@@ -822,7 +836,7 @@
             int j1 = scaledRes.getScaledHeight() - 39;
             float f = (float)iattributeinstance.getAttributeValue();
             int k1 = MathHelper.ceil(entityplayer.getAbsorptionAmount());
-            int l1 = MathHelper.ceil((f + (float)k1) / 2.0F / 10.0F);
+            int l1 = MathHelper.ceil((f + k1) / 2.0F / 10.0F);
             int i2 = Math.max(10 - (l1 - 2), 3);
             int j2 = j1 - (l1 - 1) * i2 - 10;
             int k2 = j1 - 10;
@@ -862,7 +876,7 @@
 
             this.mc.mcProfiler.endStartSection("health");
 
-            for (int j5 = MathHelper.ceil((f + (float)k1) / 2.0F) - 1; j5 >= 0; --j5)
+            for (int j5 = MathHelper.ceil((f + k1) / 2.0F) - 1; j5 >= 0; --j5)
             {
                 int k5 = 16;
 
@@ -882,7 +896,7 @@
                     i4 = 1;
                 }
 
-                int j4 = MathHelper.ceil((float)(j5 + 1) / 10.0F) - 1;
+                int j4 = MathHelper.ceil((j5 + 1) / 10.0F) - 1;
                 int k4 = l + j5 % 10 * 8;
                 int l4 = j1 - j4 * i2;
 
@@ -988,8 +1002,8 @@
             if (entityplayer.isInsideOfMaterial(Material.WATER))
             {
                 int i6 = this.mc.player.getAir();
-                int k6 = MathHelper.ceil((double)(i6 - 2) * 10.0D / 300.0D);
-                int i7 = MathHelper.ceil((double)i6 * 10.0D / 300.0D) - k6;
+                int k6 = MathHelper.ceil((i6 - 2) * 10.0D / 300.0D);
+                int i7 = MathHelper.ceil(i6 * 10.0D / 300.0D) - k6;
 
                 for (int k7 = 0; k7 < k6 + i7; ++k7)
                 {
@@ -1019,7 +1033,7 @@
             {
                 this.mc.mcProfiler.endStartSection("mountHealth");
                 EntityLivingBase entitylivingbase = (EntityLivingBase)entity;
-                int i = (int)Math.ceil((double)entitylivingbase.getHealth());
+                int i = (int)Math.ceil(entitylivingbase.getHealth());
                 float f = entitylivingbase.getMaxHealth();
                 int j = (int)(f + 0.5F) / 2;
 
@@ -1073,9 +1087,9 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
-        bufferbuilder.pos(0.0D, (double)scaledRes.getScaledHeight(), -90.0D).tex(0.0D, 1.0D).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), (double)scaledRes.getScaledHeight(), -90.0D).tex(1.0D, 1.0D).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), 0.0D, -90.0D).tex(1.0D, 0.0D).endVertex();
+        bufferbuilder.pos(0.0D, scaledRes.getScaledHeight(), -90.0D).tex(0.0D, 1.0D).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), scaledRes.getScaledHeight(), -90.0D).tex(1.0D, 1.0D).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), 0.0D, -90.0D).tex(1.0D, 0.0D).endVertex();
         bufferbuilder.pos(0.0D, 0.0D, -90.0D).tex(0.0D, 0.0D).endVertex();
         tessellator.draw();
         GlStateManager.depthMask(true);
@@ -1093,19 +1107,19 @@
         lightLevel = MathHelper.clamp(lightLevel, 0.0F, 1.0F);
         WorldBorder worldborder = this.mc.world.getWorldBorder();
         float f = (float)worldborder.getClosestDistance(this.mc.player);
-        double d0 = Math.min(worldborder.getResizeSpeed() * (double)worldborder.getWarningTime() * 1000.0D, Math.abs(worldborder.getTargetSize() - worldborder.getDiameter()));
-        double d1 = Math.max((double)worldborder.getWarningDistance(), d0);
+        double d0 = Math.min(worldborder.getResizeSpeed() * worldborder.getWarningTime() * 1000.0D, Math.abs(worldborder.getTargetSize() - worldborder.getDiameter()));
+        double d1 = Math.max(worldborder.getWarningDistance(), d0);
 
-        if ((double)f < d1)
+        if (f < d1)
         {
-            f = 1.0F - (float)((double)f / d1);
+            f = 1.0F - (float)(f / d1);
         }
         else
         {
             f = 0.0F;
         }
 
-        this.prevVignetteBrightness = (float)((double)this.prevVignetteBrightness + (double)(lightLevel - this.prevVignetteBrightness) * 0.01D);
+        this.prevVignetteBrightness = (float)(this.prevVignetteBrightness + (lightLevel - this.prevVignetteBrightness) * 0.01D);
         GlStateManager.disableDepth();
         GlStateManager.depthMask(false);
         GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.ZERO, GlStateManager.DestFactor.ONE_MINUS_SRC_COLOR, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
@@ -1123,9 +1137,9 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
-        bufferbuilder.pos(0.0D, (double)scaledRes.getScaledHeight(), -90.0D).tex(0.0D, 1.0D).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), (double)scaledRes.getScaledHeight(), -90.0D).tex(1.0D, 1.0D).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), 0.0D, -90.0D).tex(1.0D, 0.0D).endVertex();
+        bufferbuilder.pos(0.0D, scaledRes.getScaledHeight(), -90.0D).tex(0.0D, 1.0D).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), scaledRes.getScaledHeight(), -90.0D).tex(1.0D, 1.0D).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), 0.0D, -90.0D).tex(1.0D, 0.0D).endVertex();
         bufferbuilder.pos(0.0D, 0.0D, -90.0D).tex(0.0D, 0.0D).endVertex();
         tessellator.draw();
         GlStateManager.depthMask(true);
@@ -1157,10 +1171,10 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
-        bufferbuilder.pos(0.0D, (double)scaledRes.getScaledHeight(), -90.0D).tex((double)f, (double)f3).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), (double)scaledRes.getScaledHeight(), -90.0D).tex((double)f2, (double)f3).endVertex();
-        bufferbuilder.pos((double)scaledRes.getScaledWidth(), 0.0D, -90.0D).tex((double)f2, (double)f1).endVertex();
-        bufferbuilder.pos(0.0D, 0.0D, -90.0D).tex((double)f, (double)f1).endVertex();
+        bufferbuilder.pos(0.0D, scaledRes.getScaledHeight(), -90.0D).tex(f, f3).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), scaledRes.getScaledHeight(), -90.0D).tex(f2, f3).endVertex();
+        bufferbuilder.pos(scaledRes.getScaledWidth(), 0.0D, -90.0D).tex(f2, f1).endVertex();
+        bufferbuilder.pos(0.0D, 0.0D, -90.0D).tex(f, f1).endVertex();
         tessellator.draw();
         GlStateManager.depthMask(true);
         GlStateManager.enableDepth();
@@ -1172,15 +1186,15 @@
     {
         if (!stack.func_190926_b())
         {
-            float f = (float)stack.func_190921_D() - p_184044_3_;
+            float f = stack.func_190921_D() - p_184044_3_;
 
             if (f > 0.0F)
             {
                 GlStateManager.pushMatrix();
                 float f1 = 1.0F + f / 5.0F;
-                GlStateManager.translate((float)(p_184044_1_ + 8), (float)(p_184044_2_ + 12), 0.0F);
+                GlStateManager.translate(p_184044_1_ + 8, p_184044_2_ + 12, 0.0F);
                 GlStateManager.scale(1.0F / f1, (f1 + 1.0F) / 2.0F, 1.0F);
-                GlStateManager.translate((float)(-(p_184044_1_ + 8)), (float)(-(p_184044_2_ + 12)), 0.0F);
+                GlStateManager.translate((-(p_184044_1_ + 8)), (-(p_184044_2_ + 12)), 0.0F);
             }
 
             this.itemRenderer.renderItemAndEffectIntoGUI(player, stack, p_184044_1_, p_184044_2_);
diff -ur original/client/gui/GuiIngameMenu.java minecraft/client/gui/GuiIngameMenu.java
--- original/client/gui/GuiIngameMenu.java	2017-06-17 13:16:29.998647000 +0200
+++ minecraft/client/gui/GuiIngameMenu.java	2017-06-17 09:59:38.902870900 +0200
@@ -1,6 +1,10 @@
 package net.minecraft.client.gui;
 
 import java.io.IOException;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventActionPerformed;
+import me.deftware.client.framework.Event.Events.EventGuiScreenDraw;
 import net.minecraft.client.gui.achievement.GuiStats;
 import net.minecraft.client.gui.advancements.GuiScreenAdvancements;
 import net.minecraft.client.multiplayer.WorldClient;
@@ -16,7 +20,8 @@
      * Adds the buttons (and other controls) to the screen in question. Called when the GUI is displayed and when the
      * window resizes, the buttonList is cleared beforehand.
      */
-    public void initGui()
+    @Override
+	public void initGui()
     {
         this.saveStep = 0;
         this.buttonList.clear();
@@ -40,8 +45,14 @@
     /**
      * Called by the controls from the buttonList when activated. (Mouse pressed for buttons)
      */
-    protected void actionPerformed(GuiButton button) throws IOException
+    @Override
+	protected void actionPerformed(GuiButton button) throws IOException
     {
+
+		// TODO: Client
+		EventActionPerformed event = new EventActionPerformed(this, button.id);
+		Event.sendEvent(event);
+
         switch (button.id)
         {
             case 0:
@@ -95,7 +106,8 @@
     /**
      * Called from the main game loop to update the screen.
      */
-    public void updateScreen()
+    @Override
+	public void updateScreen()
     {
         super.updateScreen();
         ++this.visibleTime;
@@ -104,10 +116,16 @@
     /**
      * Draws the screen and all the components in it.
      */
-    public void drawScreen(int mouseX, int mouseY, float partialTicks)
+    @Override
+	public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         this.drawDefaultBackground();
         this.drawCenteredString(this.fontRendererObj, I18n.format("menu.game"), this.width / 2, 40, 16777215);
+
+		// TODO: Client
+		EventGuiScreenDraw event = new EventGuiScreenDraw(this);
+		Event.sendEvent(event);
+
         super.drawScreen(mouseX, mouseY, partialTicks);
     }
 }
diff -ur original/client/gui/GuiNewChat.java minecraft/client/gui/GuiNewChat.java
--- original/client/gui/GuiNewChat.java	2017-06-17 13:16:30.113257000 +0200
+++ minecraft/client/gui/GuiNewChat.java	2017-06-16 23:33:30.692881900 +0200
@@ -1,17 +1,23 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.Lists;
 import java.util.Iterator;
 import java.util.List;
+
 import javax.annotation.Nullable;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
+import com.google.common.collect.Lists;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventChatReceive;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.entity.player.EntityPlayer;
 import net.minecraft.util.math.MathHelper;
 import net.minecraft.util.text.ITextComponent;
 import net.minecraft.util.text.TextComponentString;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 
 public class GuiNewChat extends Gui
 {
@@ -46,7 +52,7 @@
                 }
 
                 float f1 = this.getChatScale();
-                int k = MathHelper.ceil((float)this.getChatWidth() / f1);
+                int k = MathHelper.ceil(this.getChatWidth() / f1);
                 GlStateManager.pushMatrix();
                 GlStateManager.translate(2.0F, 8.0F, 0.0F);
                 GlStateManager.scale(f1, f1, 1.0F);
@@ -62,7 +68,7 @@
 
                         if (j1 < 200 || flag)
                         {
-                            double d0 = (double)j1 / 200.0D;
+                            double d0 = j1 / 200.0D;
                             d0 = 1.0D - d0;
                             d0 = d0 * 10.0D;
                             d0 = MathHelper.clamp(d0, 0.0D, 1.0D);
@@ -74,7 +80,7 @@
                                 l1 = 255;
                             }
 
-                            l1 = (int)((float)l1 * f);
+                            l1 = (int)(l1 * f);
                             ++l;
 
                             if (l1 > 3)
@@ -84,7 +90,7 @@
                                 drawRect(-2, j2 - 9, 0 + k + 4, j2, l1 / 2 << 24);
                                 String s = chatline.getChatComponent().getFormattedText();
                                 GlStateManager.enableBlend();
-                                this.mc.fontRendererObj.drawStringWithShadow(s, 0.0F, (float)(j2 - 8), 16777215 + (l1 << 24));
+                                this.mc.fontRendererObj.drawStringWithShadow(s, 0.0F, j2 - 8, 16777215 + (l1 << 24));
                                 GlStateManager.disableAlpha();
                                 GlStateManager.disableBlend();
                             }
@@ -139,18 +145,25 @@
      */
     public void printChatMessageWithOptionalDeletion(ITextComponent chatComponent, int chatLineId)
     {
+		// TODO: Client
+		EventChatReceive event = new EventChatReceive(chatComponent);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+		chatComponent = event.getItc();
         this.setChatLine(chatComponent, chatLineId, this.mc.ingameGUI.getUpdateCounter(), false);
-        LOGGER.info("[CHAT] {}", (Object)chatComponent.getUnformattedText().replaceAll("\r", "\\\\r").replaceAll("\n", "\\\\n"));
+        LOGGER.info("[CHAT] {}", chatComponent.getUnformattedText().replaceAll("\r", "\\\\r").replaceAll("\n", "\\\\n"));
     }
 
-    private void setChatLine(ITextComponent chatComponent, int chatLineId, int updateCounter, boolean displayOnly)
+    public void setChatLine(ITextComponent chatComponent, int chatLineId, int updateCounter, boolean displayOnly)
     {
         if (chatLineId != 0)
         {
             this.deleteChatLine(chatLineId);
         }
 
-        int i = MathHelper.floor((float)this.getChatWidth() / this.getChatScale());
+        int i = MathHelper.floor(this.getChatWidth() / this.getChatScale());
         List<ITextComponent> list = GuiUtilRenderComponents.splitText(chatComponent, i, this.mc.fontRendererObj, false, false);
         boolean flag = this.getChatOpen();
 
@@ -203,7 +216,7 @@
      */
     public void addToSentMessages(String message)
     {
-        if (this.sentMessages.isEmpty() || !((String)this.sentMessages.get(this.sentMessages.size() - 1)).equals(message))
+        if (this.sentMessages.isEmpty() || !this.sentMessages.get(this.sentMessages.size() - 1).equals(message))
         {
             this.sentMessages.add(message);
         }
@@ -256,14 +269,14 @@
             float f = this.getChatScale();
             int j = mouseX / i - 2;
             int k = mouseY / i - 40;
-            j = MathHelper.floor((float)j / f);
-            k = MathHelper.floor((float)k / f);
+            j = MathHelper.floor(j / f);
+            k = MathHelper.floor(k / f);
 
             if (j >= 0 && k >= 0)
             {
                 int l = Math.min(this.getLineCount(), this.drawnChatLines.size());
 
-                if (j <= MathHelper.floor((float)this.getChatWidth() / this.getChatScale()) && k < this.mc.fontRendererObj.FONT_HEIGHT * l + l)
+                if (j <= MathHelper.floor(this.getChatWidth() / this.getChatScale()) && k < this.mc.fontRendererObj.FONT_HEIGHT * l + l)
                 {
                     int i1 = k / this.mc.fontRendererObj.FONT_HEIGHT + this.scrollPos;
 
diff -ur original/client/gui/GuiPlayerTabOverlay.java minecraft/client/gui/GuiPlayerTabOverlay.java
--- original/client/gui/GuiPlayerTabOverlay.java	2017-06-17 13:16:30.169311000 +0200
+++ minecraft/client/gui/GuiPlayerTabOverlay.java	2017-06-15 21:39:35.285194700 +0200
@@ -1,11 +1,14 @@
 package net.minecraft.client.gui;
 
-import com.google.common.collect.ComparisonChain;
-import com.google.common.collect.Ordering;
-import com.mojang.authlib.GameProfile;
 import java.util.Comparator;
 import java.util.List;
+
 import javax.annotation.Nullable;
+
+import com.google.common.collect.ComparisonChain;
+import com.google.common.collect.Ordering;
+import com.mojang.authlib.GameProfile;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.network.NetHandlerPlayClient;
 import net.minecraft.client.network.NetworkPlayerInfo;
@@ -23,7 +26,8 @@
 
 public class GuiPlayerTabOverlay extends Gui
 {
-    private static final Ordering<NetworkPlayerInfo> ENTRY_ORDERING = Ordering.from(new GuiPlayerTabOverlay.PlayerComparator());
+	public static final Ordering<NetworkPlayerInfo> ENTRY_ORDERING = Ordering
+			.from(new GuiPlayerTabOverlay.PlayerComparator());
     private final Minecraft mc;
     private final GuiIngame guiIngame;
     private ITextComponent footer;
@@ -151,7 +155,7 @@
             for (String s2 : list1)
             {
                 int i2 = this.mc.fontRendererObj.getStringWidth(s2);
-                this.mc.fontRendererObj.drawStringWithShadow(s2, (float)(width / 2 - i2 / 2), (float)k1, -1);
+                this.mc.fontRendererObj.drawStringWithShadow(s2, width / 2 - i2 / 2, k1, -1);
                 k1 += this.mc.fontRendererObj.FONT_HEIGHT;
             }
 
@@ -184,13 +188,13 @@
                     this.mc.getTextureManager().bindTexture(networkplayerinfo1.getLocationSkin());
                     int l2 = 8 + (flag1 ? 8 : 0);
                     int i3 = 8 * (flag1 ? -1 : 1);
-                    Gui.drawScaledCustomSizeModalRect(j2, k2, 8.0F, (float)l2, 8, i3, 8, 8, 64.0F, 64.0F);
+                    Gui.drawScaledCustomSizeModalRect(j2, k2, 8.0F, l2, 8, i3, 8, 8, 64.0F, 64.0F);
 
                     if (entityplayer != null && entityplayer.isWearing(EnumPlayerModelParts.HAT))
                     {
                         int j3 = 8 + (flag1 ? 8 : 0);
                         int k3 = 8 * (flag1 ? -1 : 1);
-                        Gui.drawScaledCustomSizeModalRect(j2, k2, 40.0F, (float)j3, 8, k3, 8, 8, 64.0F, 64.0F);
+                        Gui.drawScaledCustomSizeModalRect(j2, k2, 40.0F, j3, 8, k3, 8, 8, 64.0F, 64.0F);
                     }
 
                     j2 += 9;
@@ -200,11 +204,11 @@
 
                 if (networkplayerinfo1.getGameType() == GameType.SPECTATOR)
                 {
-                    this.mc.fontRendererObj.drawStringWithShadow(TextFormatting.ITALIC + s4, (float)j2, (float)k2, -1862270977);
+                    this.mc.fontRendererObj.drawStringWithShadow(TextFormatting.ITALIC + s4, j2, k2, -1862270977);
                 }
                 else
                 {
-                    this.mc.fontRendererObj.drawStringWithShadow(s4, (float)j2, (float)k2, -1);
+                    this.mc.fontRendererObj.drawStringWithShadow(s4, j2, k2, -1);
                 }
 
                 if (scoreObjectiveIn != null && networkplayerinfo1.getGameType() != GameType.SPECTATOR)
@@ -230,7 +234,7 @@
             for (String s3 : list2)
             {
                 int j5 = this.mc.fontRendererObj.getStringWidth(s3);
-                this.mc.fontRendererObj.drawStringWithShadow(s3, (float)(width / 2 - j5 / 2), (float)k1, -1);
+                this.mc.fontRendererObj.drawStringWithShadow(s3, width / 2 - j5 / 2, k1, -1);
                 k1 += this.mc.fontRendererObj.FONT_HEIGHT;
             }
         }
@@ -286,12 +290,12 @@
                 if (i < info.getLastHealth())
                 {
                     info.setLastHealthTime(Minecraft.getSystemTime());
-                    info.setHealthBlinkTime((long)(this.guiIngame.getUpdateCounter() + 20));
+                    info.setHealthBlinkTime(this.guiIngame.getUpdateCounter() + 20);
                 }
                 else if (i > info.getLastHealth())
                 {
                     info.setLastHealthTime(Minecraft.getSystemTime());
-                    info.setHealthBlinkTime((long)(this.guiIngame.getUpdateCounter() + 10));
+                    info.setHealthBlinkTime(this.guiIngame.getUpdateCounter() + 10);
                 }
             }
 
@@ -304,9 +308,9 @@
 
             info.setRenderVisibilityId(this.lastTimeOpened);
             info.setLastHealth(i);
-            int j = MathHelper.ceil((float)Math.max(i, info.getDisplayHealth()) / 2.0F);
-            int k = Math.max(MathHelper.ceil((float)(i / 2)), Math.max(MathHelper.ceil((float)(info.getDisplayHealth() / 2)), 10));
-            boolean flag = info.getHealthBlinkTime() > (long)this.guiIngame.getUpdateCounter() && (info.getHealthBlinkTime() - (long)this.guiIngame.getUpdateCounter()) / 3L % 2L == 1L;
+            int j = MathHelper.ceil(Math.max(i, info.getDisplayHealth()) / 2.0F);
+            int k = Math.max(MathHelper.ceil(i / 2), Math.max(MathHelper.ceil(info.getDisplayHealth() / 2), 10));
+            boolean flag = info.getHealthBlinkTime() > this.guiIngame.getUpdateCounter() && (info.getHealthBlinkTime() - this.guiIngame.getUpdateCounter()) / 3L % 2L == 1L;
 
             if (j > 0)
             {
@@ -316,56 +320,56 @@
                 {
                     for (int l = j; l < k; ++l)
                     {
-                        this.drawTexturedModalRect((float)p_175247_4_ + (float)l * f, (float)p_175247_2_, flag ? 25 : 16, 0, 9, 9);
+                        this.drawTexturedModalRect(p_175247_4_ + l * f, p_175247_2_, flag ? 25 : 16, 0, 9, 9);
                     }
 
                     for (int j1 = 0; j1 < j; ++j1)
                     {
-                        this.drawTexturedModalRect((float)p_175247_4_ + (float)j1 * f, (float)p_175247_2_, flag ? 25 : 16, 0, 9, 9);
+                        this.drawTexturedModalRect(p_175247_4_ + j1 * f, p_175247_2_, flag ? 25 : 16, 0, 9, 9);
 
                         if (flag)
                         {
                             if (j1 * 2 + 1 < info.getDisplayHealth())
                             {
-                                this.drawTexturedModalRect((float)p_175247_4_ + (float)j1 * f, (float)p_175247_2_, 70, 0, 9, 9);
+                                this.drawTexturedModalRect(p_175247_4_ + j1 * f, p_175247_2_, 70, 0, 9, 9);
                             }
 
                             if (j1 * 2 + 1 == info.getDisplayHealth())
                             {
-                                this.drawTexturedModalRect((float)p_175247_4_ + (float)j1 * f, (float)p_175247_2_, 79, 0, 9, 9);
+                                this.drawTexturedModalRect(p_175247_4_ + j1 * f, p_175247_2_, 79, 0, 9, 9);
                             }
                         }
 
                         if (j1 * 2 + 1 < i)
                         {
-                            this.drawTexturedModalRect((float)p_175247_4_ + (float)j1 * f, (float)p_175247_2_, j1 >= 10 ? 160 : 52, 0, 9, 9);
+                            this.drawTexturedModalRect(p_175247_4_ + j1 * f, p_175247_2_, j1 >= 10 ? 160 : 52, 0, 9, 9);
                         }
 
                         if (j1 * 2 + 1 == i)
                         {
-                            this.drawTexturedModalRect((float)p_175247_4_ + (float)j1 * f, (float)p_175247_2_, j1 >= 10 ? 169 : 61, 0, 9, 9);
+                            this.drawTexturedModalRect(p_175247_4_ + j1 * f, p_175247_2_, j1 >= 10 ? 169 : 61, 0, 9, 9);
                         }
                     }
                 }
                 else
                 {
-                    float f1 = MathHelper.clamp((float)i / 20.0F, 0.0F, 1.0F);
+                    float f1 = MathHelper.clamp(i / 20.0F, 0.0F, 1.0F);
                     int i1 = (int)((1.0F - f1) * 255.0F) << 16 | (int)(f1 * 255.0F) << 8;
-                    String s = "" + (float)i / 2.0F;
+                    String s = "" + i / 2.0F;
 
                     if (p_175247_5_ - this.mc.fontRendererObj.getStringWidth(s + "hp") >= p_175247_4_)
                     {
                         s = s + "hp";
                     }
 
-                    this.mc.fontRendererObj.drawStringWithShadow(s, (float)((p_175247_5_ + p_175247_4_) / 2 - this.mc.fontRendererObj.getStringWidth(s) / 2), (float)p_175247_2_, i1);
+                    this.mc.fontRendererObj.drawStringWithShadow(s, (p_175247_5_ + p_175247_4_) / 2 - this.mc.fontRendererObj.getStringWidth(s) / 2, p_175247_2_, i1);
                 }
             }
         }
         else
         {
             String s1 = TextFormatting.YELLOW + "" + i;
-            this.mc.fontRendererObj.drawStringWithShadow(s1, (float)(p_175247_5_ - this.mc.fontRendererObj.getStringWidth(s1)), (float)p_175247_2_, 16777215);
+            this.mc.fontRendererObj.drawStringWithShadow(s1, p_175247_5_ - this.mc.fontRendererObj.getStringWidth(s1), p_175247_2_, 16777215);
         }
     }
 
@@ -391,7 +395,8 @@
         {
         }
 
-        public int compare(NetworkPlayerInfo p_compare_1_, NetworkPlayerInfo p_compare_2_)
+        @Override
+		public int compare(NetworkPlayerInfo p_compare_1_, NetworkPlayerInfo p_compare_2_)
         {
             ScorePlayerTeam scoreplayerteam = p_compare_1_.getPlayerTeam();
             ScorePlayerTeam scoreplayerteam1 = p_compare_2_.getPlayerTeam();
diff -ur original/client/gui/GuiScreen.java minecraft/client/gui/GuiScreen.java
--- original/client/gui/GuiScreen.java	2017-06-17 13:16:30.207347000 +0200
+++ minecraft/client/gui/GuiScreen.java	2017-06-17 09:51:16.888481100 +0200
@@ -1,8 +1,5 @@
 package net.minecraft.client.gui;
 
-import com.google.common.base.Splitter;
-import com.google.common.collect.Lists;
-import com.google.common.collect.Sets;
 import java.awt.Toolkit;
 import java.awt.datatransfer.ClipboardOwner;
 import java.awt.datatransfer.DataFlavor;
@@ -16,6 +13,17 @@
 import java.util.List;
 import java.util.Locale;
 import java.util.Set;
+
+import org.apache.commons.lang3.StringUtils;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.lwjgl.input.Keyboard;
+import org.lwjgl.input.Mouse;
+
+import com.google.common.base.Splitter;
+import com.google.common.collect.Lists;
+import com.google.common.collect.Sets;
+
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.renderer.BufferBuilder;
 import net.minecraft.client.renderer.GlStateManager;
@@ -33,11 +41,6 @@
 import net.minecraft.util.text.TextFormatting;
 import net.minecraft.util.text.event.ClickEvent;
 import net.minecraft.util.text.event.HoverEvent;
-import org.apache.commons.lang3.StringUtils;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.lwjgl.input.Keyboard;
-import org.lwjgl.input.Mouse;
 
 public abstract class GuiScreen extends Gui implements GuiYesNoCallback
 {
@@ -58,7 +61,7 @@
 
     /** The height of the screen object. */
     public int height;
-    protected List<GuiButton> buttonList = Lists.<GuiButton>newArrayList();
+	public List<GuiButton> buttonList = Lists.<GuiButton>newArrayList();
     protected List<GuiLabel> labelList = Lists.<GuiLabel>newArrayList();
     public boolean allowUserInput;
 
@@ -84,12 +87,12 @@
     {
         for (int i = 0; i < this.buttonList.size(); ++i)
         {
-            ((GuiButton)this.buttonList.get(i)).func_191745_a(this.mc, mouseX, mouseY, partialTicks);
+            this.buttonList.get(i).func_191745_a(this.mc, mouseX, mouseY, partialTicks);
         }
 
         for (int j = 0; j < this.labelList.size(); ++j)
         {
-            ((GuiLabel)this.labelList.get(j)).drawLabel(this.mc, mouseX, mouseY);
+            this.labelList.get(j).drawLabel(this.mc, mouseX, mouseY);
         }
     }
 
@@ -170,11 +173,11 @@
         {
             if (i == 0)
             {
-                list.set(i, p_191927_1_.getRarity().rarityColor + (String)list.get(i));
+                list.set(i, p_191927_1_.getRarity().rarityColor + list.get(i));
             }
             else
             {
-                list.set(i, TextFormatting.GRAY + (String)list.get(i));
+                list.set(i, TextFormatting.GRAY + list.get(i));
             }
         }
 
@@ -260,7 +263,7 @@
             for (int k1 = 0; k1 < textLines.size(); ++k1)
             {
                 String s1 = textLines.get(k1);
-                this.fontRendererObj.drawStringWithShadow(s1, (float)l1, (float)i2, -1);
+                this.fontRendererObj.drawStringWithShadow(s1, l1, i2, -1);
 
                 if (k1 == 0)
                 {
@@ -430,7 +433,7 @@
                 }
                 else
                 {
-                    LOGGER.error("Don't know how to handle {}", (Object)clickevent);
+                    LOGGER.error("Don't know how to handle {}", clickevent);
                 }
 
                 return true;
@@ -659,10 +662,10 @@
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
         float f = 32.0F;
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX_COLOR);
-        bufferbuilder.pos(0.0D, (double)this.height, 0.0D).tex(0.0D, (double)((float)this.height / 32.0F + (float)tint)).color(64, 64, 64, 255).endVertex();
-        bufferbuilder.pos((double)this.width, (double)this.height, 0.0D).tex((double)((float)this.width / 32.0F), (double)((float)this.height / 32.0F + (float)tint)).color(64, 64, 64, 255).endVertex();
-        bufferbuilder.pos((double)this.width, 0.0D, 0.0D).tex((double)((float)this.width / 32.0F), (double)tint).color(64, 64, 64, 255).endVertex();
-        bufferbuilder.pos(0.0D, 0.0D, 0.0D).tex(0.0D, (double)tint).color(64, 64, 64, 255).endVertex();
+        bufferbuilder.pos(0.0D, this.height, 0.0D).tex(0.0D, this.height / 32.0F + tint).color(64, 64, 64, 255).endVertex();
+        bufferbuilder.pos(this.width, this.height, 0.0D).tex(this.width / 32.0F, this.height / 32.0F + tint).color(64, 64, 64, 255).endVertex();
+        bufferbuilder.pos(this.width, 0.0D, 0.0D).tex(this.width / 32.0F, tint).color(64, 64, 64, 255).endVertex();
+        bufferbuilder.pos(0.0D, 0.0D, 0.0D).tex(0.0D, tint).color(64, 64, 64, 255).endVertex();
         tessellator.draw();
     }
 
@@ -674,7 +677,8 @@
         return true;
     }
 
-    public void confirmClicked(boolean result, int id)
+    @Override
+	public void confirmClicked(boolean result, int id)
     {
         if (id == 31102009)
         {
@@ -699,7 +703,7 @@
         catch (Throwable throwable1)
         {
             Throwable throwable = throwable1.getCause();
-            LOGGER.error("Couldn't open link: {}", (Object)(throwable == null ? "<UNKNOWN>" : throwable.getMessage()));
+            LOGGER.error("Couldn't open link: {}", throwable == null ? "<UNKNOWN>" : throwable.getMessage());
         }
     }
 
diff -ur original/client/gui/GuiTextField.java minecraft/client/gui/GuiTextField.java
--- original/client/gui/GuiTextField.java	2017-06-17 13:16:30.382515000 +0200
+++ minecraft/client/gui/GuiTextField.java	2017-06-14 12:59:11.627942900 +0200
@@ -13,19 +13,19 @@
 public class GuiTextField extends Gui
 {
     private final int id;
-    private final FontRenderer fontRendererInstance;
+    protected final FontRenderer fontRendererInstance;
     public int xPosition;
     public int yPosition;
 
     /** The width of this text field. */
-    private final int width;
-    private final int height;
+    protected final int width;
+    protected final int height;
 
     /** Has the current text being edited on the textbox. */
-    private String text = "";
-    private int maxStringLength = 32;
-    private int cursorCounter;
-    private boolean enableBackgroundDrawing = true;
+    protected String text = "";
+    protected int maxStringLength = 32;
+    protected int cursorCounter;
+    protected boolean enableBackgroundDrawing = true;
 
     /**
      * if true the textbox can lose focus by clicking elsewhere on the screen
@@ -35,23 +35,23 @@
     /**
      * If this value is true along with isEnabled, keyTyped will process the keys.
      */
-    private boolean isFocused;
+    protected boolean isFocused;
 
     /**
      * If this value is true along with isFocused, keyTyped will process the keys.
      */
-    private boolean isEnabled = true;
+    protected boolean isEnabled = true;
 
     /**
      * The current character index that should be used as start of the rendered text.
      */
-    private int lineScrollOffset;
-    private int cursorPosition;
+    protected int lineScrollOffset;
+    protected int cursorPosition;
 
     /** other selection position, maybe the same as the cursor */
-    private int selectionEnd;
-    private int enabledColor = 14737632;
-    private int disabledColor = 7368816;
+    protected int selectionEnd;
+    protected int enabledColor = 14737632;
+    protected int disabledColor = 7368816;
 
     /** True if this textbox is visible */
     private boolean visible = true;
@@ -609,7 +609,7 @@
     /**
      * Draws the current selection and a vertical line cursor in the text box.
      */
-    private void drawCursorVertical(int startX, int startY, int endX, int endY)
+    protected void drawCursorVertical(int startX, int startY, int endX, int endY)
     {
         if (startX < endX)
         {
diff -ur original/client/main/Main.java minecraft/client/main/Main.java
--- original/client/main/Main.java	2017-06-17 13:16:30.885998000 +0200
+++ minecraft/client/main/Main.java	2017-06-17 02:58:21.932497500 +0200
@@ -1,9 +1,5 @@
 package net.minecraft.client.main;
 
-import com.google.gson.Gson;
-import com.google.gson.GsonBuilder;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.properties.PropertyMap.Serializer;
 import java.io.File;
 import java.net.Authenticator;
 import java.net.InetSocketAddress;
@@ -11,6 +7,12 @@
 import java.net.Proxy;
 import java.net.Proxy.Type;
 import java.util.List;
+
+import com.google.gson.Gson;
+import com.google.gson.GsonBuilder;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.properties.PropertyMap.Serializer;
+
 import joptsimple.OptionParser;
 import joptsimple.OptionSet;
 import joptsimple.OptionSpec;
@@ -56,14 +58,14 @@
             System.out.println("Completely ignored arguments: " + list);
         }
 
-        String s = (String)optionset.valueOf(optionspec5);
+        String s = optionset.valueOf(optionspec5);
         Proxy proxy = Proxy.NO_PROXY;
 
         if (s != null)
         {
             try
             {
-                proxy = new Proxy(Type.SOCKS, new InetSocketAddress(s, ((Integer)optionset.valueOf(optionspec6)).intValue()));
+                proxy = new Proxy(Type.SOCKS, new InetSocketAddress(s, optionset.valueOf(optionspec6).intValue()));
             }
             catch (Exception var48)
             {
@@ -71,42 +73,47 @@
             }
         }
 
-        final String s1 = (String)optionset.valueOf(optionspec7);
-        final String s2 = (String)optionset.valueOf(optionspec8);
+        final String s1 = optionset.valueOf(optionspec7);
+        final String s2 = optionset.valueOf(optionspec8);
 
         if (!proxy.equals(Proxy.NO_PROXY) && isNullOrEmpty(s1) && isNullOrEmpty(s2))
         {
             Authenticator.setDefault(new Authenticator()
             {
-                protected PasswordAuthentication getPasswordAuthentication()
+                @Override
+				protected PasswordAuthentication getPasswordAuthentication()
                 {
                     return new PasswordAuthentication(s1, s2.toCharArray());
                 }
             });
         }
 
-        int i = ((Integer)optionset.valueOf(optionspec13)).intValue();
-        int j = ((Integer)optionset.valueOf(optionspec14)).intValue();
+        int i = optionset.valueOf(optionspec13).intValue();
+        int j = optionset.valueOf(optionspec14).intValue();
         boolean flag = optionset.has("fullscreen");
         boolean flag1 = optionset.has("checkGlErrors");
         boolean flag2 = optionset.has("demo");
-        String s3 = (String)optionset.valueOf(optionspec12);
+        String s3 = optionset.valueOf(optionspec12);
         Gson gson = (new GsonBuilder()).registerTypeAdapter(PropertyMap.class, new Serializer()).create();
-        PropertyMap propertymap = (PropertyMap)JsonUtils.gsonDeserialize(gson, (String)optionset.valueOf(optionspec15), PropertyMap.class);
-        PropertyMap propertymap1 = (PropertyMap)JsonUtils.gsonDeserialize(gson, (String)optionset.valueOf(optionspec16), PropertyMap.class);
-        String s4 = (String)optionset.valueOf(optionspec19);
-        File file1 = (File)optionset.valueOf(optionspec2);
+        PropertyMap propertymap = JsonUtils.gsonDeserialize(gson, optionset.valueOf(optionspec15), PropertyMap.class);
+        PropertyMap propertymap1 = JsonUtils.gsonDeserialize(gson, optionset.valueOf(optionspec16), PropertyMap.class);
+        String s4 = optionset.valueOf(optionspec19);
+        File file1 = optionset.valueOf(optionspec2);
         File file2 = optionset.has(optionspec3) ? (File)optionset.valueOf(optionspec3) : new File(file1, "assets/");
         File file3 = optionset.has(optionspec4) ? (File)optionset.valueOf(optionspec4) : new File(file1, "resourcepacks/");
         String s5 = optionset.has(optionspec10) ? (String)optionspec10.value(optionset) : (String)optionspec9.value(optionset);
         String s6 = optionset.has(optionspec17) ? (String)optionspec17.value(optionset) : null;
-        String s7 = (String)optionset.valueOf(optionspec);
-        Integer integer = (Integer)optionset.valueOf(optionspec1);
-        Session session = new Session(optionspec9.value(optionset), s5, optionspec11.value(optionset), optionspec18.value(optionset));
+        String s7 = optionset.valueOf(optionspec);
+        Integer integer = optionset.valueOf(optionspec1);
+
+		Session session = new Session(optionspec9.value(optionset), s5, optionspec11.value(optionset),
+				optionspec18.value(optionset));
+
         GameConfiguration gameconfiguration = new GameConfiguration(new GameConfiguration.UserInformation(session, propertymap, propertymap1, proxy), new GameConfiguration.DisplayInformation(i, j, flag, flag1), new GameConfiguration.FolderInformation(file1, file3, file2, s6), new GameConfiguration.GameInformation(flag2, s3, s4), new GameConfiguration.ServerInformation(s7, integer.intValue()));
         Runtime.getRuntime().addShutdownHook(new Thread("Client Shutdown Thread")
         {
-            public void run()
+            @Override
+			public void run()
             {
                 Minecraft.stopIntegratedServer();
             }
diff -ur original/client/Minecraft.java minecraft/client/Minecraft.java
--- original/client/Minecraft.java	2017-06-17 13:16:29.621284000 +0200
+++ minecraft/client/Minecraft.java	2017-06-16 02:21:06.852562600 +0200
@@ -1,18 +1,5 @@
 package net.minecraft.client;
 
-import com.google.common.collect.Lists;
-import com.google.common.collect.Queues;
-import com.google.common.collect.Sets;
-import com.google.common.hash.Hashing;
-import com.google.common.util.concurrent.Futures;
-import com.google.common.util.concurrent.ListenableFuture;
-import com.google.common.util.concurrent.ListenableFutureTask;
-import com.mojang.authlib.AuthenticationService;
-import com.mojang.authlib.GameProfile;
-import com.mojang.authlib.GameProfileRepository;
-import com.mojang.authlib.minecraft.MinecraftSessionService;
-import com.mojang.authlib.properties.PropertyMap;
-import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
 import java.awt.image.BufferedImage;
 import java.io.File;
 import java.io.IOException;
@@ -35,12 +22,47 @@
 import java.util.concurrent.Callable;
 import java.util.concurrent.Executors;
 import java.util.concurrent.FutureTask;
-import java.util.function.Consumer;
-import java.util.function.Function;
-import java.util.function.Predicate;
 import java.util.stream.Collectors;
+
 import javax.annotation.Nullable;
 import javax.imageio.ImageIO;
+
+import org.apache.commons.io.Charsets;
+import org.apache.commons.io.IOUtils;
+import org.apache.commons.lang3.Validate;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.lwjgl.LWJGLException;
+import org.lwjgl.Sys;
+import org.lwjgl.input.Keyboard;
+import org.lwjgl.input.Mouse;
+import org.lwjgl.opengl.ContextCapabilities;
+import org.lwjgl.opengl.Display;
+import org.lwjgl.opengl.DisplayMode;
+import org.lwjgl.opengl.GLContext;
+import org.lwjgl.opengl.OpenGLException;
+import org.lwjgl.opengl.PixelFormat;
+import org.lwjgl.util.glu.GLU;
+
+import com.google.common.collect.Lists;
+import com.google.common.collect.Queues;
+import com.google.common.collect.Sets;
+import com.google.common.hash.Hashing;
+import com.google.common.util.concurrent.Futures;
+import com.google.common.util.concurrent.ListenableFuture;
+import com.google.common.util.concurrent.ListenableFutureTask;
+import com.mojang.authlib.AuthenticationService;
+import com.mojang.authlib.GameProfile;
+import com.mojang.authlib.GameProfileRepository;
+import com.mojang.authlib.minecraft.MinecraftSessionService;
+import com.mojang.authlib.properties.PropertyMap;
+import com.mojang.authlib.yggdrasil.YggdrasilAuthenticationService;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventGuiScreenDisplay;
+import me.deftware.client.framework.Event.Events.EventKeyPress;
+import me.deftware.client.framework.Event.Events.EventLeftClick;
+import me.deftware.client.framework.Main.FrameworkLoader;
 import net.minecraft.block.Block;
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
@@ -201,22 +223,6 @@
 import net.minecraft.world.storage.ISaveFormat;
 import net.minecraft.world.storage.ISaveHandler;
 import net.minecraft.world.storage.WorldInfo;
-import org.apache.commons.io.Charsets;
-import org.apache.commons.io.IOUtils;
-import org.apache.commons.lang3.Validate;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.lwjgl.LWJGLException;
-import org.lwjgl.Sys;
-import org.lwjgl.input.Keyboard;
-import org.lwjgl.input.Mouse;
-import org.lwjgl.opengl.ContextCapabilities;
-import org.lwjgl.opengl.Display;
-import org.lwjgl.opengl.DisplayMode;
-import org.lwjgl.opengl.GLContext;
-import org.lwjgl.opengl.OpenGLException;
-import org.lwjgl.opengl.PixelFormat;
-import org.lwjgl.util.glu.GLU;
 
 public class Minecraft implements IThreadListener, ISnooperInfo
 {
@@ -254,7 +260,7 @@
 
     /** True if the player is connected to a realms server */
     private boolean connectedToRealms;
-    private final Timer timer = new Timer(20.0F);
+    public Timer timer = new Timer(20.0F);
 
     /** Instance of PlayerUsageSnooper. */
     private final Snooper usageSnooper = new Snooper("client", this, MinecraftServer.getCurrentTimeMillis());
@@ -269,7 +275,7 @@
     public Entity pointedEntity;
     public ParticleManager effectRenderer;
     private SearchTreeManager field_193995_ae = new SearchTreeManager();
-    private final Session session;
+    public Session session;
     private boolean isGamePaused;
     private float field_193996_ah;
 
@@ -326,7 +332,7 @@
     /**
      * When you place a block, it's set to 6, decremented once per tick, when it's 0, you can place another block.
      */
-    private int rightClickDelayTimer;
+    public int rightClickDelayTimer;
     private String serverName;
     private int serverPort;
 
@@ -417,8 +423,8 @@
         this.proxy = gameConfig.userInfo.proxy == null ? Proxy.NO_PROXY : gameConfig.userInfo.proxy;
         this.sessionService = (new YggdrasilAuthenticationService(this.proxy, UUID.randomUUID().toString())).createMinecraftSessionService();
         this.session = gameConfig.userInfo.session;
-        LOGGER.info("Setting user: {}", (Object)this.session.getUsername());
-        LOGGER.debug("(Session ID is {})", (Object)this.session.getSessionID());
+        LOGGER.info("Setting user: {}", this.session.getUsername());
+        LOGGER.debug("(Session ID is {})", this.session.getSessionID());
         this.isDemo = gameConfig.gameInfo.isDemo;
         this.displayWidth = gameConfig.displayInfo.width > 0 ? gameConfig.displayInfo.width : 1;
         this.displayHeight = gameConfig.displayInfo.height > 0 ? gameConfig.displayInfo.height : 1;
@@ -492,7 +498,7 @@
             {
                 this.addGraphicsAndWorldToCrashReport(reportedexception.getCrashReport());
                 this.freeMemory();
-                LOGGER.fatal("Reported exception thrown!", (Throwable)reportedexception);
+                LOGGER.fatal("Reported exception thrown!", reportedexception);
                 this.displayCrashReport(reportedexception.getCrashReport());
                 break;
             }
@@ -529,7 +535,7 @@
             this.displayHeight = this.gameSettings.overrideHeight;
         }
 
-        LOGGER.info("LWJGL Version: {}", (Object)Sys.getVersion());
+        LOGGER.info("LWJGL Version: {}", Sys.getVersion());
         this.setWindowIcon();
         this.setInitialDisplayMode();
         this.createDisplay();
@@ -611,6 +617,9 @@
         {
             this.displayGuiScreen(new GuiMainMenu());
         }
+        
+        // TODO: Client
+        FrameworkLoader.init();
 
         this.renderEngine.deleteTexture(this.mojangLogo);
         this.mojangLogo = null;
@@ -692,7 +701,7 @@
         }
         catch (LWJGLException lwjglexception)
         {
-            LOGGER.error("Couldn't set pixel format", (Throwable)lwjglexception);
+            LOGGER.error("Couldn't set pixel format", lwjglexception);
 
             try
             {
@@ -748,7 +757,7 @@
             }
             catch (IOException ioexception)
             {
-                LOGGER.error("Couldn't set icon", (Throwable)ioexception);
+                LOGGER.error("Couldn't set icon", ioexception);
             }
             finally
             {
@@ -794,7 +803,8 @@
     {
         Thread thread = new Thread("Timer hack thread")
         {
-            public void run()
+            @Override
+			public void run()
             {
                 while (Minecraft.this.running)
                 {
@@ -875,7 +885,7 @@
         }
         catch (RuntimeException runtimeexception)
         {
-            LOGGER.info("Caught error stitching, removing all assigned resourcepacks", (Throwable)runtimeexception);
+            LOGGER.info("Caught error stitching, removing all assigned resourcepacks", runtimeexception);
             list.clear();
             list.addAll(this.defaultResourcePacks);
             this.mcResourcePackRepository.setRepositories(Collections.emptyList());
@@ -969,7 +979,7 @@
         framebuffer.bindFramebuffer(false);
         GlStateManager.matrixMode(5889);
         GlStateManager.loadIdentity();
-        GlStateManager.ortho(0.0D, (double)scaledresolution.getScaledWidth(), (double)scaledresolution.getScaledHeight(), 0.0D, 1000.0D, 3000.0D);
+        GlStateManager.ortho(0.0D, scaledresolution.getScaledWidth(), scaledresolution.getScaledHeight(), 0.0D, 1000.0D, 3000.0D);
         GlStateManager.matrixMode(5888);
         GlStateManager.loadIdentity();
         GlStateManager.translate(0.0F, 0.0F, -2000.0F);
@@ -997,9 +1007,9 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX_COLOR);
-        bufferbuilder.pos(0.0D, (double)this.displayHeight, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
-        bufferbuilder.pos((double)this.displayWidth, (double)this.displayHeight, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
-        bufferbuilder.pos((double)this.displayWidth, 0.0D, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
+        bufferbuilder.pos(0.0D, this.displayHeight, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
+        bufferbuilder.pos(this.displayWidth, this.displayHeight, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
+        bufferbuilder.pos(this.displayWidth, 0.0D, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
         bufferbuilder.pos(0.0D, 0.0D, 0.0D).tex(0.0D, 0.0D).color(255, 255, 255, 255).endVertex();
         tessellator.draw();
         GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
@@ -1024,10 +1034,10 @@
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX_COLOR);
         float f = 0.00390625F;
         float f1 = 0.00390625F;
-        bufferbuilder.pos((double)posX, (double)(posY + height), 0.0D).tex((double)((float)texU * 0.00390625F), (double)((float)(texV + height) * 0.00390625F)).color(red, green, blue, alpha).endVertex();
-        bufferbuilder.pos((double)(posX + width), (double)(posY + height), 0.0D).tex((double)((float)(texU + width) * 0.00390625F), (double)((float)(texV + height) * 0.00390625F)).color(red, green, blue, alpha).endVertex();
-        bufferbuilder.pos((double)(posX + width), (double)posY, 0.0D).tex((double)((float)(texU + width) * 0.00390625F), (double)((float)texV * 0.00390625F)).color(red, green, blue, alpha).endVertex();
-        bufferbuilder.pos((double)posX, (double)posY, 0.0D).tex((double)((float)texU * 0.00390625F), (double)((float)texV * 0.00390625F)).color(red, green, blue, alpha).endVertex();
+        bufferbuilder.pos(posX, posY + height, 0.0D).tex(texU * 0.00390625F, (texV + height) * 0.00390625F).color(red, green, blue, alpha).endVertex();
+        bufferbuilder.pos(posX + width, posY + height, 0.0D).tex((texU + width) * 0.00390625F, (texV + height) * 0.00390625F).color(red, green, blue, alpha).endVertex();
+        bufferbuilder.pos(posX + width, posY, 0.0D).tex((texU + width) * 0.00390625F, texV * 0.00390625F).color(red, green, blue, alpha).endVertex();
+        bufferbuilder.pos(posX, posY, 0.0D).tex(texU * 0.00390625F, texV * 0.00390625F).color(red, green, blue, alpha).endVertex();
         Tessellator.getInstance().draw();
     }
 
@@ -1063,6 +1073,17 @@
             this.gameSettings.showDebugInfo = false;
             this.ingameGUI.getChatGUI().clearChatMessages(true);
         }
+        
+        // TODO: Client
+        if (guiScreenIn != null) {
+        	EventGuiScreenDisplay event = new EventGuiScreenDisplay(guiScreenIn);
+        	Event.sendEvent(event);
+        	if (event.isCanceled()) {
+        		guiScreenIn = null;
+        	} else {
+        		guiScreenIn = event.getScreen();
+        	}
+        }
 
         this.currentScreen = guiScreenIn;
 
@@ -1105,7 +1126,7 @@
         {
             String s = GLU.gluErrorString(i);
             LOGGER.error("########## GL ERROR ##########");
-            LOGGER.error("@ {}", (Object)message);
+            LOGGER.error("@ {}", message);
             LOGGER.error("{}: {}", Integer.valueOf(i), s);
         }
     }
@@ -1254,7 +1275,7 @@
         while (getSystemTime() >= this.debugUpdateTime + 1000L)
         {
             debugFPS = this.fpsCounter;
-            this.debug = String.format("%d fps (%d chunk update%s) T: %s%s%s%s%s", debugFPS, RenderChunk.renderChunksUpdated, RenderChunk.renderChunksUpdated == 1 ? "" : "s", (float)this.gameSettings.limitFramerate == GameSettings.Options.FRAMERATE_LIMIT.getValueMax() ? "inf" : this.gameSettings.limitFramerate, this.gameSettings.enableVsync ? " vsync" : "", this.gameSettings.fancyGraphics ? "" : " fast", this.gameSettings.clouds == 0 ? "" : (this.gameSettings.clouds == 1 ? " fast-clouds" : " fancy-clouds"), OpenGlHelper.useVbo() ? " vbo" : "");
+            this.debug = String.format("%d fps (%d chunk update%s) T: %s%s%s%s%s", debugFPS, RenderChunk.renderChunksUpdated, RenderChunk.renderChunksUpdated == 1 ? "" : "s", this.gameSettings.limitFramerate == GameSettings.Options.FRAMERATE_LIMIT.getValueMax() ? "inf" : this.gameSettings.limitFramerate, this.gameSettings.enableVsync ? " vsync" : "", this.gameSettings.fancyGraphics ? "" : " fast", this.gameSettings.clouds == 0 ? "" : (this.gameSettings.clouds == 1 ? " fast-clouds" : " fancy-clouds"), OpenGlHelper.useVbo() ? " vbo" : "");
             RenderChunk.renderChunksUpdated = 0;
             this.debugUpdateTime += 1000L;
             this.fpsCounter = 0;
@@ -1317,7 +1338,7 @@
 
     public boolean isFramerateLimitBelowMax()
     {
-        return (float)this.getLimitFramerate() < GameSettings.Options.FRAMERATE_LIMIT.getValueMax();
+        return this.getLimitFramerate() < GameSettings.Options.FRAMERATE_LIMIT.getValueMax();
     }
 
     public void freeMemory()
@@ -1398,7 +1419,7 @@
             GlStateManager.matrixMode(5889);
             GlStateManager.enableColorMaterial();
             GlStateManager.loadIdentity();
-            GlStateManager.ortho(0.0D, (double)this.displayWidth, (double)this.displayHeight, 0.0D, 1000.0D, 3000.0D);
+            GlStateManager.ortho(0.0D, this.displayWidth, this.displayHeight, 0.0D, 1000.0D, 3000.0D);
             GlStateManager.matrixMode(5888);
             GlStateManager.loadIdentity();
             GlStateManager.translate(0.0F, 0.0F, -2000.0F);
@@ -1411,10 +1432,10 @@
             int k = this.displayHeight - 320;
             GlStateManager.enableBlend();
             bufferbuilder.begin(7, DefaultVertexFormats.POSITION_COLOR);
-            bufferbuilder.pos((double)((float)j - 176.0F), (double)((float)k - 96.0F - 16.0F), 0.0D).color(200, 0, 0, 0).endVertex();
-            bufferbuilder.pos((double)((float)j - 176.0F), (double)(k + 320), 0.0D).color(200, 0, 0, 0).endVertex();
-            bufferbuilder.pos((double)((float)j + 176.0F), (double)(k + 320), 0.0D).color(200, 0, 0, 0).endVertex();
-            bufferbuilder.pos((double)((float)j + 176.0F), (double)((float)k - 96.0F - 16.0F), 0.0D).color(200, 0, 0, 0).endVertex();
+            bufferbuilder.pos(j - 176.0F, k - 96.0F - 16.0F, 0.0D).color(200, 0, 0, 0).endVertex();
+            bufferbuilder.pos(j - 176.0F, k + 320, 0.0D).color(200, 0, 0, 0).endVertex();
+            bufferbuilder.pos(j + 176.0F, k + 320, 0.0D).color(200, 0, 0, 0).endVertex();
+            bufferbuilder.pos(j + 176.0F, k - 96.0F - 16.0F, 0.0D).color(200, 0, 0, 0).endVertex();
             tessellator.draw();
             GlStateManager.disableBlend();
             double d0 = 0.0D;
@@ -1428,14 +1449,14 @@
                 int k1 = j1 >> 16 & 255;
                 int l1 = j1 >> 8 & 255;
                 int i2 = j1 & 255;
-                bufferbuilder.pos((double)j, (double)k, 0.0D).color(k1, l1, i2, 255).endVertex();
+                bufferbuilder.pos(j, k, 0.0D).color(k1, l1, i2, 255).endVertex();
 
                 for (int j2 = i1; j2 >= 0; --j2)
                 {
-                    float f = (float)((d0 + profiler$result1.usePercentage * (double)j2 / (double)i1) * (Math.PI * 2D) / 100.0D);
+                    float f = (float)((d0 + profiler$result1.usePercentage * j2 / i1) * (Math.PI * 2D) / 100.0D);
                     float f1 = MathHelper.sin(f) * 160.0F;
                     float f2 = MathHelper.cos(f) * 160.0F * 0.5F;
-                    bufferbuilder.pos((double)((float)j + f1), (double)((float)k - f2), 0.0D).color(k1, l1, i2, 255).endVertex();
+                    bufferbuilder.pos(j + f1, k - f2, 0.0D).color(k1, l1, i2, 255).endVertex();
                 }
 
                 tessellator.draw();
@@ -1443,11 +1464,11 @@
 
                 for (int i3 = i1; i3 >= 0; --i3)
                 {
-                    float f3 = (float)((d0 + profiler$result1.usePercentage * (double)i3 / (double)i1) * (Math.PI * 2D) / 100.0D);
+                    float f3 = (float)((d0 + profiler$result1.usePercentage * i3 / i1) * (Math.PI * 2D) / 100.0D);
                     float f4 = MathHelper.sin(f3) * 160.0F;
                     float f5 = MathHelper.cos(f3) * 160.0F * 0.5F;
-                    bufferbuilder.pos((double)((float)j + f4), (double)((float)k - f5), 0.0D).color(k1 >> 1, l1 >> 1, i2 >> 1, 255).endVertex();
-                    bufferbuilder.pos((double)((float)j + f4), (double)((float)k - f5 + 10.0F), 0.0D).color(k1 >> 1, l1 >> 1, i2 >> 1, 255).endVertex();
+                    bufferbuilder.pos(j + f4, k - f5, 0.0D).color(k1 >> 1, l1 >> 1, i2 >> 1, 255).endVertex();
+                    bufferbuilder.pos(j + f4, k - f5 + 10.0F, 0.0D).color(k1 >> 1, l1 >> 1, i2 >> 1, 255).endVertex();
                 }
 
                 tessellator.draw();
@@ -1473,9 +1494,9 @@
             }
 
             int l2 = 16777215;
-            this.fontRendererObj.drawStringWithShadow(s, (float)(j - 160), (float)(k - 80 - 16), 16777215);
+            this.fontRendererObj.drawStringWithShadow(s, j - 160, k - 80 - 16, 16777215);
             s = decimalformat.format(profiler$result.totalUsePercentage) + "%";
-            this.fontRendererObj.drawStringWithShadow(s, (float)(j + 160 - this.fontRendererObj.getStringWidth(s)), (float)(k - 80 - 16), 16777215);
+            this.fontRendererObj.drawStringWithShadow(s, j + 160 - this.fontRendererObj.getStringWidth(s), k - 80 - 16, 16777215);
 
             for (int k2 = 0; k2 < list.size(); ++k2)
             {
@@ -1492,11 +1513,11 @@
                 }
 
                 String s1 = stringbuilder.append(profiler$result2.profilerName).toString();
-                this.fontRendererObj.drawStringWithShadow(s1, (float)(j - 160), (float)(k + 80 + k2 * 8 + 20), profiler$result2.getColor());
+                this.fontRendererObj.drawStringWithShadow(s1, j - 160, k + 80 + k2 * 8 + 20, profiler$result2.getColor());
                 s1 = decimalformat.format(profiler$result2.usePercentage) + "%";
-                this.fontRendererObj.drawStringWithShadow(s1, (float)(j + 160 - 50 - this.fontRendererObj.getStringWidth(s1)), (float)(k + 80 + k2 * 8 + 20), profiler$result2.getColor());
+                this.fontRendererObj.drawStringWithShadow(s1, j + 160 - 50 - this.fontRendererObj.getStringWidth(s1), k + 80 + k2 * 8 + 20, profiler$result2.getColor());
                 s1 = decimalformat.format(profiler$result2.totalUsePercentage) + "%";
-                this.fontRendererObj.drawStringWithShadow(s1, (float)(j + 160 - this.fontRendererObj.getStringWidth(s1)), (float)(k + 80 + k2 * 8 + 20), profiler$result2.getColor());
+                this.fontRendererObj.drawStringWithShadow(s1, j + 160 - this.fontRendererObj.getStringWidth(s1), k + 80 + k2 * 8 + 20, profiler$result2.getColor());
             }
         }
     }
@@ -1590,6 +1611,10 @@
     {
         if (this.leftClickCounter <= 0)
         {
+
+			// TODO: Client
+			Event.sendEvent(new EventLeftClick());
+
             if (this.objectMouseOver == null)
             {
                 LOGGER.error("Null returned as 'hitResult', this shouldn't happen!");
@@ -1760,7 +1785,7 @@
         }
         catch (Exception exception)
         {
-            LOGGER.error("Couldn't toggle fullscreen", (Throwable)exception);
+            LOGGER.error("Couldn't toggle fullscreen", exception);
         }
     }
 
@@ -1867,7 +1892,8 @@
                 CrashReportCategory crashreportcategory = crashreport.makeCategory("Affected screen");
                 crashreportcategory.setDetail("Screen name", new ICrashReportDetail<String>()
                 {
-                    public String call() throws Exception
+                    @Override
+					public String call() throws Exception
                     {
                         return Minecraft.this.currentScreen.getClass().getCanonicalName();
                     }
@@ -1887,7 +1913,8 @@
                     CrashReportCategory crashreportcategory1 = crashreport1.makeCategory("Affected screen");
                     crashreportcategory1.setDetail("Screen name", new ICrashReportDetail<String>()
                     {
-                        public String call() throws Exception
+                        @Override
+						public String call() throws Exception
                         {
                             return Minecraft.this.currentScreen.getClass().getCanonicalName();
                         }
@@ -2058,6 +2085,11 @@
 
                 if (this.currentScreen == null)
                 {
+                	
+                	// TODO: Client
+                	EventKeyPress event = new EventKeyPress(Keyboard.getEventKey());
+                	Event.sendEvent(event);
+                	
                     if (i == 1)
                     {
                         this.displayInGameMenu();
@@ -2406,7 +2438,7 @@
                         }
                         else
                         {
-                            float f = MathHelper.clamp(this.player.capabilities.getFlySpeed() + (float)k * 0.005F, 0.0F, 0.2F);
+                            float f = MathHelper.clamp(this.player.capabilities.getFlySpeed() + k * 0.005F, 0.0F, 0.2F);
                             this.player.capabilities.setFlySpeed(f);
                         }
                     }
@@ -2808,7 +2840,7 @@
 
                 if (this.objectMouseOver.typeOfHit == RayTraceResult.Type.BLOCK)
                 {
-                    s = ((ResourceLocation)Block.REGISTRY.getNameForObject(this.world.getBlockState(this.objectMouseOver.getBlockPos()).getBlock())).toString();
+                    s = Block.REGISTRY.getNameForObject(this.world.getBlockState(this.objectMouseOver.getBlockPos()).getBlock()).toString();
                 }
                 else if (this.objectMouseOver.typeOfHit == RayTraceResult.Type.ENTITY)
                 {
@@ -2879,42 +2911,48 @@
     {
         theCrash.getCategory().setDetail("Launched Version", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Minecraft.this.launchedVersion;
             }
         });
         theCrash.getCategory().setDetail("LWJGL", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Sys.getVersion();
             }
         });
         theCrash.getCategory().setDetail("OpenGL", new ICrashReportDetail<String>()
         {
-            public String call()
+            @Override
+			public String call()
             {
                 return GlStateManager.glGetString(7937) + " GL version " + GlStateManager.glGetString(7938) + ", " + GlStateManager.glGetString(7936);
             }
         });
         theCrash.getCategory().setDetail("GL Caps", new ICrashReportDetail<String>()
         {
-            public String call()
+            @Override
+			public String call()
             {
                 return OpenGlHelper.getLogText();
             }
         });
         theCrash.getCategory().setDetail("Using VBOs", new ICrashReportDetail<String>()
         {
-            public String call()
+            @Override
+			public String call()
             {
                 return Minecraft.this.gameSettings.useVbo ? "Yes" : "No";
             }
         });
         theCrash.getCategory().setDetail("Is Modded", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 String s = ClientBrandRetriever.getClientModName();
 
@@ -2930,14 +2968,16 @@
         });
         theCrash.getCategory().setDetail("Type", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return "Client (map_client.txt)";
             }
         });
         theCrash.getCategory().setDetail("Resource Packs", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 StringBuilder stringbuilder = new StringBuilder();
 
@@ -2961,21 +3001,24 @@
         });
         theCrash.getCategory().setDetail("Current Language", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Minecraft.this.mcLanguageManager.getCurrentLanguage().toString();
             }
         });
         theCrash.getCategory().setDetail("Profiler Position", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Minecraft.this.mcProfiler.profilingEnabled ? Minecraft.this.mcProfiler.getNameOfLastSection() : "N/A (disabled)";
             }
         });
         theCrash.getCategory().setDetail("CPU", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return OpenGlHelper.getCpu();
             }
@@ -3001,14 +3044,16 @@
     {
         return this.addScheduledTask(new Runnable()
         {
-            public void run()
+            @Override
+			public void run()
             {
                 Minecraft.this.refreshResources();
             }
         });
     }
 
-    public void addServerStatsToSnooper(Snooper playerSnooper)
+    @Override
+	public void addServerStatsToSnooper(Snooper playerSnooper)
     {
         playerSnooper.addClientStat("fps", Integer.valueOf(debugFPS));
         playerSnooper.addClientStat("vsync_enabled", Boolean.valueOf(this.gameSettings.enableVsync));
@@ -3054,7 +3099,8 @@
         }
     }
 
-    public void addServerTypeToSnooper(Snooper playerSnooper)
+    @Override
+	public void addServerTypeToSnooper(Snooper playerSnooper)
     {
         playerSnooper.addStatToSnooper("opengl_version", GlStateManager.glGetString(7938));
         playerSnooper.addStatToSnooper("opengl_vendor", GlStateManager.glGetString(7936));
@@ -3195,7 +3241,8 @@
     /**
      * Returns whether snooping is enabled or not.
      */
-    public boolean isSnooperEnabled()
+    @Override
+	public boolean isSnooperEnabled()
     {
         return this.gameSettings.snooperEnabled;
     }
@@ -3446,13 +3493,15 @@
         }
     }
 
-    public ListenableFuture<Object> addScheduledTask(Runnable runnableToSchedule)
+    @Override
+	public ListenableFuture<Object> addScheduledTask(Runnable runnableToSchedule)
     {
         Validate.notNull(runnableToSchedule);
         return this.<Object>addScheduledTask(Executors.callable(runnableToSchedule));
     }
 
-    public boolean isCallingFromMinecraftThread()
+    @Override
+	public boolean isCallingFromMinecraftThread()
     {
         return Thread.currentThread() == this.mcThread;
     }
diff -ur original/client/multiplayer/GuiConnecting.java minecraft/client/multiplayer/GuiConnecting.java
--- original/client/multiplayer/GuiConnecting.java	2017-06-17 13:16:31.313910000 +0200
+++ minecraft/client/multiplayer/GuiConnecting.java	2017-06-16 19:16:05.708606200 +0200
@@ -4,6 +4,12 @@
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.util.concurrent.atomic.AtomicInteger;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
+import me.deftware.client.framework.Wrappers.IMinecraft;
+import me.deftware.client.framework.Wrappers.Objects.IServerData;
 import net.minecraft.client.Minecraft;
 import net.minecraft.client.gui.GuiButton;
 import net.minecraft.client.gui.GuiDisconnected;
@@ -16,8 +22,6 @@
 import net.minecraft.network.login.client.CPacketLoginStart;
 import net.minecraft.util.text.TextComponentString;
 import net.minecraft.util.text.TextComponentTranslation;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 
 public class GuiConnecting extends GuiScreen
 {
@@ -47,10 +51,13 @@
 
     private void connect(final String ip, final int port)
     {
+		// TODO: Client
+		IMinecraft.lastServer = new IServerData("Server", ip + ":" + port, false);
         LOGGER.info("Connecting to {}, {}", ip, Integer.valueOf(port));
         (new Thread("Server Connector #" + CONNECTION_ID.incrementAndGet())
         {
-            public void run()
+            @Override
+			public void run()
             {
                 InetAddress inetaddress = null;
 
@@ -74,7 +81,7 @@
                         return;
                     }
 
-                    GuiConnecting.LOGGER.error("Couldn't connect to server", (Throwable)unknownhostexception);
+                    GuiConnecting.LOGGER.error("Couldn't connect to server", unknownhostexception);
                     GuiConnecting.this.mc.displayGuiScreen(new GuiDisconnected(GuiConnecting.this.previousGuiScreen, "connect.failed", new TextComponentTranslation("disconnect.genericReason", new Object[] {"Unknown host"})));
                 }
                 catch (Exception exception)
@@ -84,7 +91,7 @@
                         return;
                     }
 
-                    GuiConnecting.LOGGER.error("Couldn't connect to server", (Throwable)exception);
+                    GuiConnecting.LOGGER.error("Couldn't connect to server", exception);
                     String s = exception.toString();
 
                     if (inetaddress != null)
@@ -99,10 +106,11 @@
         }).start();
     }
 
-    /**
-     * Called from the main game loop to update the screen.
-     */
-    public void updateScreen()
+	/**
+	 * Called from the main game loop to update the screen.
+	 */
+    @Override
+	public void updateScreen()
     {
         if (this.networkManager != null)
         {
@@ -121,7 +129,8 @@
      * Fired when a key is typed (except F11 which toggles full screen). This is the equivalent of
      * KeyListener.keyTyped(KeyEvent e). Args : character (character on the key), keyCode (lwjgl Keyboard key code)
      */
-    protected void keyTyped(char typedChar, int keyCode) throws IOException
+    @Override
+	protected void keyTyped(char typedChar, int keyCode) throws IOException
     {
     }
 
@@ -129,7 +138,8 @@
      * Adds the buttons (and other controls) to the screen in question. Called when the GUI is displayed and when the
      * window resizes, the buttonList is cleared beforehand.
      */
-    public void initGui()
+    @Override
+	public void initGui()
     {
         this.buttonList.clear();
         this.buttonList.add(new GuiButton(0, this.width / 2 - 100, this.height / 4 + 120 + 12, I18n.format("gui.cancel")));
@@ -138,7 +148,8 @@
     /**
      * Called by the controls from the buttonList when activated. (Mouse pressed for buttons)
      */
-    protected void actionPerformed(GuiButton button) throws IOException
+    @Override
+	protected void actionPerformed(GuiButton button) throws IOException
     {
         if (button.id == 0)
         {
@@ -156,7 +167,8 @@
     /**
      * Draws the screen and all the components in it.
      */
-    public void drawScreen(int mouseX, int mouseY, float partialTicks)
+    @Override
+	public void drawScreen(int mouseX, int mouseY, float partialTicks)
     {
         this.drawDefaultBackground();
 
diff -ur original/client/multiplayer/PlayerControllerMP.java minecraft/client/multiplayer/PlayerControllerMP.java
--- original/client/multiplayer/PlayerControllerMP.java	2017-06-17 13:16:31.324920000 +0200
+++ minecraft/client/multiplayer/PlayerControllerMP.java	2017-06-16 18:42:06.956968800 +0200
@@ -1,7 +1,11 @@
 package net.minecraft.client.multiplayer;
 
-import io.netty.buffer.Unpooled;
 import java.util.List;
+
+import io.netty.buffer.Unpooled;
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventExtendedReach;
+import me.deftware.client.framework.Event.Events.EventGetReachDistance;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockCommandBlock;
 import net.minecraft.block.BlockStructure;
@@ -363,7 +367,10 @@
      */
     public float getBlockReachDistance()
     {
-        return this.currentGameType.isCreative() ? 5.0F : 4.5F;
+		// TODO: Client
+		EventGetReachDistance event = new EventGetReachDistance(this.currentGameType.isCreative() ? 5.0F : 4.5F);
+		Event.sendEvent(event);
+		return event.getDistance();
     }
 
     public void updateController()
@@ -411,9 +418,9 @@
     {
         this.syncCurrentPlayItem();
         ItemStack itemstack = player.getHeldItem(vec);
-        float f = (float)(facing.xCoord - (double)stack.getX());
-        float f1 = (float)(facing.yCoord - (double)stack.getY());
-        float f2 = (float)(facing.zCoord - (double)stack.getZ());
+        float f = (float)(facing.xCoord - stack.getX());
+        float f1 = (float)(facing.yCoord - stack.getY());
+        float f2 = (float)(facing.zCoord - stack.getZ());
         boolean flag = false;
 
         if (!this.mc.world.getWorldBorder().contains(stack))
@@ -642,7 +649,10 @@
      */
     public boolean extendedReach()
     {
-        return this.currentGameType.isCreative();
+		// TODO: Client
+		EventExtendedReach event = new EventExtendedReach(this.currentGameType.isCreative());
+		Event.sendEvent(event);
+		return event.isState();
     }
 
     /**
diff -ur original/client/multiplayer/ServerData.java minecraft/client/multiplayer/ServerData.java
--- original/client/multiplayer/ServerData.java	2017-06-17 13:16:31.344439000 +0200
+++ minecraft/client/multiplayer/ServerData.java	2017-06-14 12:59:25.253997400 +0200
@@ -30,7 +30,7 @@
     public boolean pinged;
     public String playerList;
     private ServerData.ServerResourceMode resourceMode = ServerData.ServerResourceMode.PROMPT;
-    private String serverIcon;
+    protected String serverIcon;
 
     /** True if the server is a LAN server */
     private boolean lanServer;
diff -ur original/client/network/NetHandlerLoginClient.java minecraft/client/network/NetHandlerLoginClient.java
--- original/client/network/NetHandlerLoginClient.java	2017-06-17 13:16:31.401493000 +0200
+++ minecraft/client/network/NetHandlerLoginClient.java	2017-06-14 13:07:09.035846200 +0200
@@ -7,6 +7,8 @@
 import com.mojang.authlib.minecraft.MinecraftSessionService;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
+import me.deftware.client.framework.AltAPIs.MCLeaks.MCLeaks;
+
 import java.math.BigInteger;
 import java.security.PublicKey;
 import javax.annotation.Nullable;
@@ -52,40 +54,47 @@
         String s = packetIn.getServerId();
         PublicKey publickey = packetIn.getPublicKey();
         String s1 = (new BigInteger(CryptManager.getServerIdHash(s, publickey, secretkey))).toString(16);
-
-        if (this.mc.getCurrentServerData() != null && this.mc.getCurrentServerData().isOnLAN())
-        {
-            try
-            {
-                this.getSessionService().joinServer(this.mc.getSession().getProfile(), this.mc.getSession().getToken(), s1);
-            }
-            catch (AuthenticationException var10)
-            {
-                LOGGER.warn("Couldn't connect to auth servers but will continue to join LAN");
-            }
-        }
-        else
-        {
-            try
-            {
-                this.getSessionService().joinServer(this.mc.getSession().getProfile(), this.mc.getSession().getToken(), s1);
-            }
-            catch (AuthenticationUnavailableException var7)
-            {
-                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {new TextComponentTranslation("disconnect.loginFailedInfo.serversUnavailable", new Object[0])}));
-                return;
-            }
-            catch (InvalidCredentialsException var8)
-            {
-                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {new TextComponentTranslation("disconnect.loginFailedInfo.invalidSession", new Object[0])}));
-                return;
-            }
-            catch (AuthenticationException authenticationexception)
-            {
-                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {authenticationexception.getMessage()}));
-                return;
-            }
-        }
+        
+        // TODO: Client
+        
+        if (MCLeaks.session != null) {
+			MCLeaks.joinServer(MCLeaks.session, s1, this.mc.getCurrentServerData().serverIP);
+		} else {
+        
+	        if (this.mc.getCurrentServerData() != null && this.mc.getCurrentServerData().isOnLAN())
+	        {
+	            try
+	            {
+	                this.getSessionService().joinServer(this.mc.getSession().getProfile(), this.mc.getSession().getToken(), s1);
+	            }
+	            catch (AuthenticationException var10)
+	            {
+	                LOGGER.warn("Couldn't connect to auth servers but will continue to join LAN");
+	            }
+	        }
+	        else
+	        {
+	            try
+	            {
+	                this.getSessionService().joinServer(this.mc.getSession().getProfile(), this.mc.getSession().getToken(), s1);
+	            }
+	            catch (AuthenticationUnavailableException var7)
+	            {
+	                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {new TextComponentTranslation("disconnect.loginFailedInfo.serversUnavailable", new Object[0])}));
+	                return;
+	            }
+	            catch (InvalidCredentialsException var8)
+	            {
+	                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {new TextComponentTranslation("disconnect.loginFailedInfo.invalidSession", new Object[0])}));
+	                return;
+	            }
+	            catch (AuthenticationException authenticationexception)
+	            {
+	                this.networkManager.closeChannel(new TextComponentTranslation("disconnect.loginFailedInfo", new Object[] {authenticationexception.getMessage()}));
+	                return;
+	            }
+	        }
+		}
 
         this.networkManager.sendPacket(new CPacketEncryptionResponse(secretkey, publickey, packetIn.getVerifyToken()), new GenericFutureListener < Future <? super Void >> ()
         {
diff -ur original/client/network/NetHandlerPlayClient.java minecraft/client/network/NetHandlerPlayClient.java
--- original/client/network/NetHandlerPlayClient.java	2017-06-17 13:16:31.409000000 +0200
+++ minecraft/client/network/NetHandlerPlayClient.java	2017-06-14 20:04:40.474548100 +0200
@@ -1,10 +1,5 @@
 package net.minecraft.client.network;
 
-import com.google.common.collect.Maps;
-import com.google.common.util.concurrent.FutureCallback;
-import com.google.common.util.concurrent.Futures;
-import com.mojang.authlib.GameProfile;
-import io.netty.buffer.Unpooled;
 import java.io.File;
 import java.io.IOException;
 import java.io.UnsupportedEncodingException;
@@ -17,11 +12,23 @@
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.Map.Entry;
 import java.util.Random;
 import java.util.UUID;
-import java.util.Map.Entry;
-import java.util.function.Consumer;
+
 import javax.annotation.Nullable;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
+import com.google.common.collect.Maps;
+import com.google.common.util.concurrent.FutureCallback;
+import com.google.common.util.concurrent.Futures;
+import com.mojang.authlib.GameProfile;
+
+import io.netty.buffer.Unpooled;
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventKnockback;
 import net.minecraft.advancements.Advancement;
 import net.minecraft.block.Block;
 import net.minecraft.client.ClientBrandRetriever;
@@ -254,8 +261,6 @@
 import net.minecraft.world.WorldSettings;
 import net.minecraft.world.chunk.Chunk;
 import net.minecraft.world.storage.MapData;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 
 public class NetHandlerPlayClient implements INetHandlerPlayClient
 {
@@ -321,7 +326,8 @@
      * Registers some server properties (gametype,hardcore-mode,terraintype,difficulty,player limit), creates a new
      * WorldClient and sets the player initial dimension
      */
-    public void handleJoinGame(SPacketJoinGame packetIn)
+    @Override
+	public void handleJoinGame(SPacketJoinGame packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.playerController = new PlayerControllerMP(this.gameController, this);
@@ -341,7 +347,8 @@
     /**
      * Spawns an instance of the objecttype indicated by the packet and sets its position and momentum
      */
-    public void handleSpawnObject(SPacketSpawnObject packetIn)
+    @Override
+	public void handleSpawnObject(SPacketSpawnObject packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         double d0 = packetIn.getX();
@@ -378,7 +385,7 @@
         }
         else if (packetIn.getType() == 68)
         {
-            entity = new EntityLlamaSpit(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntityLlamaSpit(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
         }
         else if (packetIn.getType() == 71)
         {
@@ -404,27 +411,27 @@
         }
         else if (packetIn.getType() == 63)
         {
-            entity = new EntityLargeFireball(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntityLargeFireball(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             packetIn.setData(0);
         }
         else if (packetIn.getType() == 93)
         {
-            entity = new EntityDragonFireball(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntityDragonFireball(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             packetIn.setData(0);
         }
         else if (packetIn.getType() == 64)
         {
-            entity = new EntitySmallFireball(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntitySmallFireball(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             packetIn.setData(0);
         }
         else if (packetIn.getType() == 66)
         {
-            entity = new EntityWitherSkull(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntityWitherSkull(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             packetIn.setData(0);
         }
         else if (packetIn.getType() == 67)
         {
-            entity = new EntityShulkerBullet(this.clientWorldController, d0, d1, d2, (double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+            entity = new EntityShulkerBullet(this.clientWorldController, d0, d1, d2, packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             packetIn.setData(0);
         }
         else if (packetIn.getType() == 62)
@@ -478,8 +485,8 @@
         if (entity != null)
         {
             EntityTracker.updateServerPosition(entity, d0, d1, d2);
-            entity.rotationPitch = (float)(packetIn.getPitch() * 360) / 256.0F;
-            entity.rotationYaw = (float)(packetIn.getYaw() * 360) / 256.0F;
+            entity.rotationPitch = packetIn.getPitch() * 360 / 256.0F;
+            entity.rotationYaw = packetIn.getYaw() * 360 / 256.0F;
             Entity[] aentity = entity.getParts();
 
             if (aentity != null)
@@ -508,7 +515,7 @@
                     }
                 }
 
-                entity.setVelocity((double)packetIn.getSpeedX() / 8000.0D, (double)packetIn.getSpeedY() / 8000.0D, (double)packetIn.getSpeedZ() / 8000.0D);
+                entity.setVelocity(packetIn.getSpeedX() / 8000.0D, packetIn.getSpeedY() / 8000.0D, packetIn.getSpeedZ() / 8000.0D);
             }
         }
     }
@@ -516,7 +523,8 @@
     /**
      * Spawns an experience orb and sets its value (amount of XP)
      */
-    public void handleSpawnExperienceOrb(SPacketSpawnExperienceOrb packetIn)
+    @Override
+	public void handleSpawnExperienceOrb(SPacketSpawnExperienceOrb packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         double d0 = packetIn.getX();
@@ -533,7 +541,8 @@
     /**
      * Handles globally visible entities. Used in vanilla for lightning bolts
      */
-    public void handleSpawnGlobalEntity(SPacketSpawnGlobalEntity packetIn)
+    @Override
+	public void handleSpawnGlobalEntity(SPacketSpawnGlobalEntity packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         double d0 = packetIn.getX();
@@ -559,7 +568,8 @@
     /**
      * Handles the spawning of a painting object
      */
-    public void handleSpawnPainting(SPacketSpawnPainting packetIn)
+    @Override
+	public void handleSpawnPainting(SPacketSpawnPainting packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPainting entitypainting = new EntityPainting(this.clientWorldController, packetIn.getPosition(), packetIn.getFacing(), packetIn.getTitle());
@@ -570,14 +580,15 @@
     /**
      * Sets the velocity of the specified entity to the specified value
      */
-    public void handleEntityVelocity(SPacketEntityVelocity packetIn)
+    @Override
+	public void handleEntityVelocity(SPacketEntityVelocity packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityID());
 
         if (entity != null)
         {
-            entity.setVelocity((double)packetIn.getMotionX() / 8000.0D, (double)packetIn.getMotionY() / 8000.0D, (double)packetIn.getMotionZ() / 8000.0D);
+            entity.setVelocity(packetIn.getMotionX() / 8000.0D, packetIn.getMotionY() / 8000.0D, packetIn.getMotionZ() / 8000.0D);
         }
     }
 
@@ -585,7 +596,8 @@
      * Invoked when the server registers new proximate objects in your watchlist or when objects in your watchlist have
      * changed -> Registers any changes locally
      */
-    public void handleEntityMetadata(SPacketEntityMetadata packetIn)
+    @Override
+	public void handleEntityMetadata(SPacketEntityMetadata packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
@@ -599,14 +611,15 @@
     /**
      * Handles the creation of a nearby player entity, sets the position and held item
      */
-    public void handleSpawnPlayer(SPacketSpawnPlayer packetIn)
+    @Override
+	public void handleSpawnPlayer(SPacketSpawnPlayer packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         double d0 = packetIn.getX();
         double d1 = packetIn.getY();
         double d2 = packetIn.getZ();
-        float f = (float)(packetIn.getYaw() * 360) / 256.0F;
-        float f1 = (float)(packetIn.getPitch() * 360) / 256.0F;
+        float f = packetIn.getYaw() * 360 / 256.0F;
+        float f1 = packetIn.getPitch() * 360 / 256.0F;
         EntityOtherPlayerMP entityotherplayermp = new EntityOtherPlayerMP(this.gameController.world, this.getPlayerInfo(packetIn.getUniqueId()).getGameProfile());
         entityotherplayermp.prevPosX = d0;
         entityotherplayermp.lastTickPosX = d0;
@@ -628,7 +641,8 @@
     /**
      * Updates an entity's position and rotation as specified by the packet
      */
-    public void handleEntityTeleport(SPacketEntityTeleport packetIn)
+    @Override
+	public void handleEntityTeleport(SPacketEntityTeleport packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
@@ -642,8 +656,8 @@
 
             if (!entity.canPassengerSteer())
             {
-                float f = (float)(packetIn.getYaw() * 360) / 256.0F;
-                float f1 = (float)(packetIn.getPitch() * 360) / 256.0F;
+                float f = packetIn.getYaw() * 360 / 256.0F;
+                float f1 = packetIn.getPitch() * 360 / 256.0F;
 
                 if (Math.abs(entity.posX - d0) < 0.03125D && Math.abs(entity.posY - d1) < 0.015625D && Math.abs(entity.posZ - d2) < 0.03125D)
                 {
@@ -662,7 +676,8 @@
     /**
      * Updates which hotbar slot of the player is currently selected
      */
-    public void handleHeldItemChange(SPacketHeldItemChange packetIn)
+    @Override
+	public void handleHeldItemChange(SPacketHeldItemChange packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -677,24 +692,25 @@
      * subclassing of the packet allows for the specification of a subset of this data (e.g. only rel. position, abs.
      * rotation or both).
      */
-    public void handleEntityMovement(SPacketEntity packetIn)
+    @Override
+	public void handleEntityMovement(SPacketEntity packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = packetIn.getEntity(this.clientWorldController);
 
         if (entity != null)
         {
-            entity.serverPosX += (long)packetIn.getX();
-            entity.serverPosY += (long)packetIn.getY();
-            entity.serverPosZ += (long)packetIn.getZ();
-            double d0 = (double)entity.serverPosX / 4096.0D;
-            double d1 = (double)entity.serverPosY / 4096.0D;
-            double d2 = (double)entity.serverPosZ / 4096.0D;
+            entity.serverPosX += packetIn.getX();
+            entity.serverPosY += packetIn.getY();
+            entity.serverPosZ += packetIn.getZ();
+            double d0 = entity.serverPosX / 4096.0D;
+            double d1 = entity.serverPosY / 4096.0D;
+            double d2 = entity.serverPosZ / 4096.0D;
 
             if (!entity.canPassengerSteer())
             {
-                float f = packetIn.isRotating() ? (float)(packetIn.getYaw() * 360) / 256.0F : entity.rotationYaw;
-                float f1 = packetIn.isRotating() ? (float)(packetIn.getPitch() * 360) / 256.0F : entity.rotationPitch;
+                float f = packetIn.isRotating() ? packetIn.getYaw() * 360 / 256.0F : entity.rotationYaw;
+                float f1 = packetIn.isRotating() ? packetIn.getPitch() * 360 / 256.0F : entity.rotationPitch;
                 entity.setPositionAndRotationDirect(d0, d1, d2, f, f1, 3, false);
                 entity.onGround = packetIn.getOnGround();
             }
@@ -705,14 +721,15 @@
      * Updates the direction in which the specified entity is looking, normally this head rotation is independent of the
      * rotation of the entity itself
      */
-    public void handleEntityHeadLook(SPacketEntityHeadLook packetIn)
+    @Override
+	public void handleEntityHeadLook(SPacketEntityHeadLook packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = packetIn.getEntity(this.clientWorldController);
 
         if (entity != null)
         {
-            float f = (float)(packetIn.getYaw() * 360) / 256.0F;
+            float f = packetIn.getYaw() * 360 / 256.0F;
             entity.setRotationYawHead(f);
         }
     }
@@ -722,7 +739,8 @@
      * longer registered as required to monitor them. The latter  happens when distance between the player and item
      * increases beyond a certain treshold (typically the viewing distance)
      */
-    public void handleDestroyEntities(SPacketDestroyEntities packetIn)
+    @Override
+	public void handleDestroyEntities(SPacketDestroyEntities packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -732,7 +750,8 @@
         }
     }
 
-    public void handlePlayerPosLook(SPacketPlayerPosLook packetIn)
+    @Override
+	public void handlePlayerPosLook(SPacketPlayerPosLook packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer = this.gameController.player;
@@ -798,7 +817,8 @@
      * requires an update, the server sends S23PacketBlockChange and if 64 or more blocks are changed, the server sends
      * S21PacketChunkData
      */
-    public void handleMultiBlockChange(SPacketMultiBlockChange packetIn)
+    @Override
+	public void handleMultiBlockChange(SPacketMultiBlockChange packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -811,7 +831,8 @@
     /**
      * Updates the specified chunk with the supplied data, marks it for re-rendering and lighting recalculation
      */
-    public void handleChunkData(SPacketChunkData packetIn)
+    @Override
+	public void handleChunkData(SPacketChunkData packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -842,7 +863,8 @@
         }
     }
 
-    public void processChunkUnload(SPacketUnloadChunk packetIn)
+    @Override
+	public void processChunkUnload(SPacketUnloadChunk packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.clientWorldController.doPreChunk(packetIn.getX(), packetIn.getZ(), false);
@@ -851,7 +873,8 @@
     /**
      * Updates the block and metadata and generates a blockupdate (and notify the clients)
      */
-    public void handleBlockChange(SPacketBlockChange packetIn)
+    @Override
+	public void handleBlockChange(SPacketBlockChange packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.clientWorldController.invalidateRegionAndSetBlock(packetIn.getBlockPosition(), packetIn.getBlockState());
@@ -860,7 +883,8 @@
     /**
      * Closes the network channel
      */
-    public void handleDisconnect(SPacketDisconnect packetIn)
+    @Override
+	public void handleDisconnect(SPacketDisconnect packetIn)
     {
         this.netManager.closeChannel(packetIn.getReason());
     }
@@ -868,7 +892,8 @@
     /**
      * Invoked when disconnecting, the parameter is a ChatComponent describing the reason for termination
      */
-    public void onDisconnect(ITextComponent reason)
+    @Override
+	public void onDisconnect(ITextComponent reason)
     {
         this.gameController.loadWorld((WorldClient)null);
 
@@ -894,7 +919,8 @@
         this.netManager.sendPacket(packetIn);
     }
 
-    public void handleCollectItem(SPacketCollectItem packetIn)
+    @Override
+	public void handleCollectItem(SPacketCollectItem packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getCollectedItemEntityID());
@@ -929,7 +955,8 @@
     /**
      * Prints a chatmessage in the chat GUI
      */
-    public void handleChat(SPacketChat packetIn)
+    @Override
+	public void handleChat(SPacketChat packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.ingameGUI.func_191742_a(packetIn.func_192590_c(), packetIn.getChatComponent());
@@ -939,7 +966,8 @@
      * Renders a specified animation: Waking up a player, a living entity swinging its currently held item, being hurt
      * or receiving a critical hit by normal or magical means
      */
-    public void handleAnimation(SPacketAnimation packetIn)
+    @Override
+	public void handleAnimation(SPacketAnimation packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityID());
@@ -980,7 +1008,8 @@
      * Retrieves the player identified by the packet, puts him to sleep if possible (and flags whether all players are
      * asleep)
      */
-    public void handleUseBed(SPacketUseBed packetIn)
+    @Override
+	public void handleUseBed(SPacketUseBed packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         packetIn.getPlayer(this.clientWorldController).trySleep(packetIn.getBedPosition());
@@ -990,21 +1019,22 @@
      * Spawns the mob entity at the specified location, with the specified rotation, momentum and type. Updates the
      * entities Datawatchers with the entity metadata specified in the packet
      */
-    public void handleSpawnMob(SPacketSpawnMob packetIn)
+    @Override
+	public void handleSpawnMob(SPacketSpawnMob packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         double d0 = packetIn.getX();
         double d1 = packetIn.getY();
         double d2 = packetIn.getZ();
-        float f = (float)(packetIn.getYaw() * 360) / 256.0F;
-        float f1 = (float)(packetIn.getPitch() * 360) / 256.0F;
+        float f = packetIn.getYaw() * 360 / 256.0F;
+        float f1 = packetIn.getPitch() * 360 / 256.0F;
         EntityLivingBase entitylivingbase = (EntityLivingBase)EntityList.createEntityByID(packetIn.getEntityType(), this.gameController.world);
 
         if (entitylivingbase != null)
         {
             EntityTracker.updateServerPosition(entitylivingbase, d0, d1, d2);
-            entitylivingbase.renderYawOffset = (float)(packetIn.getHeadPitch() * 360) / 256.0F;
-            entitylivingbase.rotationYawHead = (float)(packetIn.getHeadPitch() * 360) / 256.0F;
+            entitylivingbase.renderYawOffset = packetIn.getHeadPitch() * 360 / 256.0F;
+            entitylivingbase.rotationYawHead = packetIn.getHeadPitch() * 360 / 256.0F;
             Entity[] aentity = entitylivingbase.getParts();
 
             if (aentity != null)
@@ -1020,9 +1050,9 @@
             entitylivingbase.setEntityId(packetIn.getEntityID());
             entitylivingbase.setUniqueId(packetIn.getUniqueId());
             entitylivingbase.setPositionAndRotation(d0, d1, d2, f, f1);
-            entitylivingbase.motionX = (double)((float)packetIn.getVelocityX() / 8000.0F);
-            entitylivingbase.motionY = (double)((float)packetIn.getVelocityY() / 8000.0F);
-            entitylivingbase.motionZ = (double)((float)packetIn.getVelocityZ() / 8000.0F);
+            entitylivingbase.motionX = packetIn.getVelocityX() / 8000.0F;
+            entitylivingbase.motionY = packetIn.getVelocityY() / 8000.0F;
+            entitylivingbase.motionZ = packetIn.getVelocityZ() / 8000.0F;
             this.clientWorldController.addEntityToWorld(packetIn.getEntityID(), entitylivingbase);
             List < EntityDataManager.DataEntry<? >> list = packetIn.getDataManagerEntries();
 
@@ -1033,25 +1063,28 @@
         }
         else
         {
-            LOGGER.warn("Skipping Entity with id {}", (int)packetIn.getEntityType());
+            LOGGER.warn("Skipping Entity with id {}", packetIn.getEntityType());
         }
     }
 
-    public void handleTimeUpdate(SPacketTimeUpdate packetIn)
+    @Override
+	public void handleTimeUpdate(SPacketTimeUpdate packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.world.setTotalWorldTime(packetIn.getTotalWorldTime());
         this.gameController.world.setWorldTime(packetIn.getWorldTime());
     }
 
-    public void handleSpawnPosition(SPacketSpawnPosition packetIn)
+    @Override
+	public void handleSpawnPosition(SPacketSpawnPosition packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.player.setSpawnPoint(packetIn.getSpawnPos(), true);
         this.gameController.world.getWorldInfo().setSpawn(packetIn.getSpawnPos());
     }
 
-    public void handleSetPassengers(SPacketSetPassengers packetIn)
+    @Override
+	public void handleSetPassengers(SPacketSetPassengers packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
@@ -1082,7 +1115,8 @@
         }
     }
 
-    public void handleEntityAttach(SPacketEntityAttach packetIn)
+    @Override
+	public void handleEntityAttach(SPacketEntityAttach packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
@@ -1107,7 +1141,8 @@
      * (spawn particles), Zombie (villager transformation), Animal (breeding mode particles), Horse (breeding/smoke
      * particles), Sheep (...), Tameable (...), Villager (particles for breeding mode, angry and happy), Wolf (...)
      */
-    public void handleEntityStatus(SPacketEntityStatus packetIn)
+    @Override
+	public void handleEntityStatus(SPacketEntityStatus packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = packetIn.getEntity(this.clientWorldController);
@@ -1136,7 +1171,8 @@
         }
     }
 
-    public void handleUpdateHealth(SPacketUpdateHealth packetIn)
+    @Override
+	public void handleUpdateHealth(SPacketUpdateHealth packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.player.setPlayerSPHealth(packetIn.getHealth());
@@ -1144,13 +1180,15 @@
         this.gameController.player.getFoodStats().setFoodSaturationLevel(packetIn.getSaturationLevel());
     }
 
-    public void handleSetExperience(SPacketSetExperience packetIn)
+    @Override
+	public void handleSetExperience(SPacketSetExperience packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.player.setXPStats(packetIn.getExperienceBar(), packetIn.getTotalExperience(), packetIn.getLevel());
     }
 
-    public void handleRespawn(SPacketRespawn packetIn)
+    @Override
+	public void handleRespawn(SPacketRespawn packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -1172,21 +1210,31 @@
     /**
      * Initiates a new explosion (sound, particles, drop spawn) for the affected blocks indicated by the packet.
      */
-    public void handleExplosion(SPacketExplosion packetIn)
+    @Override
+	public void handleExplosion(SPacketExplosion packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Explosion explosion = new Explosion(this.gameController.world, (Entity)null, packetIn.getX(), packetIn.getY(), packetIn.getZ(), packetIn.getStrength(), packetIn.getAffectedBlockPositions());
         explosion.doExplosionB(true);
-        this.gameController.player.motionX += (double)packetIn.getMotionX();
-        this.gameController.player.motionY += (double)packetIn.getMotionY();
-        this.gameController.player.motionZ += (double)packetIn.getMotionZ();
+
+		// TODO: Client
+		EventKnockback event = new EventKnockback(packetIn.getMotionX(), packetIn.getMotionY(), packetIn.getMotionZ());
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+
+		this.gameController.player.motionX += event.getX();
+		this.gameController.player.motionY += event.getY();
+		this.gameController.player.motionZ += event.getZ();
     }
 
     /**
      * Displays a GUI by ID. In order starting from id 0: Chest, Workbench, Furnace, Dispenser, Enchanting table,
      * Brewing stand, Villager merchant, Beacon, Anvil, Hopper, Dropper, Horse
      */
-    public void handleOpenWindow(SPacketOpenWindow packetIn)
+    @Override
+	public void handleOpenWindow(SPacketOpenWindow packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayerSP entityplayersp = this.gameController.player;
@@ -1227,7 +1275,8 @@
     /**
      * Handles pickin up an ItemStack or dropping one in your inventory or an open (non-creative) container
      */
-    public void handleSetSlot(SPacketSetSlot packetIn)
+    @Override
+	public void handleSetSlot(SPacketSetSlot packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer = this.gameController.player;
@@ -1278,7 +1327,8 @@
      * Verifies that the server and client are synchronized with respect to the inventory/container opened by the player
      * and confirms if it is the case.
      */
-    public void handleConfirmTransaction(SPacketConfirmTransaction packetIn)
+    @Override
+	public void handleConfirmTransaction(SPacketConfirmTransaction packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Container container = null;
@@ -1302,7 +1352,8 @@
     /**
      * Handles the placement of a specified ItemStack in a specified container/inventory slot
      */
-    public void handleWindowItems(SPacketWindowItems packetIn)
+    @Override
+	public void handleWindowItems(SPacketWindowItems packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer = this.gameController.player;
@@ -1320,7 +1371,8 @@
     /**
      * Creates a sign in the specified location if it didn't exist and opens the GUI to edit its text
      */
-    public void handleSignEditorOpen(SPacketSignEditorOpen packetIn)
+    @Override
+	public void handleSignEditorOpen(SPacketSignEditorOpen packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         TileEntity tileentity = this.clientWorldController.getTileEntity(packetIn.getSignPosition());
@@ -1339,7 +1391,8 @@
      * Updates the NBTTagCompound metadata of instances of the following entitytypes: Mob spawners, command blocks,
      * beacons, skulls, flowerpot
      */
-    public void handleUpdateTileEntity(SPacketUpdateTileEntity packetIn)
+    @Override
+	public void handleUpdateTileEntity(SPacketUpdateTileEntity packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -1364,7 +1417,8 @@
     /**
      * Sets the progressbar of the opened window to the specified value
      */
-    public void handleWindowProperty(SPacketWindowProperty packetIn)
+    @Override
+	public void handleWindowProperty(SPacketWindowProperty packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer = this.gameController.player;
@@ -1375,7 +1429,8 @@
         }
     }
 
-    public void handleEntityEquipment(SPacketEntityEquipment packetIn)
+    @Override
+	public void handleEntityEquipment(SPacketEntityEquipment packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityID());
@@ -1389,7 +1444,8 @@
     /**
      * Resets the ItemStack held in hand and closes the window that is opened
      */
-    public void handleCloseWindow(SPacketCloseWindow packetIn)
+    @Override
+	public void handleCloseWindow(SPacketCloseWindow packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.player.closeScreenAndDropStack();
@@ -1400,7 +1456,8 @@
      * for setting the instrument (including audiovisual feedback) and in BlockContainer to set the number of players
      * accessing a (Ender)Chest
      */
-    public void handleBlockAction(SPacketBlockAction packetIn)
+    @Override
+	public void handleBlockAction(SPacketBlockAction packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.world.addBlockEvent(packetIn.getBlockPosition(), packetIn.getBlockType(), packetIn.getData1(), packetIn.getData2());
@@ -1409,13 +1466,15 @@
     /**
      * Updates all registered IWorldAccess instances with destroyBlockInWorldPartially
      */
-    public void handleBlockBreakAnim(SPacketBlockBreakAnim packetIn)
+    @Override
+	public void handleBlockBreakAnim(SPacketBlockBreakAnim packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.world.sendBlockBreakProgress(packetIn.getBreakerId(), packetIn.getPosition(), packetIn.getProgress());
     }
 
-    public void handleChangeGameState(SPacketChangeGameState packetIn)
+    @Override
+	public void handleChangeGameState(SPacketChangeGameState packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer = this.gameController.player;
@@ -1480,7 +1539,7 @@
         }
         else if (i == 6)
         {
-            this.clientWorldController.playSound(entityplayer, entityplayer.posX, entityplayer.posY + (double)entityplayer.getEyeHeight(), entityplayer.posZ, SoundEvents.ENTITY_ARROW_HIT_PLAYER, SoundCategory.PLAYERS, 0.18F, 0.45F);
+            this.clientWorldController.playSound(entityplayer, entityplayer.posX, entityplayer.posY + entityplayer.getEyeHeight(), entityplayer.posZ, SoundEvents.ENTITY_ARROW_HIT_PLAYER, SoundCategory.PLAYERS, 0.18F, 0.45F);
         }
         else if (i == 7)
         {
@@ -1501,7 +1560,8 @@
      * Updates the worlds MapStorage with the specified MapData for the specified map-identifier and invokes a
      * MapItemRenderer for it
      */
-    public void handleMaps(SPacketMaps packetIn)
+    @Override
+	public void handleMaps(SPacketMaps packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         MapItemRenderer mapitemrenderer = this.gameController.entityRenderer.getMapItemRenderer();
@@ -1529,7 +1589,8 @@
         mapitemrenderer.updateMapTexture(mapdata);
     }
 
-    public void handleEffect(SPacketEffect packetIn)
+    @Override
+	public void handleEffect(SPacketEffect packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -1543,13 +1604,15 @@
         }
     }
 
-    public void func_191981_a(SPacketAdvancementInfo p_191981_1_)
+    @Override
+	public void func_191981_a(SPacketAdvancementInfo p_191981_1_)
     {
         PacketThreadUtil.checkThreadAndEnqueue(p_191981_1_, this, this.gameController);
         this.field_191983_k.func_192799_a(p_191981_1_);
     }
 
-    public void func_194022_a(SPacketSelectAdvancementsTab p_194022_1_)
+    @Override
+	public void func_194022_a(SPacketSelectAdvancementsTab p_194022_1_)
     {
         PacketThreadUtil.checkThreadAndEnqueue(p_194022_1_, this, this.gameController);
         ResourceLocation resourcelocation = p_194022_1_.func_194154_a();
@@ -1568,14 +1631,15 @@
     /**
      * Updates the players statistics or achievements
      */
-    public void handleStatistics(SPacketStatistics packetIn)
+    @Override
+	public void handleStatistics(SPacketStatistics packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
         for (Entry<StatBase, Integer> entry : packetIn.getStatisticMap().entrySet())
         {
             StatBase statbase = entry.getKey();
-            int k = ((Integer)entry.getValue()).intValue();
+            int k = entry.getValue().intValue();
             this.gameController.player.getStatFileWriter().unlockAchievement(this.gameController.player, statbase, k);
         }
 
@@ -1587,7 +1651,8 @@
         }
     }
 
-    public void func_191980_a(SPacketRecipeBook p_191980_1_)
+    @Override
+	public void func_191980_a(SPacketRecipeBook p_191980_1_)
     {
         RecipeBook recipebook;
         PacketThreadUtil.checkThreadAndEnqueue(p_191980_1_, this, this.gameController);
@@ -1638,7 +1703,8 @@
         }
     }
 
-    public void handleEntityEffect(SPacketEntityEffect packetIn)
+    @Override
+	public void handleEntityEffect(SPacketEntityEffect packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
@@ -1656,7 +1722,8 @@
         }
     }
 
-    public void handleCombatEvent(SPacketCombatEvent packetIn)
+    @Override
+	public void handleCombatEvent(SPacketCombatEvent packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -1671,14 +1738,16 @@
         }
     }
 
-    public void handleServerDifficulty(SPacketServerDifficulty packetIn)
+    @Override
+	public void handleServerDifficulty(SPacketServerDifficulty packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.world.getWorldInfo().setDifficulty(packetIn.getDifficulty());
         this.gameController.world.getWorldInfo().setDifficultyLocked(packetIn.isDifficultyLocked());
     }
 
-    public void handleCamera(SPacketCamera packetIn)
+    @Override
+	public void handleCamera(SPacketCamera packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = packetIn.getEntity(this.clientWorldController);
@@ -1689,13 +1758,15 @@
         }
     }
 
-    public void handleWorldBorder(SPacketWorldBorder packetIn)
+    @Override
+	public void handleWorldBorder(SPacketWorldBorder packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         packetIn.apply(this.clientWorldController.getWorldBorder());
     }
 
-    @SuppressWarnings("incomplete-switch")
+    @Override
+	@SuppressWarnings("incomplete-switch")
     public void handleTitle(SPacketTitle packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
@@ -1727,13 +1798,15 @@
         this.gameController.ingameGUI.displayTitle(s, s1, packetIn.getFadeInTime(), packetIn.getDisplayTime(), packetIn.getFadeOutTime());
     }
 
-    public void handlePlayerListHeaderFooter(SPacketPlayerListHeaderFooter packetIn)
+    @Override
+	public void handlePlayerListHeaderFooter(SPacketPlayerListHeaderFooter packetIn)
     {
         this.gameController.ingameGUI.getTabList().setHeader(packetIn.getHeader().getFormattedText().isEmpty() ? null : packetIn.getHeader());
         this.gameController.ingameGUI.getTabList().setFooter(packetIn.getFooter().getFormattedText().isEmpty() ? null : packetIn.getFooter());
     }
 
-    public void handleRemoveEntityEffect(SPacketRemoveEntityEffect packetIn)
+    @Override
+	public void handleRemoveEntityEffect(SPacketRemoveEntityEffect packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = packetIn.getEntity(this.clientWorldController);
@@ -1744,7 +1817,8 @@
         }
     }
 
-    @SuppressWarnings("incomplete-switch")
+    @Override
+	@SuppressWarnings("incomplete-switch")
     public void handlePlayerListItem(SPacketPlayerListItem packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
@@ -1790,12 +1864,14 @@
         }
     }
 
-    public void handleKeepAlive(SPacketKeepAlive packetIn)
+    @Override
+	public void handleKeepAlive(SPacketKeepAlive packetIn)
     {
         this.sendPacket(new CPacketKeepAlive(packetIn.getId()));
     }
 
-    public void handlePlayerAbilities(SPacketPlayerAbilities packetIn)
+    @Override
+	public void handlePlayerAbilities(SPacketPlayerAbilities packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         EntityPlayer entityplayer1 = this.gameController.player;
@@ -1810,11 +1886,12 @@
     /**
      * Displays the available command-completion options the server knows of
      */
-    public void handleTabComplete(SPacketTabComplete packetIn)
+    @Override
+	public void handleTabComplete(SPacketTabComplete packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         String[] astring = packetIn.getMatches();
-        Arrays.sort((Object[])astring);
+        Arrays.sort(astring);
 
         if (this.gameController.currentScreen instanceof ITabCompleter)
         {
@@ -1822,19 +1899,22 @@
         }
     }
 
-    public void handleSoundEffect(SPacketSoundEffect packetIn)
+    @Override
+	public void handleSoundEffect(SPacketSoundEffect packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.world.playSound(this.gameController.player, packetIn.getX(), packetIn.getY(), packetIn.getZ(), packetIn.getSound(), packetIn.getCategory(), packetIn.getVolume(), packetIn.getPitch());
     }
 
-    public void handleCustomSound(SPacketCustomSound packetIn)
+    @Override
+	public void handleCustomSound(SPacketCustomSound packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.getSoundHandler().playSound(new PositionedSoundRecord(new ResourceLocation(packetIn.getSoundName()), packetIn.getCategory(), packetIn.getVolume(), packetIn.getPitch(), false, 0, ISound.AttenuationType.LINEAR, (float)packetIn.getX(), (float)packetIn.getY(), (float)packetIn.getZ()));
     }
 
-    public void handleResourcePack(SPacketResourcePackSend packetIn)
+    @Override
+	public void handleResourcePack(SPacketResourcePackSend packetIn)
     {
         final String s = packetIn.getURL();
         final String s1 = packetIn.getHash();
@@ -1880,11 +1960,13 @@
                 {
                     this.gameController.addScheduledTask(new Runnable()
                     {
-                        public void run()
+                        @Override
+						public void run()
                         {
                             NetHandlerPlayClient.this.gameController.displayGuiScreen(new GuiYesNo(new GuiYesNoCallback()
                             {
-                                public void confirmClicked(boolean result, int id)
+                                @Override
+								public void confirmClicked(boolean result, int id)
                                 {
                                     NetHandlerPlayClient.this.gameController = Minecraft.getMinecraft();
                                     ServerData serverdata1 = NetHandlerPlayClient.this.gameController.getCurrentServerData();
@@ -1952,24 +2034,28 @@
     {
         return new FutureCallback<Object>()
         {
-            public void onSuccess(@Nullable Object p_onSuccess_1_)
+            @Override
+			public void onSuccess(@Nullable Object p_onSuccess_1_)
             {
                 NetHandlerPlayClient.this.netManager.sendPacket(new CPacketResourcePackStatus(CPacketResourcePackStatus.Action.SUCCESSFULLY_LOADED));
             }
-            public void onFailure(Throwable p_onFailure_1_)
+            @Override
+			public void onFailure(Throwable p_onFailure_1_)
             {
                 NetHandlerPlayClient.this.netManager.sendPacket(new CPacketResourcePackStatus(CPacketResourcePackStatus.Action.FAILED_DOWNLOAD));
             }
         };
     }
 
-    public void handleUpdateEntityNBT(SPacketUpdateBossInfo packetIn)
+    @Override
+	public void handleUpdateEntityNBT(SPacketUpdateBossInfo packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         this.gameController.ingameGUI.getBossOverlay().read(packetIn);
     }
 
-    public void handleCooldown(SPacketCooldown packetIn)
+    @Override
+	public void handleCooldown(SPacketCooldown packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -1983,7 +2069,8 @@
         }
     }
 
-    public void handleMoveVehicle(SPacketMoveVehicle packetIn)
+    @Override
+	public void handleMoveVehicle(SPacketMoveVehicle packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.gameController.player.getLowestRidingEntity();
@@ -2001,7 +2088,8 @@
      * player instance and finally "MC|RPack" which the server uses to communicate the identifier of the default server
      * resourcepack for the client to load.
      */
-    public void handleCustomPayload(SPacketCustomPayload packetIn)
+    @Override
+	public void handleCustomPayload(SPacketCustomPayload packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
@@ -2023,7 +2111,7 @@
             }
             catch (IOException ioexception)
             {
-                LOGGER.error("Couldn't load trade info", (Throwable)ioexception);
+                LOGGER.error("Couldn't load trade info", ioexception);
             }
             finally
             {
@@ -2036,7 +2124,7 @@
         }
         else if ("MC|BOpen".equals(packetIn.getChannelName()))
         {
-            EnumHand enumhand = (EnumHand)packetIn.getBufferData().readEnumValue(EnumHand.class);
+            EnumHand enumhand = packetIn.getBufferData().readEnumValue(EnumHand.class);
             ItemStack itemstack = enumhand == EnumHand.OFF_HAND ? this.gameController.player.getHeldItemOffhand() : this.gameController.player.getHeldItemMainhand();
 
             if (itemstack.getItem() == Items.WRITTEN_BOOK)
@@ -2071,7 +2159,8 @@
     /**
      * May create a scoreboard objective, remove an objective from the scoreboard or update an objectives' displayname
      */
-    public void handleScoreboardObjective(SPacketScoreboardObjective packetIn)
+    @Override
+	public void handleScoreboardObjective(SPacketScoreboardObjective packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Scoreboard scoreboard = this.clientWorldController.getScoreboard();
@@ -2101,7 +2190,8 @@
     /**
      * Either updates the score with a specified value or removes the score for an objective
      */
-    public void handleUpdateScore(SPacketUpdateScore packetIn)
+    @Override
+	public void handleUpdateScore(SPacketUpdateScore packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Scoreboard scoreboard = this.clientWorldController.getScoreboard();
@@ -2129,7 +2219,8 @@
      * Removes or sets the ScoreObjective to be displayed at a particular scoreboard position (list, sidebar, below
      * name)
      */
-    public void handleDisplayObjective(SPacketDisplayObjective packetIn)
+    @Override
+	public void handleDisplayObjective(SPacketDisplayObjective packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Scoreboard scoreboard = this.clientWorldController.getScoreboard();
@@ -2149,7 +2240,8 @@
      * Updates a team managed by the scoreboard: Create/Remove the team registration, Register/Remove the player-team-
      * memberships, Set team displayname/prefix/suffix and/or whether friendly fire is enabled
      */
-    public void handleTeams(SPacketTeams packetIn)
+    @Override
+	public void handleTeams(SPacketTeams packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Scoreboard scoreboard = this.clientWorldController.getScoreboard();
@@ -2212,15 +2304,16 @@
      * Spawns a specified number of particles at the specified location with a randomized displacement according to
      * specified bounds
      */
-    public void handleParticles(SPacketParticles packetIn)
+    @Override
+	public void handleParticles(SPacketParticles packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
 
         if (packetIn.getParticleCount() == 0)
         {
-            double d0 = (double)(packetIn.getParticleSpeed() * packetIn.getXOffset());
-            double d2 = (double)(packetIn.getParticleSpeed() * packetIn.getYOffset());
-            double d4 = (double)(packetIn.getParticleSpeed() * packetIn.getZOffset());
+            double d0 = packetIn.getParticleSpeed() * packetIn.getXOffset();
+            double d2 = packetIn.getParticleSpeed() * packetIn.getYOffset();
+            double d4 = packetIn.getParticleSpeed() * packetIn.getZOffset();
 
             try
             {
@@ -2228,19 +2321,19 @@
             }
             catch (Throwable var17)
             {
-                LOGGER.warn("Could not spawn particle effect {}", (Object)packetIn.getParticleType());
+                LOGGER.warn("Could not spawn particle effect {}", packetIn.getParticleType());
             }
         }
         else
         {
             for (int k = 0; k < packetIn.getParticleCount(); ++k)
             {
-                double d1 = this.avRandomizer.nextGaussian() * (double)packetIn.getXOffset();
-                double d3 = this.avRandomizer.nextGaussian() * (double)packetIn.getYOffset();
-                double d5 = this.avRandomizer.nextGaussian() * (double)packetIn.getZOffset();
-                double d6 = this.avRandomizer.nextGaussian() * (double)packetIn.getParticleSpeed();
-                double d7 = this.avRandomizer.nextGaussian() * (double)packetIn.getParticleSpeed();
-                double d8 = this.avRandomizer.nextGaussian() * (double)packetIn.getParticleSpeed();
+                double d1 = this.avRandomizer.nextGaussian() * packetIn.getXOffset();
+                double d3 = this.avRandomizer.nextGaussian() * packetIn.getYOffset();
+                double d5 = this.avRandomizer.nextGaussian() * packetIn.getZOffset();
+                double d6 = this.avRandomizer.nextGaussian() * packetIn.getParticleSpeed();
+                double d7 = this.avRandomizer.nextGaussian() * packetIn.getParticleSpeed();
+                double d8 = this.avRandomizer.nextGaussian() * packetIn.getParticleSpeed();
 
                 try
                 {
@@ -2248,7 +2341,7 @@
                 }
                 catch (Throwable var16)
                 {
-                    LOGGER.warn("Could not spawn particle effect {}", (Object)packetIn.getParticleType());
+                    LOGGER.warn("Could not spawn particle effect {}", packetIn.getParticleType());
                     return;
                 }
             }
@@ -2260,7 +2353,8 @@
      * sprinting, animals fleeing, baby speed), weapon/tool attackDamage, hostiles followRange randomization, zombie
      * maxHealth and knockback resistance as well as reinforcement spawning chance.
      */
-    public void handleEntityProperties(SPacketEntityProperties packetIn)
+    @Override
+	public void handleEntityProperties(SPacketEntityProperties packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.gameController);
         Entity entity = this.clientWorldController.getEntityByID(packetIn.getEntityId());
diff -ur original/client/network/ServerPinger.java minecraft/client/network/ServerPinger.java
--- original/client/network/ServerPinger.java	2017-06-17 13:16:31.430521000 +0200
+++ minecraft/client/network/ServerPinger.java	2017-06-14 13:06:45.826610200 +0200
@@ -15,6 +15,9 @@
 import io.netty.channel.ChannelOption;
 import io.netty.channel.SimpleChannelInboundHandler;
 import io.netty.channel.socket.nio.NioSocketChannel;
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventServerPinged;
+
 import java.net.InetAddress;
 import java.net.UnknownHostException;
 import java.nio.charset.StandardCharsets;
@@ -146,6 +149,23 @@
                     {
                         server.setBase64EncodedIconData((String)null);
                     }
+                    
+                    // TODO: Client
+                    
+                    EventServerPinged event = new EventServerPinged(server.serverMOTD,server.playerList,server.gameVersion,server.populationInfo,server.version,server.pingToServer);
+                    Event.sendEvent(event);
+                    
+                    if (event.isCanceled()) {
+                    	this.successful = false;
+                    	return;
+                    }
+                    
+                    server.serverMOTD = event.getServerMOTD();
+                    server.playerList = event.getPlayerList();
+                    server.gameVersion = event.getGameVersion();
+                    server.populationInfo = event.getPopulationInfo();
+                    server.version = event.getVersion();
+                    server.pingToServer = event.getPingToServer();
 
                     this.pingSentAt = Minecraft.getSystemTime();
                     networkmanager.sendPacket(new CPacketPing(this.pingSentAt));
diff -ur original/client/renderer/BlockFluidRenderer.java minecraft/client/renderer/BlockFluidRenderer.java
--- original/client/renderer/BlockFluidRenderer.java	2017-06-17 13:16:31.750328000 +0200
+++ minecraft/client/renderer/BlockFluidRenderer.java	2017-06-16 17:02:43.821539500 +0200
@@ -1,5 +1,8 @@
 package net.minecraft.client.renderer;
 
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventRenderFluid;
+import me.deftware.client.framework.Wrappers.IBlock;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockLiquid;
 import net.minecraft.block.material.Material;
@@ -40,12 +43,20 @@
     public boolean renderFluid(IBlockAccess blockAccess, IBlockState blockStateIn, BlockPos blockPosIn, BufferBuilder worldRendererIn)
     {
         BlockLiquid blockliquid = (BlockLiquid)blockStateIn.getBlock();
+
+		// TODO: Client
+		EventRenderFluid event = new EventRenderFluid(new IBlock(blockliquid));
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return false;
+		}
+
         boolean flag = blockStateIn.getMaterial() == Material.LAVA;
         TextureAtlasSprite[] atextureatlassprite = flag ? this.atlasSpritesLava : this.atlasSpritesWater;
         int i = this.blockColors.colorMultiplier(blockStateIn, blockAccess, blockPosIn, 0);
-        float f = (float)(i >> 16 & 255) / 255.0F;
-        float f1 = (float)(i >> 8 & 255) / 255.0F;
-        float f2 = (float)(i & 255) / 255.0F;
+        float f = (i >> 16 & 255) / 255.0F;
+        float f1 = (i >> 8 & 255) / 255.0F;
+        float f2 = (i & 255) / 255.0F;
         boolean flag1 = blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.UP);
         boolean flag2 = blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.DOWN);
         boolean[] aboolean = new boolean[] {blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.NORTH), blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.SOUTH), blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.WEST), blockStateIn.shouldSideBeRendered(blockAccess, blockPosIn, EnumFacing.EAST)};
@@ -66,9 +77,9 @@
             float f8 = this.getFluidHeight(blockAccess, blockPosIn.south(), material);
             float f9 = this.getFluidHeight(blockAccess, blockPosIn.east().south(), material);
             float f10 = this.getFluidHeight(blockAccess, blockPosIn.east(), material);
-            double d0 = (double)blockPosIn.getX();
-            double d1 = (double)blockPosIn.getY();
-            double d2 = (double)blockPosIn.getZ();
+            double d0 = blockPosIn.getX();
+            double d1 = blockPosIn.getY();
+            double d2 = blockPosIn.getZ();
             float f11 = 0.001F;
 
             if (flag1)
@@ -105,14 +116,14 @@
                     float f21 = MathHelper.sin(f12) * 0.25F;
                     float f22 = MathHelper.cos(f12) * 0.25F;
                     float f23 = 8.0F;
-                    f13 = textureatlassprite.getInterpolatedU((double)(8.0F + (-f22 - f21) * 16.0F));
-                    f17 = textureatlassprite.getInterpolatedV((double)(8.0F + (-f22 + f21) * 16.0F));
-                    f14 = textureatlassprite.getInterpolatedU((double)(8.0F + (-f22 + f21) * 16.0F));
-                    f18 = textureatlassprite.getInterpolatedV((double)(8.0F + (f22 + f21) * 16.0F));
-                    f15 = textureatlassprite.getInterpolatedU((double)(8.0F + (f22 + f21) * 16.0F));
-                    f19 = textureatlassprite.getInterpolatedV((double)(8.0F + (f22 - f21) * 16.0F));
-                    f16 = textureatlassprite.getInterpolatedU((double)(8.0F + (f22 - f21) * 16.0F));
-                    f20 = textureatlassprite.getInterpolatedV((double)(8.0F + (-f22 - f21) * 16.0F));
+                    f13 = textureatlassprite.getInterpolatedU(8.0F + (-f22 - f21) * 16.0F);
+                    f17 = textureatlassprite.getInterpolatedV(8.0F + (-f22 + f21) * 16.0F);
+                    f14 = textureatlassprite.getInterpolatedU(8.0F + (-f22 + f21) * 16.0F);
+                    f18 = textureatlassprite.getInterpolatedV(8.0F + (f22 + f21) * 16.0F);
+                    f15 = textureatlassprite.getInterpolatedU(8.0F + (f22 + f21) * 16.0F);
+                    f19 = textureatlassprite.getInterpolatedV(8.0F + (f22 - f21) * 16.0F);
+                    f16 = textureatlassprite.getInterpolatedU(8.0F + (f22 - f21) * 16.0F);
+                    f20 = textureatlassprite.getInterpolatedV(8.0F + (-f22 - f21) * 16.0F);
                 }
 
                 int k2 = blockStateIn.getPackedLightmapCoords(blockAccess, blockPosIn);
@@ -121,17 +132,17 @@
                 float f24 = 1.0F * f;
                 float f25 = 1.0F * f1;
                 float f26 = 1.0F * f2;
-                worldRendererIn.pos(d0 + 0.0D, d1 + (double)f7, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex((double)f13, (double)f17).lightmap(l2, i3).endVertex();
-                worldRendererIn.pos(d0 + 0.0D, d1 + (double)f8, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex((double)f14, (double)f18).lightmap(l2, i3).endVertex();
-                worldRendererIn.pos(d0 + 1.0D, d1 + (double)f9, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex((double)f15, (double)f19).lightmap(l2, i3).endVertex();
-                worldRendererIn.pos(d0 + 1.0D, d1 + (double)f10, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex((double)f16, (double)f20).lightmap(l2, i3).endVertex();
+                worldRendererIn.pos(d0 + 0.0D, d1 + f7, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex(f13, f17).lightmap(l2, i3).endVertex();
+                worldRendererIn.pos(d0 + 0.0D, d1 + f8, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex(f14, f18).lightmap(l2, i3).endVertex();
+                worldRendererIn.pos(d0 + 1.0D, d1 + f9, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex(f15, f19).lightmap(l2, i3).endVertex();
+                worldRendererIn.pos(d0 + 1.0D, d1 + f10, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex(f16, f20).lightmap(l2, i3).endVertex();
 
                 if (blockliquid.shouldRenderSides(blockAccess, blockPosIn.up()))
                 {
-                    worldRendererIn.pos(d0 + 0.0D, d1 + (double)f7, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex((double)f13, (double)f17).lightmap(l2, i3).endVertex();
-                    worldRendererIn.pos(d0 + 1.0D, d1 + (double)f10, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex((double)f16, (double)f20).lightmap(l2, i3).endVertex();
-                    worldRendererIn.pos(d0 + 1.0D, d1 + (double)f9, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex((double)f15, (double)f19).lightmap(l2, i3).endVertex();
-                    worldRendererIn.pos(d0 + 0.0D, d1 + (double)f8, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex((double)f14, (double)f18).lightmap(l2, i3).endVertex();
+                    worldRendererIn.pos(d0 + 0.0D, d1 + f7, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex(f13, f17).lightmap(l2, i3).endVertex();
+                    worldRendererIn.pos(d0 + 1.0D, d1 + f10, d2 + 0.0D).color(f24, f25, f26, 1.0F).tex(f16, f20).lightmap(l2, i3).endVertex();
+                    worldRendererIn.pos(d0 + 1.0D, d1 + f9, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex(f15, f19).lightmap(l2, i3).endVertex();
+                    worldRendererIn.pos(d0 + 0.0D, d1 + f8, d2 + 1.0D).color(f24, f25, f26, 1.0F).tex(f14, f18).lightmap(l2, i3).endVertex();
                 }
             }
 
@@ -144,10 +155,10 @@
                 int l1 = blockStateIn.getPackedLightmapCoords(blockAccess, blockPosIn.down());
                 int i2 = l1 >> 16 & 65535;
                 int j2 = l1 & 65535;
-                worldRendererIn.pos(d0, d1, d2 + 1.0D).color(0.5F, 0.5F, 0.5F, 1.0F).tex((double)f35, (double)f38).lightmap(i2, j2).endVertex();
-                worldRendererIn.pos(d0, d1, d2).color(0.5F, 0.5F, 0.5F, 1.0F).tex((double)f35, (double)f37).lightmap(i2, j2).endVertex();
-                worldRendererIn.pos(d0 + 1.0D, d1, d2).color(0.5F, 0.5F, 0.5F, 1.0F).tex((double)f36, (double)f37).lightmap(i2, j2).endVertex();
-                worldRendererIn.pos(d0 + 1.0D, d1, d2 + 1.0D).color(0.5F, 0.5F, 0.5F, 1.0F).tex((double)f36, (double)f38).lightmap(i2, j2).endVertex();
+                worldRendererIn.pos(d0, d1, d2 + 1.0D).color(0.5F, 0.5F, 0.5F, 1.0F).tex(f35, f38).lightmap(i2, j2).endVertex();
+                worldRendererIn.pos(d0, d1, d2).color(0.5F, 0.5F, 0.5F, 1.0F).tex(f35, f37).lightmap(i2, j2).endVertex();
+                worldRendererIn.pos(d0 + 1.0D, d1, d2).color(0.5F, 0.5F, 0.5F, 1.0F).tex(f36, f37).lightmap(i2, j2).endVertex();
+                worldRendererIn.pos(d0 + 1.0D, d1, d2 + 1.0D).color(0.5F, 0.5F, 0.5F, 1.0F).tex(f36, f38).lightmap(i2, j2).endVertex();
                 flag3 = true;
             }
 
@@ -238,8 +249,8 @@
                     flag3 = true;
                     float f41 = textureatlassprite1.getInterpolatedU(0.0D);
                     float f27 = textureatlassprite1.getInterpolatedU(8.0D);
-                    float f28 = textureatlassprite1.getInterpolatedV((double)((1.0F - f39) * 16.0F * 0.5F));
-                    float f29 = textureatlassprite1.getInterpolatedV((double)((1.0F - f40) * 16.0F * 0.5F));
+                    float f28 = textureatlassprite1.getInterpolatedV((1.0F - f39) * 16.0F * 0.5F);
+                    float f29 = textureatlassprite1.getInterpolatedV((1.0F - f40) * 16.0F * 0.5F);
                     float f30 = textureatlassprite1.getInterpolatedV(8.0D);
                     int j = blockStateIn.getPackedLightmapCoords(blockAccess, blockpos);
                     int k = j >> 16 & 65535;
@@ -248,17 +259,17 @@
                     float f32 = 1.0F * f31 * f;
                     float f33 = 1.0F * f31 * f1;
                     float f34 = 1.0F * f31 * f2;
-                    worldRendererIn.pos(d3, d1 + (double)f39, d4).color(f32, f33, f34, 1.0F).tex((double)f41, (double)f28).lightmap(k, l).endVertex();
-                    worldRendererIn.pos(d5, d1 + (double)f40, d6).color(f32, f33, f34, 1.0F).tex((double)f27, (double)f29).lightmap(k, l).endVertex();
-                    worldRendererIn.pos(d5, d1 + 0.0D, d6).color(f32, f33, f34, 1.0F).tex((double)f27, (double)f30).lightmap(k, l).endVertex();
-                    worldRendererIn.pos(d3, d1 + 0.0D, d4).color(f32, f33, f34, 1.0F).tex((double)f41, (double)f30).lightmap(k, l).endVertex();
+                    worldRendererIn.pos(d3, d1 + f39, d4).color(f32, f33, f34, 1.0F).tex(f41, f28).lightmap(k, l).endVertex();
+                    worldRendererIn.pos(d5, d1 + f40, d6).color(f32, f33, f34, 1.0F).tex(f27, f29).lightmap(k, l).endVertex();
+                    worldRendererIn.pos(d5, d1 + 0.0D, d6).color(f32, f33, f34, 1.0F).tex(f27, f30).lightmap(k, l).endVertex();
+                    worldRendererIn.pos(d3, d1 + 0.0D, d4).color(f32, f33, f34, 1.0F).tex(f41, f30).lightmap(k, l).endVertex();
 
                     if (textureatlassprite1 != this.atlasSpriteWaterOverlay)
                     {
-                        worldRendererIn.pos(d3, d1 + 0.0D, d4).color(f32, f33, f34, 1.0F).tex((double)f41, (double)f30).lightmap(k, l).endVertex();
-                        worldRendererIn.pos(d5, d1 + 0.0D, d6).color(f32, f33, f34, 1.0F).tex((double)f27, (double)f30).lightmap(k, l).endVertex();
-                        worldRendererIn.pos(d5, d1 + (double)f40, d6).color(f32, f33, f34, 1.0F).tex((double)f27, (double)f29).lightmap(k, l).endVertex();
-                        worldRendererIn.pos(d3, d1 + (double)f39, d4).color(f32, f33, f34, 1.0F).tex((double)f41, (double)f28).lightmap(k, l).endVertex();
+                        worldRendererIn.pos(d3, d1 + 0.0D, d4).color(f32, f33, f34, 1.0F).tex(f41, f30).lightmap(k, l).endVertex();
+                        worldRendererIn.pos(d5, d1 + 0.0D, d6).color(f32, f33, f34, 1.0F).tex(f27, f30).lightmap(k, l).endVertex();
+                        worldRendererIn.pos(d5, d1 + f40, d6).color(f32, f33, f34, 1.0F).tex(f27, f29).lightmap(k, l).endVertex();
+                        worldRendererIn.pos(d3, d1 + f39, d4).color(f32, f33, f34, 1.0F).tex(f41, f28).lightmap(k, l).endVertex();
                     }
                 }
             }
@@ -294,7 +305,7 @@
             }
             else
             {
-                int k = ((Integer)iblockstate.getValue(BlockLiquid.LEVEL)).intValue();
+                int k = iblockstate.getValue(BlockLiquid.LEVEL).intValue();
 
                 if (k >= 8 || k == 0)
                 {
@@ -307,6 +318,6 @@
             }
         }
 
-        return 1.0F - f / (float)i;
+        return 1.0F - f / i;
     }
 }
diff -ur original/client/renderer/BlockModelRenderer.java minecraft/client/renderer/BlockModelRenderer.java
--- original/client/renderer/BlockModelRenderer.java	2017-06-17 13:16:31.760338000 +0200
+++ minecraft/client/renderer/BlockModelRenderer.java	2017-06-16 17:32:35.455219700 +0200
@@ -2,7 +2,13 @@
 
 import java.util.BitSet;
 import java.util.List;
+
 import javax.annotation.Nullable;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventGetLightValue;
+import me.deftware.client.framework.Event.Events.EventRenderModel;
+import me.deftware.client.framework.Wrappers.IBlock;
 import net.minecraft.block.Block;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.client.Minecraft;
@@ -32,6 +38,12 @@
 
     public boolean renderModel(IBlockAccess blockAccessIn, IBakedModel modelIn, IBlockState blockStateIn, BlockPos blockPosIn, BufferBuilder buffer, boolean checkSides)
     {
+		// TODO: Client
+		EventRenderModel event = new EventRenderModel(new IBlock(blockStateIn.getBlock()));
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return false;
+		}
         return this.renderModel(blockAccessIn, modelIn, blockStateIn, blockPosIn, buffer, checkSides, MathHelper.getPositionRandom(blockPosIn));
     }
 
@@ -64,7 +76,12 @@
         {
             List<BakedQuad> list = modelIn.getQuads(stateIn, enumfacing, rand);
 
-            if (!list.isEmpty() && (!checkSides || stateIn.shouldSideBeRendered(worldIn, posIn, enumfacing)))
+			// TODO: Client
+			EventRenderModel event = new EventRenderModel(new IBlock(stateIn.getBlock()), list);
+			Event.sendEvent(event);
+
+			if (!list.isEmpty() && (!checkSides || stateIn.shouldSideBeRendered(worldIn, posIn, enumfacing))
+					|| event.isOverride())
             {
                 this.renderQuadsSmooth(worldIn, stateIn, posIn, buffer, list, afloat, bitset, blockmodelrenderer$ambientocclusionface);
                 flag = true;
@@ -113,9 +130,9 @@
     private void renderQuadsSmooth(IBlockAccess blockAccessIn, IBlockState stateIn, BlockPos posIn, BufferBuilder buffer, List<BakedQuad> list, float[] quadBounds, BitSet bitSet, BlockModelRenderer.AmbientOcclusionFace aoFace)
     {
         Vec3d vec3d = stateIn.func_191059_e(blockAccessIn, posIn);
-        double d0 = (double)posIn.getX() + vec3d.xCoord;
-        double d1 = (double)posIn.getY() + vec3d.yCoord;
-        double d2 = (double)posIn.getZ() + vec3d.zCoord;
+        double d0 = posIn.getX() + vec3d.xCoord;
+        double d1 = posIn.getY() + vec3d.yCoord;
+        double d2 = posIn.getZ() + vec3d.zCoord;
         int i = 0;
 
         for (int j = list.size(); i < j; ++i)
@@ -135,9 +152,9 @@
                     k = TextureUtil.anaglyphColor(k);
                 }
 
-                float f = (float)(k >> 16 & 255) / 255.0F;
-                float f1 = (float)(k >> 8 & 255) / 255.0F;
-                float f2 = (float)(k & 255) / 255.0F;
+                float f = (k >> 16 & 255) / 255.0F;
+                float f1 = (k >> 8 & 255) / 255.0F;
+                float f2 = (k & 255) / 255.0F;
                 buffer.putColorMultiplier(aoFace.vertexColorMultiplier[0] * f, aoFace.vertexColorMultiplier[0] * f1, aoFace.vertexColorMultiplier[0] * f2, 4);
                 buffer.putColorMultiplier(aoFace.vertexColorMultiplier[1] * f, aoFace.vertexColorMultiplier[1] * f1, aoFace.vertexColorMultiplier[1] * f2, 3);
                 buffer.putColorMultiplier(aoFace.vertexColorMultiplier[2] * f, aoFace.vertexColorMultiplier[2] * f1, aoFace.vertexColorMultiplier[2] * f2, 2);
@@ -233,9 +250,9 @@
     private void renderQuadsFlat(IBlockAccess blockAccessIn, IBlockState stateIn, BlockPos posIn, int brightnessIn, boolean ownBrightness, BufferBuilder buffer, List<BakedQuad> list, BitSet bitSet)
     {
         Vec3d vec3d = stateIn.func_191059_e(blockAccessIn, posIn);
-        double d0 = (double)posIn.getX() + vec3d.xCoord;
-        double d1 = (double)posIn.getY() + vec3d.yCoord;
-        double d2 = (double)posIn.getZ() + vec3d.zCoord;
+        double d0 = posIn.getX() + vec3d.xCoord;
+        double d1 = posIn.getY() + vec3d.yCoord;
+        double d2 = posIn.getZ() + vec3d.zCoord;
         int i = 0;
 
         for (int j = list.size(); i < j; ++i)
@@ -261,9 +278,9 @@
                     k = TextureUtil.anaglyphColor(k);
                 }
 
-                float f = (float)(k >> 16 & 255) / 255.0F;
-                float f1 = (float)(k >> 8 & 255) / 255.0F;
-                float f2 = (float)(k & 255) / 255.0F;
+                float f = (k >> 16 & 255) / 255.0F;
+                float f1 = (k >> 8 & 255) / 255.0F;
+                float f2 = (k & 255) / 255.0F;
                 buffer.putColorMultiplier(f, f1, f2, 4);
                 buffer.putColorMultiplier(f, f1, f2, 3);
                 buffer.putColorMultiplier(f, f1, f2, 2);
@@ -300,20 +317,28 @@
             i = TextureUtil.anaglyphColor(i);
         }
 
-        float f = (float)(i >> 16 & 255) / 255.0F;
-        float f1 = (float)(i >> 8 & 255) / 255.0F;
-        float f2 = (float)(i & 255) / 255.0F;
+        float f = (i >> 16 & 255) / 255.0F;
+        float f1 = (i >> 8 & 255) / 255.0F;
+        float f2 = (i & 255) / 255.0F;
 
         if (!p_178266_4_)
         {
             GlStateManager.color(brightness, brightness, brightness, 1.0F);
         }
 
-        this.renderModelBrightnessColor(state, model, brightness, f, f1, f2);
+		// TODO: Client
+		EventGetLightValue event = new EventGetLightValue(new IBlock(state.getBlock()), (int) brightness);
+		Event.sendEvent(event);
+		this.renderModelBrightnessColor(state, model, event.getValue(), f, f1, f2);
     }
 
     private void renderModelBrightnessColorQuads(float brightness, float red, float green, float blue, List<BakedQuad> listQuads)
     {
+		// TODO: Client
+		EventGetLightValue event = new EventGetLightValue(null, (int) brightness);
+		Event.sendEvent(event);
+		brightness = event.getValue();
+
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         int i = 0;
@@ -334,7 +359,7 @@
             }
 
             Vec3i vec3i = bakedquad.getFace().getDirectionVec();
-            bufferbuilder.putNormal((float)vec3i.getX(), (float)vec3i.getY(), (float)vec3i.getZ());
+            bufferbuilder.putNormal(vec3i.getX(), vec3i.getY(), vec3i.getZ());
             tessellator.draw();
         }
     }
@@ -514,8 +539,8 @@
 
         private int getVertexBrightness(int p_178203_1_, int p_178203_2_, int p_178203_3_, int p_178203_4_, float p_178203_5_, float p_178203_6_, float p_178203_7_, float p_178203_8_)
         {
-            int i = (int)((float)(p_178203_1_ >> 16 & 255) * p_178203_5_ + (float)(p_178203_2_ >> 16 & 255) * p_178203_6_ + (float)(p_178203_3_ >> 16 & 255) * p_178203_7_ + (float)(p_178203_4_ >> 16 & 255) * p_178203_8_) & 255;
-            int j = (int)((float)(p_178203_1_ & 255) * p_178203_5_ + (float)(p_178203_2_ & 255) * p_178203_6_ + (float)(p_178203_3_ & 255) * p_178203_7_ + (float)(p_178203_4_ & 255) * p_178203_8_) & 255;
+            int i = (int)((p_178203_1_ >> 16 & 255) * p_178203_5_ + (p_178203_2_ >> 16 & 255) * p_178203_6_ + (p_178203_3_ >> 16 & 255) * p_178203_7_ + (p_178203_4_ >> 16 & 255) * p_178203_8_) & 255;
+            int j = (int)((p_178203_1_ & 255) * p_178203_5_ + (p_178203_2_ & 255) * p_178203_6_ + (p_178203_3_ & 255) * p_178203_7_ + (p_178203_4_ & 255) * p_178203_8_) & 255;
             return i << 16 | j;
         }
     }
diff -ur original/client/renderer/chunk/VisGraph.java minecraft/client/renderer/chunk/VisGraph.java
--- original/client/renderer/chunk/VisGraph.java	2017-06-17 13:16:32.287844000 +0200
+++ minecraft/client/renderer/chunk/VisGraph.java	2017-06-16 16:59:29.645051300 +0200
@@ -1,10 +1,14 @@
 package net.minecraft.client.renderer.chunk;
 
-import com.google.common.collect.Queues;
 import java.util.BitSet;
 import java.util.EnumSet;
 import java.util.Queue;
 import java.util.Set;
+
+import com.google.common.collect.Queues;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventOpaqueCube;
 import net.minecraft.util.EnumFacing;
 import net.minecraft.util.IntegerCache;
 import net.minecraft.util.math.BlockPos;
@@ -20,6 +24,12 @@
 
     public void setOpaqueCube(BlockPos pos)
     {
+		// TODO: Client
+		EventOpaqueCube event = new EventOpaqueCube();
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
         this.bitSet.set(getIndex(pos), true);
         --this.empty;
     }
@@ -74,7 +84,7 @@
 
         while (!queue.isEmpty())
         {
-            int i = ((Integer)queue.poll()).intValue();
+            int i = queue.poll().intValue();
             this.addEdges(i, set);
 
             for (EnumFacing enumfacing : EnumFacing.values())
diff -ur original/client/renderer/entity/layers/LayerDeadmau5Head.java minecraft/client/renderer/entity/layers/LayerDeadmau5Head.java
--- original/client/renderer/entity/layers/LayerDeadmau5Head.java	2017-06-17 13:16:32.833368000 +0200
+++ minecraft/client/renderer/entity/layers/LayerDeadmau5Head.java	2017-06-16 22:02:57.279276000 +0200
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity.layers;
 
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventDeadmauEars;
 import net.minecraft.client.entity.AbstractClientPlayer;
 import net.minecraft.client.renderer.GlStateManager;
 import net.minecraft.client.renderer.entity.RenderPlayer;
@@ -13,9 +15,16 @@
         this.playerRenderer = playerRendererIn;
     }
 
-    public void doRenderLayer(AbstractClientPlayer entitylivingbaseIn, float limbSwing, float limbSwingAmount, float partialTicks, float ageInTicks, float netHeadYaw, float headPitch, float scale)
+    @Override
+	public void doRenderLayer(AbstractClientPlayer entitylivingbaseIn, float limbSwing, float limbSwingAmount, float partialTicks, float ageInTicks, float netHeadYaw, float headPitch, float scale)
     {
-        if ("deadmau5".equals(entitylivingbaseIn.getName()) && entitylivingbaseIn.hasSkin() && !entitylivingbaseIn.isInvisible())
+
+		// TODO: Client
+		EventDeadmauEars event = new EventDeadmauEars("deadmau5");
+		Event.sendEvent(event);
+
+		if (event.getName().equals(entitylivingbaseIn.getName()) && entitylivingbaseIn.hasSkin()
+				&& !entitylivingbaseIn.isInvisible())
         {
             this.playerRenderer.bindTexture(entitylivingbaseIn.getLocationSkin());
 
@@ -26,7 +35,7 @@
                 GlStateManager.pushMatrix();
                 GlStateManager.rotate(f, 0.0F, 1.0F, 0.0F);
                 GlStateManager.rotate(f1, 1.0F, 0.0F, 0.0F);
-                GlStateManager.translate(0.375F * (float)(i * 2 - 1), 0.0F, 0.0F);
+                GlStateManager.translate(0.375F * (i * 2 - 1), 0.0F, 0.0F);
                 GlStateManager.translate(0.0F, -0.375F, 0.0F);
                 GlStateManager.rotate(-f1, 1.0F, 0.0F, 0.0F);
                 GlStateManager.rotate(-f, 0.0F, 1.0F, 0.0F);
@@ -38,7 +47,8 @@
         }
     }
 
-    public boolean shouldCombineTextures()
+    @Override
+	public boolean shouldCombineTextures()
     {
         return true;
     }
diff -ur original/client/renderer/entity/Render.java minecraft/client/renderer/entity/Render.java
--- original/client/renderer/entity/Render.java	2017-06-17 13:16:32.402454000 +0200
+++ minecraft/client/renderer/entity/Render.java	2017-06-14 13:06:23.604317700 +0200
@@ -373,7 +373,7 @@
             boolean flag1 = this.renderManager.options.thirdPersonView == 2;
             float f2 = entityIn.height + 0.5F - (flag ? 0.25F : 0.0F);
             int i = "deadmau5".equals(str) ? -10 : 0;
-            EntityRenderer.drawNameplate(this.getFontRendererFromRenderManager(), str, (float)x, (float)y + f2, (float)z, i, f, f1, flag1, flag);
+            EntityRenderer.drawNameplate(this.getFontRendererFromRenderManager(), str, (float)x, (float)y + f2, (float)z, i, f, f1, flag1, flag, entityIn);
         }
     }
 
diff -ur original/client/renderer/entity/RenderManager.java minecraft/client/renderer/entity/RenderManager.java
--- original/client/renderer/entity/RenderManager.java	2017-06-17 13:16:32.621164000 +0200
+++ minecraft/client/renderer/entity/RenderManager.java	2017-06-14 12:56:44.724190400 +0200
@@ -121,9 +121,9 @@
 
     /** Renders fonts */
     private FontRenderer textRenderer;
-    private double renderPosX;
-    private double renderPosY;
-    private double renderPosZ;
+    public double renderPosX;
+    public double renderPosY;
+    public double renderPosZ;
     public TextureManager renderEngine;
 
     /** Reference to the World object. */
diff -ur original/client/renderer/entity/RenderPlayer.java minecraft/client/renderer/entity/RenderPlayer.java
--- original/client/renderer/entity/RenderPlayer.java	2017-06-17 13:16:32.667709000 +0200
+++ minecraft/client/renderer/entity/RenderPlayer.java	2017-06-16 21:27:52.127922500 +0200
@@ -1,5 +1,7 @@
 package net.minecraft.client.renderer.entity;
 
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventSetModelVisibilities;
 import net.minecraft.client.entity.AbstractClientPlayer;
 import net.minecraft.client.model.ModelBiped;
 import net.minecraft.client.model.ModelPlayer;
@@ -47,7 +49,8 @@
         this.addLayer(new LayerEntityOnShoulder(renderManager));
     }
 
-    public ModelPlayer getMainModel()
+    @Override
+	public ModelPlayer getMainModel()
     {
         return (ModelPlayer)super.getMainModel();
     }
@@ -55,7 +58,8 @@
     /**
      * Renders the desired {@code T} type Entity.
      */
-    public void doRender(AbstractClientPlayer entity, double x, double y, double z, float entityYaw, float partialTicks)
+    @Override
+	public void doRender(AbstractClientPlayer entity, double x, double y, double z, float entityYaw, float partialTicks)
     {
         if (!entity.isUser() || this.renderManager.renderViewEntity == entity)
         {
@@ -77,7 +81,11 @@
     {
         ModelPlayer modelplayer = this.getMainModel();
 
-        if (clientPlayer.isSpectator())
+		// TODO: Client
+		EventSetModelVisibilities event = new EventSetModelVisibilities(clientPlayer.isSpectator());
+		Event.sendEvent(event);
+
+		if (event.isSpectator())
         {
             modelplayer.setInvisible(false);
             modelplayer.bipedHead.showModel = true;
@@ -148,12 +156,14 @@
     /**
      * Returns the location of an entity's texture. Doesn't seem to be called unless you call Render.bindEntityTexture.
      */
-    public ResourceLocation getEntityTexture(AbstractClientPlayer entity)
+    @Override
+	public ResourceLocation getEntityTexture(AbstractClientPlayer entity)
     {
         return entity.getLocationSkin();
     }
 
-    public void transformHeldFull3DItemLayer()
+    @Override
+	public void transformHeldFull3DItemLayer()
     {
         GlStateManager.translate(0.0F, 0.1875F, 0.0F);
     }
@@ -161,13 +171,15 @@
     /**
      * Allows the render to do state modifications necessary before the model is rendered.
      */
-    protected void preRenderCallback(AbstractClientPlayer entitylivingbaseIn, float partialTickTime)
+    @Override
+	protected void preRenderCallback(AbstractClientPlayer entitylivingbaseIn, float partialTickTime)
     {
         float f = 0.9375F;
         GlStateManager.scale(0.9375F, 0.9375F, 0.9375F);
     }
 
-    protected void renderEntityName(AbstractClientPlayer entityIn, double x, double y, double z, String name, double distanceSq)
+    @Override
+	protected void renderEntityName(AbstractClientPlayer entityIn, double x, double y, double z, String name, double distanceSq)
     {
         if (distanceSq < 100.0D)
         {
@@ -178,7 +190,7 @@
             {
                 Score score = scoreboard.getOrCreateScore(entityIn.getName(), scoreobjective);
                 this.renderLivingLabel(entityIn, score.getScorePoints() + " " + scoreobjective.getDisplayName(), x, y, z, 64);
-                y += (double)((float)this.getFontRendererFromRenderManager().FONT_HEIGHT * 1.15F * 0.025F);
+                y += this.getFontRendererFromRenderManager().FONT_HEIGHT * 1.15F * 0.025F;
             }
         }
 
@@ -224,11 +236,12 @@
     /**
      * Sets a simple glTranslate on a LivingEntity.
      */
-    protected void renderLivingAt(AbstractClientPlayer entityLivingBaseIn, double x, double y, double z)
+    @Override
+	protected void renderLivingAt(AbstractClientPlayer entityLivingBaseIn, double x, double y, double z)
     {
         if (entityLivingBaseIn.isEntityAlive() && entityLivingBaseIn.isPlayerSleeping())
         {
-            super.renderLivingAt(entityLivingBaseIn, x + (double)entityLivingBaseIn.renderOffsetX, y + (double)entityLivingBaseIn.renderOffsetY, z + (double)entityLivingBaseIn.renderOffsetZ);
+            super.renderLivingAt(entityLivingBaseIn, x + entityLivingBaseIn.renderOffsetX, y + entityLivingBaseIn.renderOffsetY, z + entityLivingBaseIn.renderOffsetZ);
         }
         else
         {
@@ -236,7 +249,8 @@
         }
     }
 
-    protected void rotateCorpse(AbstractClientPlayer entityLiving, float p_77043_2_, float p_77043_3_, float partialTicks)
+    @Override
+	protected void rotateCorpse(AbstractClientPlayer entityLiving, float p_77043_2_, float p_77043_3_, float partialTicks)
     {
         if (entityLiving.isEntityAlive() && entityLiving.isPlayerSleeping())
         {
@@ -247,7 +261,7 @@
         else if (entityLiving.isElytraFlying())
         {
             super.rotateCorpse(entityLiving, p_77043_2_, p_77043_3_, partialTicks);
-            float f = (float)entityLiving.getTicksElytraFlying() + partialTicks;
+            float f = entityLiving.getTicksElytraFlying() + partialTicks;
             float f1 = MathHelper.clamp(f * f / 100.0F, 0.0F, 1.0F);
             GlStateManager.rotate(f1 * (-90.0F - entityLiving.rotationPitch), 1.0F, 0.0F, 0.0F);
             Vec3d vec3d = entityLiving.getLook(partialTicks);
diff -ur original/client/renderer/EntityRenderer.java minecraft/client/renderer/EntityRenderer.java
--- original/client/renderer/EntityRenderer.java	2017-06-17 13:16:31.812888000 +0200
+++ minecraft/client/renderer/EntityRenderer.java	2017-06-16 13:04:46.066845100 +0200
@@ -1,8 +1,5 @@
 package net.minecraft.client.renderer;
 
-import com.google.common.base.Predicate;
-import com.google.common.base.Predicates;
-import com.google.gson.JsonSyntaxException;
 import java.awt.Graphics;
 import java.awt.image.BufferedImage;
 import java.awt.image.ImageObserver;
@@ -10,8 +7,28 @@
 import java.nio.FloatBuffer;
 import java.util.List;
 import java.util.Random;
+
 import javax.annotation.Nullable;
 import javax.imageio.ImageIO;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.lwjgl.input.Mouse;
+import org.lwjgl.opengl.Display;
+import org.lwjgl.opengl.GLContext;
+import org.lwjgl.util.glu.Project;
+
+import com.google.common.base.Predicate;
+import com.google.common.base.Predicates;
+import com.google.gson.JsonSyntaxException;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventNametagRender;
+import me.deftware.client.framework.Event.Events.EventRayTrace;
+import me.deftware.client.framework.Event.Events.EventRender3D;
+import me.deftware.client.framework.Event.Events.EventWeather;
+import me.deftware.client.framework.Event.Events.EventWeather.WeatherType;
+import me.deftware.client.framework.Wrappers.Entity.IEntity;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.material.Material;
@@ -67,12 +84,6 @@
 import net.minecraft.world.GameType;
 import net.minecraft.world.World;
 import net.minecraft.world.biome.Biome;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.lwjgl.input.Mouse;
-import org.lwjgl.opengl.Display;
-import org.lwjgl.opengl.GLContext;
-import org.lwjgl.util.glu.Project;
 
 public class EntityRenderer implements IResourceManagerReloadListener
 {
@@ -207,8 +218,8 @@
         {
             for (int j = 0; j < 32; ++j)
             {
-                float f = (float)(j - 16);
-                float f1 = (float)(i - 16);
+                float f = j - 16;
+                float f1 = i - 16;
                 float f2 = MathHelper.sqrt(f * f + f1 * f1);
                 this.rainXCoords[i << 5 | j] = -f1 / f2;
                 this.rainYCoords[i << 5 | j] = f / f2;
@@ -288,7 +299,8 @@
         }
     }
 
-    public void onResourceManagerReload(IResourceManager resourceManager)
+    @Override
+	public void onResourceManagerReload(IResourceManager resourceManager)
     {
         if (this.theShaderGroup != null)
         {
@@ -346,7 +358,7 @@
         }
 
         float f3 = this.mc.world.getLightBrightness(new BlockPos(this.mc.getRenderViewEntity()));
-        float f4 = (float)this.mc.gameSettings.renderDistanceChunks / 32.0F;
+        float f4 = this.mc.gameSettings.renderDistanceChunks / 32.0F;
         float f2 = f3 * (1.0F - f4) + f4;
         this.fogColor1 += (f2 - this.fogColor1) * 0.1F;
         ++this.rendererUpdateCount;
@@ -410,7 +422,7 @@
             {
                 this.mc.mcProfiler.startSection("pick");
                 this.mc.pointedEntity = null;
-                double d0 = (double)this.mc.playerController.getBlockReachDistance();
+                double d0 = this.mc.playerController.getBlockReachDistance();
                 this.mc.objectMouseOver = entity.rayTrace(d0, partialTicks);
                 Vec3d vec3d = entity.getPositionEyes(partialTicks);
                 boolean flag = false;
@@ -442,7 +454,8 @@
                 float f = 1.0F;
                 List<Entity> list = this.mc.world.getEntitiesInAABBexcluding(entity, entity.getEntityBoundingBox().addCoord(vec3d1.xCoord * d0, vec3d1.yCoord * d0, vec3d1.zCoord * d0).expand(1.0D, 1.0D, 1.0D), Predicates.and(EntitySelectors.NOT_SPECTATING, new Predicate<Entity>()
                 {
-                    public boolean apply(@Nullable Entity p_apply_1_)
+                    @Override
+					public boolean apply(@Nullable Entity p_apply_1_)
                     {
                         return p_apply_1_ != null && p_apply_1_.canBeCollidedWith();
                     }
@@ -452,7 +465,15 @@
                 for (int j = 0; j < list.size(); ++j)
                 {
                     Entity entity1 = list.get(j);
-                    AxisAlignedBB axisalignedbb = entity1.getEntityBoundingBox().expandXyz((double)entity1.getCollisionBorderSize());
+
+					// TODO: Client
+					EventRayTrace event = new EventRayTrace(new IEntity(entity1));
+					Event.sendEvent(event);
+					if (event.isCanceled()) {
+						continue;
+					}
+
+                    AxisAlignedBB axisalignedbb = entity1.getEntityBoundingBox().expandXyz(entity1.getCollisionBorderSize());
                     RayTraceResult raytraceresult = axisalignedbb.calculateIntercept(vec3d, vec3d2);
 
                     if (axisalignedbb.isVecInside(vec3d))
@@ -558,7 +579,7 @@
 
             if (entity instanceof EntityLivingBase && ((EntityLivingBase)entity).getHealth() <= 0.0F)
             {
-                float f1 = (float)((EntityLivingBase)entity).deathTime + partialTicks;
+                float f1 = ((EntityLivingBase)entity).deathTime + partialTicks;
                 f /= (1.0F - 500.0F / (f1 + 500.0F)) * 2.0F + 1.0F;
             }
 
@@ -578,11 +599,11 @@
         if (this.mc.getRenderViewEntity() instanceof EntityLivingBase)
         {
             EntityLivingBase entitylivingbase = (EntityLivingBase)this.mc.getRenderViewEntity();
-            float f = (float)entitylivingbase.hurtTime - partialTicks;
+            float f = entitylivingbase.hurtTime - partialTicks;
 
             if (entitylivingbase.getHealth() <= 0.0F)
             {
-                float f1 = (float)entitylivingbase.deathTime + partialTicks;
+                float f1 = entitylivingbase.deathTime + partialTicks;
                 GlStateManager.rotate(40.0F - 8000.0F / (f1 + 200.0F), 0.0F, 0.0F, 1.0F);
             }
 
@@ -591,7 +612,7 @@
                 return;
             }
 
-            f = f / (float)entitylivingbase.maxHurtTime;
+            f = f / entitylivingbase.maxHurtTime;
             f = MathHelper.sin(f * f * f * f * (float)Math.PI);
             float f2 = entitylivingbase.attackedAtYaw;
             GlStateManager.rotate(-f2, 0.0F, 1.0F, 0.0F);
@@ -626,13 +647,13 @@
     {
         Entity entity = this.mc.getRenderViewEntity();
         float f = entity.getEyeHeight();
-        double d0 = entity.prevPosX + (entity.posX - entity.prevPosX) * (double)partialTicks;
-        double d1 = entity.prevPosY + (entity.posY - entity.prevPosY) * (double)partialTicks + (double)f;
-        double d2 = entity.prevPosZ + (entity.posZ - entity.prevPosZ) * (double)partialTicks;
+        double d0 = entity.prevPosX + (entity.posX - entity.prevPosX) * partialTicks;
+        double d1 = entity.prevPosY + (entity.posY - entity.prevPosY) * partialTicks + f;
+        double d2 = entity.prevPosZ + (entity.posZ - entity.prevPosZ) * partialTicks;
 
         if (entity instanceof EntityLivingBase && ((EntityLivingBase)entity).isPlayerSleeping())
         {
-            f = (float)((double)f + 1.0D);
+            f = (float)(f + 1.0D);
             GlStateManager.translate(0.0F, 0.3F, 0.0F);
 
             if (!this.mc.gameSettings.debugCamEnable)
@@ -643,8 +664,8 @@
 
                 if (block == Blocks.BED)
                 {
-                    int j = ((EnumFacing)iblockstate.getValue(BlockBed.FACING)).getHorizontalIndex();
-                    GlStateManager.rotate((float)(j * 90), 0.0F, 1.0F, 0.0F);
+                    int j = iblockstate.getValue(BlockBed.FACING).getHorizontalIndex();
+                    GlStateManager.rotate(j * 90, 0.0F, 1.0F, 0.0F);
                 }
 
                 GlStateManager.rotate(entity.prevRotationYaw + (entity.rotationYaw - entity.prevRotationYaw) * partialTicks + 180.0F, 0.0F, -1.0F, 0.0F);
@@ -653,7 +674,7 @@
         }
         else if (this.mc.gameSettings.thirdPersonView > 0)
         {
-            double d3 = (double)(this.thirdPersonDistancePrev + (4.0F - this.thirdPersonDistancePrev) * partialTicks);
+            double d3 = this.thirdPersonDistancePrev + (4.0F - this.thirdPersonDistancePrev) * partialTicks;
 
             if (this.mc.gameSettings.debugCamEnable)
             {
@@ -669,19 +690,19 @@
                     f2 += 180.0F;
                 }
 
-                double d4 = (double)(-MathHelper.sin(f1 * 0.017453292F) * MathHelper.cos(f2 * 0.017453292F)) * d3;
-                double d5 = (double)(MathHelper.cos(f1 * 0.017453292F) * MathHelper.cos(f2 * 0.017453292F)) * d3;
-                double d6 = (double)(-MathHelper.sin(f2 * 0.017453292F)) * d3;
+                double d4 = -MathHelper.sin(f1 * 0.017453292F) * MathHelper.cos(f2 * 0.017453292F) * d3;
+                double d5 = MathHelper.cos(f1 * 0.017453292F) * MathHelper.cos(f2 * 0.017453292F) * d3;
+                double d6 = (-MathHelper.sin(f2 * 0.017453292F)) * d3;
 
                 for (int i = 0; i < 8; ++i)
                 {
-                    float f3 = (float)((i & 1) * 2 - 1);
-                    float f4 = (float)((i >> 1 & 1) * 2 - 1);
-                    float f5 = (float)((i >> 2 & 1) * 2 - 1);
+                    float f3 = (i & 1) * 2 - 1;
+                    float f4 = (i >> 1 & 1) * 2 - 1;
+                    float f5 = (i >> 2 & 1) * 2 - 1;
                     f3 = f3 * 0.1F;
                     f4 = f4 * 0.1F;
                     f5 = f5 * 0.1F;
-                    RayTraceResult raytraceresult = this.mc.world.rayTraceBlocks(new Vec3d(d0 + (double)f3, d1 + (double)f4, d2 + (double)f5), new Vec3d(d0 - d4 + (double)f3 + (double)f5, d1 - d6 + (double)f4, d2 - d5 + (double)f5));
+                    RayTraceResult raytraceresult = this.mc.world.rayTraceBlocks(new Vec3d(d0 + f3, d1 + f4, d2 + f5), new Vec3d(d0 - d4 + f3 + f5, d1 - d6 + f4, d2 - d5 + f5));
 
                     if (raytraceresult != null)
                     {
@@ -727,9 +748,9 @@
         }
 
         GlStateManager.translate(0.0F, -f, 0.0F);
-        d0 = entity.prevPosX + (entity.posX - entity.prevPosX) * (double)partialTicks;
-        d1 = entity.prevPosY + (entity.posY - entity.prevPosY) * (double)partialTicks + (double)f;
-        d2 = entity.prevPosZ + (entity.posZ - entity.prevPosZ) * (double)partialTicks;
+        d0 = entity.prevPosX + (entity.posX - entity.prevPosX) * partialTicks;
+        d1 = entity.prevPosY + (entity.posY - entity.prevPosY) * partialTicks + f;
+        d2 = entity.prevPosZ + (entity.posZ - entity.prevPosZ) * partialTicks;
         this.cloudFog = this.mc.renderGlobal.hasCloudFog(d0, d1, d2, partialTicks);
     }
 
@@ -738,14 +759,14 @@
      */
     private void setupCameraTransform(float partialTicks, int pass)
     {
-        this.farPlaneDistance = (float)(this.mc.gameSettings.renderDistanceChunks * 16);
+        this.farPlaneDistance = this.mc.gameSettings.renderDistanceChunks * 16;
         GlStateManager.matrixMode(5889);
         GlStateManager.loadIdentity();
         float f = 0.07F;
 
         if (this.mc.gameSettings.anaglyph)
         {
-            GlStateManager.translate((float)(-(pass * 2 - 1)) * 0.07F, 0.0F, 0.0F);
+            GlStateManager.translate((-(pass * 2 - 1)) * 0.07F, 0.0F, 0.0F);
         }
 
         if (this.cameraZoom != 1.0D)
@@ -760,7 +781,7 @@
 
         if (this.mc.gameSettings.anaglyph)
         {
-            GlStateManager.translate((float)(pass * 2 - 1) * 0.1F, 0.0F, 0.0F);
+            GlStateManager.translate((pass * 2 - 1) * 0.1F, 0.0F, 0.0F);
         }
 
         this.hurtCameraEffect(partialTicks);
@@ -783,9 +804,9 @@
 
             float f2 = 5.0F / (f1 * f1 + 5.0F) - f1 * 0.04F;
             f2 = f2 * f2;
-            GlStateManager.rotate(((float)this.rendererUpdateCount + partialTicks) * (float)i, 0.0F, 1.0F, 1.0F);
+            GlStateManager.rotate((this.rendererUpdateCount + partialTicks) * i, 0.0F, 1.0F, 1.0F);
             GlStateManager.scale(1.0F / f2, 1.0F, 1.0F);
-            GlStateManager.rotate(-((float)this.rendererUpdateCount + partialTicks) * (float)i, 0.0F, 1.0F, 1.0F);
+            GlStateManager.rotate(-(this.rendererUpdateCount + partialTicks) * i, 0.0F, 1.0F, 1.0F);
         }
 
         this.orientCamera(partialTicks);
@@ -829,7 +850,7 @@
 
             if (this.mc.gameSettings.anaglyph)
             {
-                GlStateManager.translate((float)(-(pass * 2 - 1)) * 0.07F, 0.0F, 0.0F);
+                GlStateManager.translate((-(pass * 2 - 1)) * 0.07F, 0.0F, 0.0F);
             }
 
             Project.gluPerspective(this.getFOVModifier(partialTicks, false), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
@@ -838,7 +859,7 @@
 
             if (this.mc.gameSettings.anaglyph)
             {
-                GlStateManager.translate((float)(pass * 2 - 1) * 0.1F, 0.0F, 0.0F);
+                GlStateManager.translate((pass * 2 - 1) * 0.1F, 0.0F, 0.0F);
             }
 
             GlStateManager.pushMatrix();
@@ -904,8 +925,8 @@
      */
     private void updateTorchFlicker()
     {
-        this.torchFlickerDX = (float)((double)this.torchFlickerDX + (Math.random() - Math.random()) * Math.random() * Math.random());
-        this.torchFlickerDX = (float)((double)this.torchFlickerDX * 0.9D);
+        this.torchFlickerDX = (float)(this.torchFlickerDX + (Math.random() - Math.random()) * Math.random() * Math.random());
+        this.torchFlickerDX = (float)(this.torchFlickerDX * 0.9D);
         this.torchFlickerX += this.torchFlickerDX - this.torchFlickerX;
         this.lightmapUpdateNeeded = true;
     }
@@ -1054,7 +1075,7 @@
     private float getNightVisionBrightness(EntityLivingBase entitylivingbaseIn, float partialTicks)
     {
         int i = entitylivingbaseIn.getActivePotionEffect(MobEffects.NIGHT_VISION).getDuration();
-        return i > 200 ? 1.0F : 0.7F + MathHelper.sin(((float)i - partialTicks) * (float)Math.PI * 0.2F) * 0.3F;
+        return i > 200 ? 1.0F : 0.7F + MathHelper.sin((i - partialTicks) * (float)Math.PI * 0.2F) * 0.3F;
     }
 
     public void updateCameraAndRender(float partialTicks, long nanoTime)
@@ -1088,8 +1109,8 @@
             this.mc.func_193032_ao().func_193299_a(this.mc.mouseHelper);
             float f = this.mc.gameSettings.mouseSensitivity * 0.6F + 0.2F;
             float f1 = f * f * f * 8.0F;
-            float f2 = (float)this.mc.mouseHelper.deltaX * f1;
-            float f3 = (float)this.mc.mouseHelper.deltaY * f1;
+            float f2 = this.mc.mouseHelper.deltaX * f1;
+            float f3 = this.mc.mouseHelper.deltaY * f1;
             int i = 1;
 
             if (this.mc.gameSettings.invertMouse)
@@ -1105,13 +1126,13 @@
                 this.smoothCamPartialTicks = partialTicks;
                 f2 = this.smoothCamFilterX * f4;
                 f3 = this.smoothCamFilterY * f4;
-                this.mc.player.setAngles(f2, f3 * (float)i);
+                this.mc.player.setAngles(f2, f3 * i);
             }
             else
             {
                 this.smoothCamYaw = 0.0F;
                 this.smoothCamPitch = 0.0F;
-                this.mc.player.setAngles(f2, f3 * (float)i);
+                this.mc.player.setAngles(f2, f3 * i);
             }
         }
 
@@ -1133,7 +1154,7 @@
                 int j = Math.min(Minecraft.getDebugFPS(), i2);
                 j = Math.max(j, 60);
                 long k = System.nanoTime() - nanoTime;
-                long l = Math.max((long)(1000000000 / j / 4) - k, 0L);
+                long l = Math.max(1000000000 / j / 4 - k, 0L);
                 this.renderWorld(partialTicks, System.nanoTime() + l);
 
                 if (this.mc.isSingleplayer() && this.timeWorldIcon < Minecraft.getSystemTime() - 1000L)
@@ -1200,21 +1221,24 @@
                     CrashReportCategory crashreportcategory = crashreport.makeCategory("Screen render details");
                     crashreportcategory.setDetail("Screen name", new ICrashReportDetail<String>()
                     {
-                        public String call() throws Exception
+                        @Override
+						public String call() throws Exception
                         {
                             return EntityRenderer.this.mc.currentScreen.getClass().getCanonicalName();
                         }
                     });
                     crashreportcategory.setDetail("Mouse location", new ICrashReportDetail<String>()
                     {
-                        public String call() throws Exception
+                        @Override
+						public String call() throws Exception
                         {
                             return String.format("Scaled: (%d, %d). Absolute: (%d, %d)", k1, l1, Mouse.getX(), Mouse.getY());
                         }
                     });
                     crashreportcategory.setDetail("Screen size", new ICrashReportDetail<String>()
                     {
-                        public String call() throws Exception
+                        @Override
+						public String call() throws Exception
                         {
                             return String.format("Scaled: (%d, %d). Absolute: (%d, %d). Scale factor of %d", scaledresolution.getScaledWidth(), scaledresolution.getScaledHeight(), EntityRenderer.this.mc.displayWidth, EntityRenderer.this.mc.displayHeight, scaledresolution.getScaleFactor());
                         }
@@ -1255,7 +1279,7 @@
             }
             catch (IOException ioexception)
             {
-                LOGGER.warn("Couldn't save auto screenshot", (Throwable)ioexception);
+                LOGGER.warn("Couldn't save auto screenshot", ioexception);
             }
         }
     }
@@ -1351,9 +1375,9 @@
         this.mc.mcProfiler.endStartSection("culling");
         ICamera icamera = new Frustum();
         Entity entity = this.mc.getRenderViewEntity();
-        double d0 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * (double)partialTicks;
-        double d1 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * (double)partialTicks;
-        double d2 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * (double)partialTicks;
+        double d0 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * partialTicks;
+        double d1 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * partialTicks;
+        double d2 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * partialTicks;
         icamera.setPosition(d0, d1, d2);
 
         if (this.mc.gameSettings.renderDistanceChunks >= 4)
@@ -1374,7 +1398,7 @@
         this.setupFog(0, partialTicks);
         GlStateManager.shadeModel(7425);
 
-        if (entity.posY + (double)entity.getEyeHeight() < 128.0D)
+        if (entity.posY + entity.getEyeHeight() < 128.0D)
         {
             this.renderCloudsCheck(renderglobal, partialTicks, pass, d0, d1, d2);
         }
@@ -1384,7 +1408,7 @@
         this.mc.getTextureManager().bindTexture(TextureMap.LOCATION_BLOCKS_TEXTURE);
         RenderHelper.disableStandardItemLighting();
         this.mc.mcProfiler.endStartSection("terrain_setup");
-        renderglobal.setupTerrain(entity, (double)partialTicks, icamera, this.frameCount++, this.mc.player.isSpectator());
+        renderglobal.setupTerrain(entity, partialTicks, icamera, this.frameCount++, this.mc.player.isSpectator());
 
         if (pass == 0 || pass == 2)
         {
@@ -1396,11 +1420,11 @@
         GlStateManager.matrixMode(5888);
         GlStateManager.pushMatrix();
         GlStateManager.disableAlpha();
-        renderglobal.renderBlockLayer(BlockRenderLayer.SOLID, (double)partialTicks, pass, entity);
+        renderglobal.renderBlockLayer(BlockRenderLayer.SOLID, partialTicks, pass, entity);
         GlStateManager.enableAlpha();
-        renderglobal.renderBlockLayer(BlockRenderLayer.CUTOUT_MIPPED, (double)partialTicks, pass, entity);
+        renderglobal.renderBlockLayer(BlockRenderLayer.CUTOUT_MIPPED, partialTicks, pass, entity);
         this.mc.getTextureManager().getTexture(TextureMap.LOCATION_BLOCKS_TEXTURE).setBlurMipmap(false, false);
-        renderglobal.renderBlockLayer(BlockRenderLayer.CUTOUT, (double)partialTicks, pass, entity);
+        renderglobal.renderBlockLayer(BlockRenderLayer.CUTOUT, partialTicks, pass, entity);
         this.mc.getTextureManager().getTexture(TextureMap.LOCATION_BLOCKS_TEXTURE).restoreLastBlurMipmap();
         GlStateManager.shadeModel(7424);
         GlStateManager.alphaFunc(516, 0.1F);
@@ -1470,18 +1494,21 @@
         this.mc.getTextureManager().bindTexture(TextureMap.LOCATION_BLOCKS_TEXTURE);
         GlStateManager.shadeModel(7425);
         this.mc.mcProfiler.endStartSection("translucent");
-        renderglobal.renderBlockLayer(BlockRenderLayer.TRANSLUCENT, (double)partialTicks, pass, entity);
+        renderglobal.renderBlockLayer(BlockRenderLayer.TRANSLUCENT, partialTicks, pass, entity);
         GlStateManager.shadeModel(7424);
         GlStateManager.depthMask(true);
         GlStateManager.enableCull();
         GlStateManager.disableBlend();
         GlStateManager.disableFog();
 
-        if (entity.posY + (double)entity.getEyeHeight() >= 128.0D)
+        if (entity.posY + entity.getEyeHeight() >= 128.0D)
         {
             this.mc.mcProfiler.endStartSection("aboveClouds");
             this.renderCloudsCheck(renderglobal, partialTicks, pass, d0, d1, d2);
         }
+        
+        // TODO: Client
+        Event.sendEvent(new EventRender3D(partialTicks));
 
         this.mc.mcProfiler.endStartSection("hand");
 
@@ -1515,6 +1542,14 @@
 
     private void addRainParticles()
     {
+
+		// TODO: Client
+		EventWeather event = new EventWeather(WeatherType.Rain);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+
         float f = this.mc.world.getRainStrength(1.0F);
 
         if (!this.mc.gameSettings.fancyGraphics)
@@ -1524,7 +1559,7 @@
 
         if (f != 0.0F)
         {
-            this.random.setSeed((long)this.rendererUpdateCount * 312987231L);
+            this.random.setSeed(this.rendererUpdateCount * 312987231L);
             Entity entity = this.mc.getRenderViewEntity();
             World world = this.mc.world;
             BlockPos blockpos = new BlockPos(entity);
@@ -1565,17 +1600,17 @@
 
                             if (this.random.nextInt(j) == 0)
                             {
-                                d0 = (double)blockpos2.getX() + d3;
-                                d1 = (double)((float)blockpos2.getY() + 0.1F) + axisalignedbb.maxY - 1.0D;
-                                d2 = (double)blockpos2.getZ() + d4;
+                                d0 = blockpos2.getX() + d3;
+                                d1 = blockpos2.getY() + 0.1F + axisalignedbb.maxY - 1.0D;
+                                d2 = blockpos2.getZ() + d4;
                             }
 
-                            this.mc.world.spawnParticle(EnumParticleTypes.WATER_DROP, (double)blockpos2.getX() + d3, (double)((float)blockpos2.getY() + 0.1F) + axisalignedbb.maxY, (double)blockpos2.getZ() + d4, 0.0D, 0.0D, 0.0D, new int[0]);
+                            this.mc.world.spawnParticle(EnumParticleTypes.WATER_DROP, blockpos2.getX() + d3, blockpos2.getY() + 0.1F + axisalignedbb.maxY, blockpos2.getZ() + d4, 0.0D, 0.0D, 0.0D, new int[0]);
                         }
                     }
                     else
                     {
-                        this.mc.world.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, (double)blockpos1.getX() + d3, (double)((float)blockpos1.getY() + 0.1F) - axisalignedbb.minY, (double)blockpos1.getZ() + d4, 0.0D, 0.0D, 0.0D, new int[0]);
+                        this.mc.world.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, blockpos1.getX() + d3, blockpos1.getY() + 0.1F - axisalignedbb.minY, blockpos1.getZ() + d4, 0.0D, 0.0D, 0.0D, new int[0]);
                     }
                 }
             }
@@ -1584,7 +1619,7 @@
             {
                 this.rainSoundCounter = 0;
 
-                if (d1 > (double)(blockpos.getY() + 1) && world.getPrecipitationHeight(blockpos).getY() > MathHelper.floor((float)blockpos.getY()))
+                if (d1 > blockpos.getY() + 1 && world.getPrecipitationHeight(blockpos).getY() > MathHelper.floor(blockpos.getY()))
                 {
                     this.mc.world.playSound(d0, d1, d2, SoundEvents.WEATHER_RAIN_ABOVE, SoundCategory.WEATHER, 0.1F, 0.5F, false);
                 }
@@ -1601,6 +1636,14 @@
      */
     protected void renderRainSnow(float partialTicks)
     {
+
+		// TODO: Client
+		EventWeather event = new EventWeather(WeatherType.Rain);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+
         float f = this.mc.world.getRainStrength(partialTicks);
 
         if (f > 0.0F)
@@ -1618,9 +1661,9 @@
             GlStateManager.enableBlend();
             GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
             GlStateManager.alphaFunc(516, 0.1F);
-            double d0 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * (double)partialTicks;
-            double d1 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * (double)partialTicks;
-            double d2 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * (double)partialTicks;
+            double d0 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * partialTicks;
+            double d1 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * partialTicks;
+            double d2 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * partialTicks;
             int l = MathHelper.floor(d1);
             int i1 = 5;
 
@@ -1630,7 +1673,7 @@
             }
 
             int j1 = -1;
-            float f1 = (float)this.rendererUpdateCount + partialTicks;
+            float f1 = this.rendererUpdateCount + partialTicks;
             bufferbuilder.setTranslation(-d0, -d1, -d2);
             GlStateManager.color(1.0F, 1.0F, 1.0F, 1.0F);
             BlockPos.MutableBlockPos blockpos$mutableblockpos = new BlockPos.MutableBlockPos();
@@ -1640,8 +1683,8 @@
                 for (int l1 = i - i1; l1 <= i + i1; ++l1)
                 {
                     int i2 = (k1 - k + 16) * 32 + l1 - i + 16;
-                    double d3 = (double)this.rainXCoords[i2] * 0.5D;
-                    double d4 = (double)this.rainYCoords[i2] * 0.5D;
+                    double d3 = this.rainXCoords[i2] * 0.5D;
+                    double d4 = this.rainYCoords[i2] * 0.5D;
                     blockpos$mutableblockpos.setPos(l1, 0, k1);
                     Biome biome = world.getBiome(blockpos$mutableblockpos);
 
@@ -1670,7 +1713,7 @@
 
                         if (k2 != l2)
                         {
-                            this.random.setSeed((long)(l1 * l1 * 3121 + l1 * 45238971 ^ k1 * k1 * 418711 + k1 * 13761));
+                            this.random.setSeed(l1 * l1 * 3121 + l1 * 45238971 ^ k1 * k1 * 418711 + k1 * 13761);
                             blockpos$mutableblockpos.setPos(l1, k2, k1);
                             float f2 = biome.getFloatTemperature(blockpos$mutableblockpos);
 
@@ -1689,18 +1732,18 @@
                                 }
 
                                 double d5 = -((double)(this.rendererUpdateCount + l1 * l1 * 3121 + l1 * 45238971 + k1 * k1 * 418711 + k1 * 13761 & 31) + (double)partialTicks) / 32.0D * (3.0D + this.random.nextDouble());
-                                double d6 = (double)((float)l1 + 0.5F) - entity.posX;
-                                double d7 = (double)((float)k1 + 0.5F) - entity.posZ;
-                                float f3 = MathHelper.sqrt(d6 * d6 + d7 * d7) / (float)i1;
+                                double d6 = l1 + 0.5F - entity.posX;
+                                double d7 = k1 + 0.5F - entity.posZ;
+                                float f3 = MathHelper.sqrt(d6 * d6 + d7 * d7) / i1;
                                 float f4 = ((1.0F - f3 * f3) * 0.5F + 0.5F) * f;
                                 blockpos$mutableblockpos.setPos(l1, i3, k1);
                                 int j3 = world.getCombinedLight(blockpos$mutableblockpos, 0);
                                 int k3 = j3 >> 16 & 65535;
                                 int l3 = j3 & 65535;
-                                bufferbuilder.pos((double)l1 - d3 + 0.5D, (double)l2, (double)k1 - d4 + 0.5D).tex(0.0D, (double)k2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
-                                bufferbuilder.pos((double)l1 + d3 + 0.5D, (double)l2, (double)k1 + d4 + 0.5D).tex(1.0D, (double)k2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
-                                bufferbuilder.pos((double)l1 + d3 + 0.5D, (double)k2, (double)k1 + d4 + 0.5D).tex(1.0D, (double)l2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
-                                bufferbuilder.pos((double)l1 - d3 + 0.5D, (double)k2, (double)k1 - d4 + 0.5D).tex(0.0D, (double)l2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
+                                bufferbuilder.pos(l1 - d3 + 0.5D, l2, k1 - d4 + 0.5D).tex(0.0D, k2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
+                                bufferbuilder.pos(l1 + d3 + 0.5D, l2, k1 + d4 + 0.5D).tex(1.0D, k2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
+                                bufferbuilder.pos(l1 + d3 + 0.5D, k2, k1 + d4 + 0.5D).tex(1.0D, l2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
+                                bufferbuilder.pos(l1 - d3 + 0.5D, k2, k1 - d4 + 0.5D).tex(0.0D, l2 * 0.25D + d5).color(1.0F, 1.0F, 1.0F, f4).lightmap(k3, l3).endVertex();
                             }
                             else
                             {
@@ -1716,21 +1759,21 @@
                                     bufferbuilder.begin(7, DefaultVertexFormats.PARTICLE_POSITION_TEX_COLOR_LMAP);
                                 }
 
-                                double d8 = (double)(-((float)(this.rendererUpdateCount & 511) + partialTicks) / 512.0F);
-                                double d9 = this.random.nextDouble() + (double)f1 * 0.01D * (double)((float)this.random.nextGaussian());
-                                double d10 = this.random.nextDouble() + (double)(f1 * (float)this.random.nextGaussian()) * 0.001D;
-                                double d11 = (double)((float)l1 + 0.5F) - entity.posX;
-                                double d12 = (double)((float)k1 + 0.5F) - entity.posZ;
-                                float f6 = MathHelper.sqrt(d11 * d11 + d12 * d12) / (float)i1;
+                                double d8 = -((this.rendererUpdateCount & 511) + partialTicks) / 512.0F;
+                                double d9 = this.random.nextDouble() + f1 * 0.01D * ((float)this.random.nextGaussian());
+                                double d10 = this.random.nextDouble() + f1 * (float)this.random.nextGaussian() * 0.001D;
+                                double d11 = l1 + 0.5F - entity.posX;
+                                double d12 = k1 + 0.5F - entity.posZ;
+                                float f6 = MathHelper.sqrt(d11 * d11 + d12 * d12) / i1;
                                 float f5 = ((1.0F - f6 * f6) * 0.3F + 0.5F) * f;
                                 blockpos$mutableblockpos.setPos(l1, i3, k1);
                                 int i4 = (world.getCombinedLight(blockpos$mutableblockpos, 0) * 3 + 15728880) / 4;
                                 int j4 = i4 >> 16 & 65535;
                                 int k4 = i4 & 65535;
-                                bufferbuilder.pos((double)l1 - d3 + 0.5D, (double)l2, (double)k1 - d4 + 0.5D).tex(0.0D + d9, (double)k2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
-                                bufferbuilder.pos((double)l1 + d3 + 0.5D, (double)l2, (double)k1 + d4 + 0.5D).tex(1.0D + d9, (double)k2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
-                                bufferbuilder.pos((double)l1 + d3 + 0.5D, (double)k2, (double)k1 + d4 + 0.5D).tex(1.0D + d9, (double)l2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
-                                bufferbuilder.pos((double)l1 - d3 + 0.5D, (double)k2, (double)k1 - d4 + 0.5D).tex(0.0D + d9, (double)l2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
+                                bufferbuilder.pos(l1 - d3 + 0.5D, l2, k1 - d4 + 0.5D).tex(0.0D + d9, k2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
+                                bufferbuilder.pos(l1 + d3 + 0.5D, l2, k1 + d4 + 0.5D).tex(1.0D + d9, k2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
+                                bufferbuilder.pos(l1 + d3 + 0.5D, k2, k1 + d4 + 0.5D).tex(1.0D + d9, l2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
+                                bufferbuilder.pos(l1 - d3 + 0.5D, k2, k1 - d4 + 0.5D).tex(0.0D + d9, l2 * 0.25D + d8 + d10).color(1.0F, 1.0F, 1.0F, f5).lightmap(j4, k4).endVertex();
                             }
                         }
                     }
@@ -1772,8 +1815,8 @@
     {
         World world = this.mc.world;
         Entity entity = this.mc.getRenderViewEntity();
-        float f = 0.25F + 0.75F * (float)this.mc.gameSettings.renderDistanceChunks / 32.0F;
-        f = 1.0F - (float)Math.pow((double)f, 0.25D);
+        float f = 0.25F + 0.75F * this.mc.gameSettings.renderDistanceChunks / 32.0F;
+        f = 1.0F - (float)Math.pow(f, 0.25D);
         Vec3d vec3d = world.getSkyColor(this.mc.getRenderViewEntity(), partialTicks);
         float f1 = (float)vec3d.xCoord;
         float f2 = (float)vec3d.yCoord;
@@ -1847,7 +1890,7 @@
 
             if (entity instanceof EntityLivingBase)
             {
-                f12 = (float)EnchantmentHelper.getRespirationModifier((EntityLivingBase)entity) * 0.2F;
+                f12 = EnchantmentHelper.getRespirationModifier((EntityLivingBase)entity) * 0.2F;
 
                 if (((EntityLivingBase)entity).isPotionActive(MobEffects.WATER_BREATHING))
                 {
@@ -1870,7 +1913,7 @@
         this.fogColorRed *= f13;
         this.fogColorGreen *= f13;
         this.fogColorBlue *= f13;
-        double d1 = (entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * (double)partialTicks) * world.provider.getVoidFogYFactor();
+        double d1 = (entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * partialTicks) * world.provider.getVoidFogYFactor();
 
         if (entity instanceof EntityLivingBase && ((EntityLivingBase)entity).isPotionActive(MobEffects.BLINDNESS))
         {
@@ -1878,7 +1921,7 @@
 
             if (i < 20)
             {
-                d1 *= (double)(1.0F - (float)i / 20.0F);
+                d1 *= 1.0F - i / 20.0F;
             }
             else
             {
@@ -1894,9 +1937,9 @@
             }
 
             d1 = d1 * d1;
-            this.fogColorRed = (float)((double)this.fogColorRed * d1);
-            this.fogColorGreen = (float)((double)this.fogColorGreen * d1);
-            this.fogColorBlue = (float)((double)this.fogColorBlue * d1);
+            this.fogColorRed = (float)(this.fogColorRed * d1);
+            this.fogColorGreen = (float)(this.fogColorGreen * d1);
+            this.fogColorBlue = (float)(this.fogColorBlue * d1);
         }
 
         if (this.bossColorModifier > 0.0F)
@@ -1959,7 +2002,7 @@
 
             if (i < 20)
             {
-                f1 = 5.0F + (this.farPlaneDistance - 5.0F) * (1.0F - (float)i / 20.0F);
+                f1 = 5.0F + (this.farPlaneDistance - 5.0F) * (1.0F - i / 20.0F);
             }
 
             GlStateManager.setFog(GlStateManager.FogMode.LINEAR);
@@ -1997,7 +2040,7 @@
                 }
                 else
                 {
-                    GlStateManager.setFogDensity(0.1F - (float)EnchantmentHelper.getRespirationModifier((EntityLivingBase)entity) * 0.03F);
+                    GlStateManager.setFogDensity(0.1F - EnchantmentHelper.getRespirationModifier((EntityLivingBase)entity) * 0.03F);
                 }
             }
             else
@@ -2077,13 +2120,22 @@
         return this.theMapItemRenderer;
     }
 
-    public static void drawNameplate(FontRenderer fontRendererIn, String str, float x, float y, float z, int verticalShift, float viewerYaw, float viewerPitch, boolean isThirdPersonFrontal, boolean isSneaking)
+    public static void drawNameplate(FontRenderer fontRendererIn, String str, float x, float y, float z, int verticalShift, float viewerYaw, float viewerPitch, boolean isThirdPersonFrontal, boolean isSneaking,
+    		Entity entityIn)
     {
+    	
+    	// TODO: Client
+    	EventNametagRender event = new EventNametagRender(entityIn instanceof EntityPlayer ? true : false);
+    	Event.sendEvent(event);
+    	if (event.isCanceled()) {
+    	    return;
+    	}
+    	
         GlStateManager.pushMatrix();
         GlStateManager.translate(x, y, z);
         GlStateManager.glNormal3f(0.0F, 1.0F, 0.0F);
         GlStateManager.rotate(-viewerYaw, 0.0F, 1.0F, 0.0F);
-        GlStateManager.rotate((float)(isThirdPersonFrontal ? -1 : 1) * viewerPitch, 1.0F, 0.0F, 0.0F);
+        GlStateManager.rotate((isThirdPersonFrontal ? -1 : 1) * viewerPitch, 1.0F, 0.0F, 0.0F);
         GlStateManager.scale(-0.025F, -0.025F, 0.025F);
         GlStateManager.disableLighting();
         GlStateManager.depthMask(false);
@@ -2100,10 +2152,10 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         bufferbuilder.begin(7, DefaultVertexFormats.POSITION_COLOR);
-        bufferbuilder.pos((double)(-i - 1), (double)(-1 + verticalShift), 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
-        bufferbuilder.pos((double)(-i - 1), (double)(8 + verticalShift), 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
-        bufferbuilder.pos((double)(i + 1), (double)(8 + verticalShift), 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
-        bufferbuilder.pos((double)(i + 1), (double)(-1 + verticalShift), 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
+        bufferbuilder.pos(-i - 1, -1 + verticalShift, 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
+        bufferbuilder.pos(-i - 1, 8 + verticalShift, 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
+        bufferbuilder.pos(i + 1, 8 + verticalShift, 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
+        bufferbuilder.pos(i + 1, -1 + verticalShift, 0.0D).color(0.0F, 0.0F, 0.0F, 0.25F).endVertex();
         tessellator.draw();
         GlStateManager.enableTexture2D();
 
@@ -2134,20 +2186,20 @@
         if (this.field_190566_ab != null && this.field_190567_ac > 0)
         {
             int i = 40 - this.field_190567_ac;
-            float f = ((float)i + p_190563_3_) / 40.0F;
+            float f = (i + p_190563_3_) / 40.0F;
             float f1 = f * f;
             float f2 = f * f1;
             float f3 = 10.25F * f2 * f1 + -24.95F * f1 * f1 + 25.5F * f2 + -13.8F * f1 + 4.0F * f;
             float f4 = f3 * (float)Math.PI;
-            float f5 = this.field_190568_ad * (float)(p_190563_1_ / 4);
-            float f6 = this.field_190569_ae * (float)(p_190563_2_ / 4);
+            float f5 = this.field_190568_ad * (p_190563_1_ / 4);
+            float f6 = this.field_190569_ae * (p_190563_2_ / 4);
             GlStateManager.enableAlpha();
             GlStateManager.pushMatrix();
             GlStateManager.pushAttrib();
             GlStateManager.enableDepth();
             GlStateManager.disableCull();
             RenderHelper.enableStandardItemLighting();
-            GlStateManager.translate((float)(p_190563_1_ / 2) + f5 * MathHelper.abs(MathHelper.sin(f4 * 2.0F)), (float)(p_190563_2_ / 2) + f6 * MathHelper.abs(MathHelper.sin(f4 * 2.0F)), -50.0F);
+            GlStateManager.translate(p_190563_1_ / 2 + f5 * MathHelper.abs(MathHelper.sin(f4 * 2.0F)), p_190563_2_ / 2 + f6 * MathHelper.abs(MathHelper.sin(f4 * 2.0F)), -50.0F);
             float f7 = 50.0F + 175.0F * MathHelper.sin(f4);
             GlStateManager.scale(f7, -f7, f7);
             GlStateManager.rotate(900.0F * MathHelper.abs(MathHelper.sin(f4)), 0.0F, 1.0F, 0.0F);
diff -ur original/client/renderer/RenderGlobal.java minecraft/client/renderer/RenderGlobal.java
--- original/client/renderer/RenderGlobal.java	2017-06-17 13:16:31.890963000 +0200
+++ minecraft/client/renderer/RenderGlobal.java	2017-06-14 15:33:04.588025400 +0200
@@ -1,10 +1,5 @@
 package net.minecraft.client.renderer;
 
-import com.google.common.collect.Lists;
-import com.google.common.collect.Maps;
-import com.google.common.collect.Queues;
-import com.google.common.collect.Sets;
-import com.google.gson.JsonSyntaxException;
 import java.io.IOException;
 import java.util.Collection;
 import java.util.Iterator;
@@ -13,7 +8,20 @@
 import java.util.Queue;
 import java.util.Random;
 import java.util.Set;
+
 import javax.annotation.Nullable;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.lwjgl.util.vector.Vector3f;
+import org.lwjgl.util.vector.Vector4f;
+
+import com.google.common.collect.Lists;
+import com.google.common.collect.Maps;
+import com.google.common.collect.Queues;
+import com.google.common.collect.Sets;
+import com.google.gson.JsonSyntaxException;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockChest;
 import net.minecraft.block.BlockEnderChest;
@@ -83,10 +91,6 @@
 import net.minecraft.world.World;
 import net.minecraft.world.border.WorldBorder;
 import net.minecraft.world.chunk.Chunk;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.lwjgl.util.vector.Vector3f;
-import org.lwjgl.util.vector.Vector4f;
 
 public class RenderGlobal implements IWorldEventListener, IResourceManagerReloadListener
 {
@@ -202,7 +206,8 @@
         this.generateSky2();
     }
 
-    public void onResourceManagerReload(IResourceManager resourceManager)
+    @Override
+	public void onResourceManagerReload(IResourceManager resourceManager)
     {
         this.updateDestroyBlockIcons();
     }
@@ -351,19 +356,19 @@
         {
             for (int l = -384; l <= 384; l += 64)
             {
-                float f = (float)k;
-                float f1 = (float)(k + 64);
+                float f = k;
+                float f1 = k + 64;
 
                 if (reverseX)
                 {
-                    f1 = (float)k;
-                    f = (float)(k + 64);
+                    f1 = k;
+                    f = k + 64;
                 }
 
-                worldRendererIn.pos((double)f, (double)posY, (double)l).endVertex();
-                worldRendererIn.pos((double)f1, (double)posY, (double)l).endVertex();
-                worldRendererIn.pos((double)f1, (double)posY, (double)(l + 64)).endVertex();
-                worldRendererIn.pos((double)f, (double)posY, (double)(l + 64)).endVertex();
+                worldRendererIn.pos(f, posY, l).endVertex();
+                worldRendererIn.pos(f1, posY, l).endVertex();
+                worldRendererIn.pos(f1, posY, l + 64).endVertex();
+                worldRendererIn.pos(f, posY, l + 64).endVertex();
             }
         }
     }
@@ -411,10 +416,10 @@
 
         for (int i = 0; i < 1500; ++i)
         {
-            double d0 = (double)(random.nextFloat() * 2.0F - 1.0F);
-            double d1 = (double)(random.nextFloat() * 2.0F - 1.0F);
-            double d2 = (double)(random.nextFloat() * 2.0F - 1.0F);
-            double d3 = (double)(0.15F + random.nextFloat() * 0.1F);
+            double d0 = random.nextFloat() * 2.0F - 1.0F;
+            double d1 = random.nextFloat() * 2.0F - 1.0F;
+            double d2 = random.nextFloat() * 2.0F - 1.0F;
+            double d3 = 0.15F + random.nextFloat() * 0.1F;
             double d4 = d0 * d0 + d1 * d1 + d2 * d2;
 
             if (d4 < 1.0D && d4 > 0.01D)
@@ -439,8 +444,8 @@
                 for (int j = 0; j < 4; ++j)
                 {
                     double d17 = 0.0D;
-                    double d18 = (double)((j & 2) - 1) * d3;
-                    double d19 = (double)((j + 1 & 2) - 1) * d3;
+                    double d18 = ((j & 2) - 1) * d3;
+                    double d19 = ((j + 1 & 2) - 1) * d3;
                     double d20 = 0.0D;
                     double d21 = d18 * d16 - d19 * d15;
                     double d22 = d19 * d16 + d18 * d15;
@@ -588,9 +593,9 @@
         }
         else
         {
-            double d0 = renderViewEntity.prevPosX + (renderViewEntity.posX - renderViewEntity.prevPosX) * (double)partialTicks;
-            double d1 = renderViewEntity.prevPosY + (renderViewEntity.posY - renderViewEntity.prevPosY) * (double)partialTicks;
-            double d2 = renderViewEntity.prevPosZ + (renderViewEntity.posZ - renderViewEntity.prevPosZ) * (double)partialTicks;
+            double d0 = renderViewEntity.prevPosX + (renderViewEntity.posX - renderViewEntity.prevPosX) * partialTicks;
+            double d1 = renderViewEntity.prevPosY + (renderViewEntity.posY - renderViewEntity.prevPosY) * partialTicks;
+            double d2 = renderViewEntity.prevPosZ + (renderViewEntity.posZ - renderViewEntity.prevPosZ) * partialTicks;
             this.theWorld.theProfiler.startSection("prepare");
             TileEntityRendererDispatcher.instance.prepare(this.theWorld, this.mc.getTextureManager(), this.mc.fontRendererObj, this.mc.getRenderViewEntity(), this.mc.objectMouseOver, partialTicks);
             this.renderManager.cacheActiveRenderInfo(this.theWorld, this.mc.fontRendererObj, this.mc.getRenderViewEntity(), this.mc.pointedEntity, this.mc.gameSettings, partialTicks);
@@ -598,9 +603,9 @@
             this.countEntitiesRendered = 0;
             this.countEntitiesHidden = 0;
             Entity entity = this.mc.getRenderViewEntity();
-            double d3 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * (double)partialTicks;
-            double d4 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * (double)partialTicks;
-            double d5 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * (double)partialTicks;
+            double d3 = entity.lastTickPosX + (entity.posX - entity.lastTickPosX) * partialTicks;
+            double d4 = entity.lastTickPosY + (entity.posY - entity.lastTickPosY) * partialTicks;
+            double d5 = entity.lastTickPosZ + (entity.posZ - entity.lastTickPosZ) * partialTicks;
             TileEntityRendererDispatcher.staticPlayerX = d3;
             TileEntityRendererDispatcher.staticPlayerY = d4;
             TileEntityRendererDispatcher.staticPlayerZ = d5;
@@ -648,7 +653,7 @@
 
                                 if (this.isOutlineActive(entity2, entity, camera))
                                 {
-                                    list1.add(entity2);
+									list1.add(entity2);
                                 }
 
                                 if (this.renderManager.isRenderMultipass(entity2))
@@ -867,15 +872,15 @@
         }
 
         this.mc.mcProfiler.endStartSection("culling");
-        BlockPos blockpos1 = new BlockPos(d3, d4 + (double)viewEntity.getEyeHeight(), d5);
+        BlockPos blockpos1 = new BlockPos(d3, d4 + viewEntity.getEyeHeight(), d5);
         RenderChunk renderchunk = this.viewFrustum.getRenderChunk(blockpos1);
         BlockPos blockpos = new BlockPos(MathHelper.floor(d3 / 16.0D) * 16, MathHelper.floor(d4 / 16.0D) * 16, MathHelper.floor(d5 / 16.0D) * 16);
-        this.displayListEntitiesDirty = this.displayListEntitiesDirty || !this.chunksToUpdate.isEmpty() || viewEntity.posX != this.lastViewEntityX || viewEntity.posY != this.lastViewEntityY || viewEntity.posZ != this.lastViewEntityZ || (double)viewEntity.rotationPitch != this.lastViewEntityPitch || (double)viewEntity.rotationYaw != this.lastViewEntityYaw;
+        this.displayListEntitiesDirty = this.displayListEntitiesDirty || !this.chunksToUpdate.isEmpty() || viewEntity.posX != this.lastViewEntityX || viewEntity.posY != this.lastViewEntityY || viewEntity.posZ != this.lastViewEntityZ || viewEntity.rotationPitch != this.lastViewEntityPitch || viewEntity.rotationYaw != this.lastViewEntityYaw;
         this.lastViewEntityX = viewEntity.posX;
         this.lastViewEntityY = viewEntity.posY;
         this.lastViewEntityZ = viewEntity.posZ;
-        this.lastViewEntityPitch = (double)viewEntity.rotationPitch;
-        this.lastViewEntityYaw = (double)viewEntity.rotationYaw;
+        this.lastViewEntityPitch = viewEntity.rotationPitch;
+        this.lastViewEntityYaw = viewEntity.rotationYaw;
         boolean flag = this.debugFixedClippingHelper != null;
         this.mc.mcProfiler.endStartSection("update");
 
@@ -884,7 +889,7 @@
             this.displayListEntitiesDirty = false;
             this.renderInfos = Lists.<RenderGlobal.ContainerLocalRenderInformation>newArrayList();
             Queue<RenderGlobal.ContainerLocalRenderInformation> queue = Queues.<RenderGlobal.ContainerLocalRenderInformation>newArrayDeque();
-            Entity.setRenderDistanceWeight(MathHelper.clamp((double)this.mc.gameSettings.renderDistanceChunks / 8.0D, 1.0D, 2.5D));
+            Entity.setRenderDistanceWeight(MathHelper.clamp(this.mc.gameSettings.renderDistanceChunks / 8.0D, 1.0D, 2.5D));
             boolean flag1 = this.mc.renderChunksMany;
 
             if (renderchunk != null)
@@ -1079,8 +1084,8 @@
 
     protected Vector3f getViewVector(Entity entityIn, double partialTicks)
     {
-        float f = (float)((double)entityIn.prevRotationPitch + (double)(entityIn.rotationPitch - entityIn.prevRotationPitch) * partialTicks);
-        float f1 = (float)((double)entityIn.prevRotationYaw + (double)(entityIn.rotationYaw - entityIn.prevRotationYaw) * partialTicks);
+        float f = (float)(entityIn.prevRotationPitch + (entityIn.rotationPitch - entityIn.prevRotationPitch) * partialTicks);
+        float f1 = (float)(entityIn.prevRotationYaw + (entityIn.rotationYaw - entityIn.prevRotationYaw) * partialTicks);
 
         if (Minecraft.getMinecraft().gameSettings.thirdPersonView == 2)
         {
@@ -1369,10 +1374,10 @@
 
                 for (int l = 0; l <= 16; ++l)
                 {
-                    float f21 = (float)l * ((float)Math.PI * 2F) / 16.0F;
+                    float f21 = l * ((float)Math.PI * 2F) / 16.0F;
                     float f12 = MathHelper.sin(f21);
                     float f13 = MathHelper.cos(f21);
-                    bufferbuilder.pos((double)(f12 * 120.0F), (double)(f13 * 120.0F), (double)(-f13 * 40.0F * afloat[3])).color(afloat[0], afloat[1], afloat[2], 0.0F).endVertex();
+                    bufferbuilder.pos(f12 * 120.0F, f13 * 120.0F, -f13 * 40.0F * afloat[3]).color(afloat[0], afloat[1], afloat[2], 0.0F).endVertex();
                 }
 
                 tessellator.draw();
@@ -1390,25 +1395,25 @@
             float f17 = 30.0F;
             this.renderEngine.bindTexture(SUN_TEXTURES);
             bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
-            bufferbuilder.pos((double)(-f17), 100.0D, (double)(-f17)).tex(0.0D, 0.0D).endVertex();
-            bufferbuilder.pos((double)f17, 100.0D, (double)(-f17)).tex(1.0D, 0.0D).endVertex();
-            bufferbuilder.pos((double)f17, 100.0D, (double)f17).tex(1.0D, 1.0D).endVertex();
-            bufferbuilder.pos((double)(-f17), 100.0D, (double)f17).tex(0.0D, 1.0D).endVertex();
+            bufferbuilder.pos((-f17), 100.0D, (-f17)).tex(0.0D, 0.0D).endVertex();
+            bufferbuilder.pos(f17, 100.0D, (-f17)).tex(1.0D, 0.0D).endVertex();
+            bufferbuilder.pos(f17, 100.0D, f17).tex(1.0D, 1.0D).endVertex();
+            bufferbuilder.pos((-f17), 100.0D, f17).tex(0.0D, 1.0D).endVertex();
             tessellator.draw();
             f17 = 20.0F;
             this.renderEngine.bindTexture(MOON_PHASES_TEXTURES);
             int i = this.theWorld.getMoonPhase();
             int k = i % 4;
             int i1 = i / 4 % 2;
-            float f22 = (float)(k + 0) / 4.0F;
-            float f23 = (float)(i1 + 0) / 2.0F;
-            float f24 = (float)(k + 1) / 4.0F;
-            float f14 = (float)(i1 + 1) / 2.0F;
+            float f22 = (k + 0) / 4.0F;
+            float f23 = (i1 + 0) / 2.0F;
+            float f24 = (k + 1) / 4.0F;
+            float f14 = (i1 + 1) / 2.0F;
             bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
-            bufferbuilder.pos((double)(-f17), -100.0D, (double)f17).tex((double)f24, (double)f14).endVertex();
-            bufferbuilder.pos((double)f17, -100.0D, (double)f17).tex((double)f22, (double)f14).endVertex();
-            bufferbuilder.pos((double)f17, -100.0D, (double)(-f17)).tex((double)f22, (double)f23).endVertex();
-            bufferbuilder.pos((double)(-f17), -100.0D, (double)(-f17)).tex((double)f24, (double)f23).endVertex();
+            bufferbuilder.pos((-f17), -100.0D, f17).tex(f24, f14).endVertex();
+            bufferbuilder.pos(f17, -100.0D, f17).tex(f22, f14).endVertex();
+            bufferbuilder.pos(f17, -100.0D, (-f17)).tex(f22, f23).endVertex();
+            bufferbuilder.pos((-f17), -100.0D, (-f17)).tex(f24, f23).endVertex();
             tessellator.draw();
             GlStateManager.disableTexture2D();
             float f15 = this.theWorld.getStarBrightness(partialTicks) * f16;
@@ -1465,20 +1470,20 @@
                 float f19 = -((float)(d0 + 65.0D));
                 float f20 = -1.0F;
                 bufferbuilder.begin(7, DefaultVertexFormats.POSITION_COLOR);
-                bufferbuilder.pos(-1.0D, (double)f19, 1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(1.0D, (double)f19, 1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(-1.0D, f19, 1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(1.0D, f19, 1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(1.0D, -1.0D, 1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(-1.0D, -1.0D, 1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(-1.0D, -1.0D, -1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(1.0D, -1.0D, -1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(1.0D, (double)f19, -1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(-1.0D, (double)f19, -1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(1.0D, f19, -1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(-1.0D, f19, -1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(1.0D, -1.0D, -1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(1.0D, -1.0D, 1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(1.0D, (double)f19, 1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(1.0D, (double)f19, -1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(-1.0D, (double)f19, -1.0D).color(0, 0, 0, 255).endVertex();
-                bufferbuilder.pos(-1.0D, (double)f19, 1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(1.0D, f19, 1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(1.0D, f19, -1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(-1.0D, f19, -1.0D).color(0, 0, 0, 255).endVertex();
+                bufferbuilder.pos(-1.0D, f19, 1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(-1.0D, -1.0D, 1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(-1.0D, -1.0D, -1.0D).color(0, 0, 0, 255).endVertex();
                 bufferbuilder.pos(-1.0D, -1.0D, -1.0D).color(0, 0, 0, 255).endVertex();
@@ -1540,12 +1545,12 @@
                 }
 
                 float f9 = 4.8828125E-4F;
-                double d2 = (double)((float)this.cloudTickCounter + partialTicks);
+                double d2 = this.cloudTickCounter + partialTicks;
                 double d0 = p_180447_3_ + d2 * 0.029999999329447746D;
                 int k = MathHelper.floor(d0 / 2048.0D);
                 int l = MathHelper.floor(p_180447_7_ / 2048.0D);
-                d0 = d0 - (double)(k * 2048);
-                double lvt_22_1_ = p_180447_7_ - (double)(l * 2048);
+                d0 = d0 - k * 2048;
+                double lvt_22_1_ = p_180447_7_ - l * 2048;
                 float f6 = this.theWorld.provider.getCloudHeight() - (float)p_180447_5_ + 0.33F;
                 float f7 = (float)(d0 * 4.8828125E-4D);
                 float f8 = (float)(lvt_22_1_ * 4.8828125E-4D);
@@ -1555,10 +1560,10 @@
                 {
                     for (int j1 = -256; j1 < 256; j1 += 32)
                     {
-                        bufferbuilder.pos((double)(i1 + 0), (double)f6, (double)(j1 + 32)).tex((double)((float)(i1 + 0) * 4.8828125E-4F + f7), (double)((float)(j1 + 32) * 4.8828125E-4F + f8)).color(f, f1, f2, 0.8F).endVertex();
-                        bufferbuilder.pos((double)(i1 + 32), (double)f6, (double)(j1 + 32)).tex((double)((float)(i1 + 32) * 4.8828125E-4F + f7), (double)((float)(j1 + 32) * 4.8828125E-4F + f8)).color(f, f1, f2, 0.8F).endVertex();
-                        bufferbuilder.pos((double)(i1 + 32), (double)f6, (double)(j1 + 0)).tex((double)((float)(i1 + 32) * 4.8828125E-4F + f7), (double)((float)(j1 + 0) * 4.8828125E-4F + f8)).color(f, f1, f2, 0.8F).endVertex();
-                        bufferbuilder.pos((double)(i1 + 0), (double)f6, (double)(j1 + 0)).tex((double)((float)(i1 + 0) * 4.8828125E-4F + f7), (double)((float)(j1 + 0) * 4.8828125E-4F + f8)).color(f, f1, f2, 0.8F).endVertex();
+                        bufferbuilder.pos(i1 + 0, f6, j1 + 32).tex((i1 + 0) * 4.8828125E-4F + f7, (j1 + 32) * 4.8828125E-4F + f8).color(f, f1, f2, 0.8F).endVertex();
+                        bufferbuilder.pos(i1 + 32, f6, j1 + 32).tex((i1 + 32) * 4.8828125E-4F + f7, (j1 + 32) * 4.8828125E-4F + f8).color(f, f1, f2, 0.8F).endVertex();
+                        bufferbuilder.pos(i1 + 32, f6, j1 + 0).tex((i1 + 32) * 4.8828125E-4F + f7, (j1 + 0) * 4.8828125E-4F + f8).color(f, f1, f2, 0.8F).endVertex();
+                        bufferbuilder.pos(i1 + 0, f6, j1 + 0).tex((i1 + 0) * 4.8828125E-4F + f7, (j1 + 0) * 4.8828125E-4F + f8).color(f, f1, f2, 0.8F).endVertex();
                     }
                 }
 
@@ -1585,14 +1590,14 @@
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         float f = 12.0F;
         float f1 = 4.0F;
-        double d0 = (double)((float)this.cloudTickCounter + partialTicks);
+        double d0 = this.cloudTickCounter + partialTicks;
         double d1 = (p_180445_3_ + d0 * 0.029999999329447746D) / 12.0D;
         double d2 = p_180445_7_ / 12.0D + 0.33000001311302185D;
         float f2 = this.theWorld.provider.getCloudHeight() - (float)p_180445_5_ + 0.33F;
         int i = MathHelper.floor(d1 / 2048.0D);
         int j = MathHelper.floor(d2 / 2048.0D);
-        d1 = d1 - (double)(i * 2048);
-        d2 = d2 - (double)(j * 2048);
+        d1 = d1 - i * 2048;
+        d2 = d2 - j * 2048;
         this.renderEngine.bindTexture(CLOUDS_TEXTURES);
         GlStateManager.enableBlend();
         GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE_MINUS_SRC_ALPHA, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
@@ -1621,10 +1626,10 @@
         float f13 = f4 * 0.8F;
         float f14 = f5 * 0.8F;
         float f15 = 0.00390625F;
-        float f16 = (float)MathHelper.floor(d1) * 0.00390625F;
-        float f17 = (float)MathHelper.floor(d2) * 0.00390625F;
-        float f18 = (float)(d1 - (double)MathHelper.floor(d1));
-        float f19 = (float)(d2 - (double)MathHelper.floor(d2));
+        float f16 = MathHelper.floor(d1) * 0.00390625F;
+        float f17 = MathHelper.floor(d2) * 0.00390625F;
+        float f18 = (float)(d1 - MathHelper.floor(d1));
+        float f19 = (float)(d2 - MathHelper.floor(d2));
         int k = 8;
         int l = 4;
         float f20 = 9.765625E-4F;
@@ -1658,35 +1663,35 @@
                 for (int k1 = -3; k1 <= 4; ++k1)
                 {
                     bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX_COLOR_NORMAL);
-                    float f21 = (float)(j1 * 8);
-                    float f22 = (float)(k1 * 8);
+                    float f21 = j1 * 8;
+                    float f22 = k1 * 8;
                     float f23 = f21 - f18;
                     float f24 = f22 - f19;
 
                     if (f2 > -5.0F)
                     {
-                        bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + 8.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 0.0F), (double)(f24 + 8.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 0.0F), (double)(f24 + 0.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + 0.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 0.0F, f2 + 0.0F, f24 + 8.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 8.0F, f2 + 0.0F, f24 + 8.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 8.0F, f2 + 0.0F, f24 + 0.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 0.0F, f2 + 0.0F, f24 + 0.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f9, f10, f11, 0.8F).normal(0.0F, -1.0F, 0.0F).endVertex();
                     }
 
                     if (f2 <= 5.0F)
                     {
-                        bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 4.0F - 9.765625E-4F), (double)(f24 + 8.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 4.0F - 9.765625E-4F), (double)(f24 + 8.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 4.0F - 9.765625E-4F), (double)(f24 + 0.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
-                        bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 4.0F - 9.765625E-4F), (double)(f24 + 0.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 0.0F, f2 + 4.0F - 9.765625E-4F, f24 + 8.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 8.0F, f2 + 4.0F - 9.765625E-4F, f24 + 8.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 8.0F, f2 + 4.0F - 9.765625E-4F, f24 + 0.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
+                        bufferbuilder.pos(f23 + 0.0F, f2 + 4.0F - 9.765625E-4F, f24 + 0.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f3, f4, f5, 0.8F).normal(0.0F, 1.0F, 0.0F).endVertex();
                     }
 
                     if (j1 > -1)
                     {
                         for (int l1 = 0; l1 < 8; ++l1)
                         {
-                            bufferbuilder.pos((double)(f23 + (float)l1 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + 8.0F)).tex((double)((f21 + (float)l1 + 0.5F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)l1 + 0.0F), (double)(f2 + 4.0F), (double)(f24 + 8.0F)).tex((double)((f21 + (float)l1 + 0.5F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)l1 + 0.0F), (double)(f2 + 4.0F), (double)(f24 + 0.0F)).tex((double)((f21 + (float)l1 + 0.5F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)l1 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + 0.0F)).tex((double)((f21 + (float)l1 + 0.5F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + l1 + 0.0F, f2 + 0.0F, f24 + 8.0F).tex((f21 + l1 + 0.5F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + l1 + 0.0F, f2 + 4.0F, f24 + 8.0F).tex((f21 + l1 + 0.5F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + l1 + 0.0F, f2 + 4.0F, f24 + 0.0F).tex((f21 + l1 + 0.5F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + l1 + 0.0F, f2 + 0.0F, f24 + 0.0F).tex((f21 + l1 + 0.5F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(-1.0F, 0.0F, 0.0F).endVertex();
                         }
                     }
 
@@ -1694,10 +1699,10 @@
                     {
                         for (int i2 = 0; i2 < 8; ++i2)
                         {
-                            bufferbuilder.pos((double)(f23 + (float)i2 + 1.0F - 9.765625E-4F), (double)(f2 + 0.0F), (double)(f24 + 8.0F)).tex((double)((f21 + (float)i2 + 0.5F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)i2 + 1.0F - 9.765625E-4F), (double)(f2 + 4.0F), (double)(f24 + 8.0F)).tex((double)((f21 + (float)i2 + 0.5F) * 0.00390625F + f16), (double)((f22 + 8.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)i2 + 1.0F - 9.765625E-4F), (double)(f2 + 4.0F), (double)(f24 + 0.0F)).tex((double)((f21 + (float)i2 + 0.5F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + (float)i2 + 1.0F - 9.765625E-4F), (double)(f2 + 0.0F), (double)(f24 + 0.0F)).tex((double)((f21 + (float)i2 + 0.5F) * 0.00390625F + f16), (double)((f22 + 0.0F) * 0.00390625F + f17)).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + i2 + 1.0F - 9.765625E-4F, f2 + 0.0F, f24 + 8.0F).tex((f21 + i2 + 0.5F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + i2 + 1.0F - 9.765625E-4F, f2 + 4.0F, f24 + 8.0F).tex((f21 + i2 + 0.5F) * 0.00390625F + f16, (f22 + 8.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + i2 + 1.0F - 9.765625E-4F, f2 + 4.0F, f24 + 0.0F).tex((f21 + i2 + 0.5F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
+                            bufferbuilder.pos(f23 + i2 + 1.0F - 9.765625E-4F, f2 + 0.0F, f24 + 0.0F).tex((f21 + i2 + 0.5F) * 0.00390625F + f16, (f22 + 0.0F) * 0.00390625F + f17).color(f25, f26, f27, 0.8F).normal(1.0F, 0.0F, 0.0F).endVertex();
                         }
                     }
 
@@ -1705,10 +1710,10 @@
                     {
                         for (int j2 = 0; j2 < 8; ++j2)
                         {
-                            bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 4.0F), (double)(f24 + (float)j2 + 0.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + (float)j2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 4.0F), (double)(f24 + (float)j2 + 0.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + (float)j2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 0.0F), (double)(f24 + (float)j2 + 0.0F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + (float)j2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + (float)j2 + 0.0F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + (float)j2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 0.0F, f2 + 4.0F, f24 + j2 + 0.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + j2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 8.0F, f2 + 4.0F, f24 + j2 + 0.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + j2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 8.0F, f2 + 0.0F, f24 + j2 + 0.0F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + j2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 0.0F, f2 + 0.0F, f24 + j2 + 0.0F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + j2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, -1.0F).endVertex();
                         }
                     }
 
@@ -1716,10 +1721,10 @@
                     {
                         for (int k2 = 0; k2 < 8; ++k2)
                         {
-                            bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 4.0F), (double)(f24 + (float)k2 + 1.0F - 9.765625E-4F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + (float)k2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 4.0F), (double)(f24 + (float)k2 + 1.0F - 9.765625E-4F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + (float)k2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 8.0F), (double)(f2 + 0.0F), (double)(f24 + (float)k2 + 1.0F - 9.765625E-4F)).tex((double)((f21 + 8.0F) * 0.00390625F + f16), (double)((f22 + (float)k2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
-                            bufferbuilder.pos((double)(f23 + 0.0F), (double)(f2 + 0.0F), (double)(f24 + (float)k2 + 1.0F - 9.765625E-4F)).tex((double)((f21 + 0.0F) * 0.00390625F + f16), (double)((f22 + (float)k2 + 0.5F) * 0.00390625F + f17)).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 0.0F, f2 + 4.0F, f24 + k2 + 1.0F - 9.765625E-4F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + k2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 8.0F, f2 + 4.0F, f24 + k2 + 1.0F - 9.765625E-4F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + k2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 8.0F, f2 + 0.0F, f24 + k2 + 1.0F - 9.765625E-4F).tex((f21 + 8.0F) * 0.00390625F + f16, (f22 + k2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
+                            bufferbuilder.pos(f23 + 0.0F, f2 + 0.0F, f24 + k2 + 1.0F - 9.765625E-4F).tex((f21 + 0.0F) * 0.00390625F + f16, (f22 + k2 + 0.5F) * 0.00390625F + f17).color(f12, f13, f14, 0.8F).normal(0.0F, 0.0F, 1.0F).endVertex();
                         }
                     }
 
@@ -1777,38 +1782,38 @@
         Tessellator tessellator = Tessellator.getInstance();
         BufferBuilder bufferbuilder = tessellator.getBuffer();
         WorldBorder worldborder = this.theWorld.getWorldBorder();
-        double d0 = (double)(this.mc.gameSettings.renderDistanceChunks * 16);
+        double d0 = this.mc.gameSettings.renderDistanceChunks * 16;
 
         if (entityIn.posX >= worldborder.maxX() - d0 || entityIn.posX <= worldborder.minX() + d0 || entityIn.posZ >= worldborder.maxZ() - d0 || entityIn.posZ <= worldborder.minZ() + d0)
         {
             double d1 = 1.0D - worldborder.getClosestDistance(entityIn) / d0;
             d1 = Math.pow(d1, 4.0D);
-            double d2 = entityIn.lastTickPosX + (entityIn.posX - entityIn.lastTickPosX) * (double)partialTicks;
-            double d3 = entityIn.lastTickPosY + (entityIn.posY - entityIn.lastTickPosY) * (double)partialTicks;
-            double d4 = entityIn.lastTickPosZ + (entityIn.posZ - entityIn.lastTickPosZ) * (double)partialTicks;
+            double d2 = entityIn.lastTickPosX + (entityIn.posX - entityIn.lastTickPosX) * partialTicks;
+            double d3 = entityIn.lastTickPosY + (entityIn.posY - entityIn.lastTickPosY) * partialTicks;
+            double d4 = entityIn.lastTickPosZ + (entityIn.posZ - entityIn.lastTickPosZ) * partialTicks;
             GlStateManager.enableBlend();
             GlStateManager.tryBlendFuncSeparate(GlStateManager.SourceFactor.SRC_ALPHA, GlStateManager.DestFactor.ONE, GlStateManager.SourceFactor.ONE, GlStateManager.DestFactor.ZERO);
             this.renderEngine.bindTexture(FORCEFIELD_TEXTURES);
             GlStateManager.depthMask(false);
             GlStateManager.pushMatrix();
             int i = worldborder.getStatus().getID();
-            float f = (float)(i >> 16 & 255) / 255.0F;
-            float f1 = (float)(i >> 8 & 255) / 255.0F;
-            float f2 = (float)(i & 255) / 255.0F;
+            float f = (i >> 16 & 255) / 255.0F;
+            float f1 = (i >> 8 & 255) / 255.0F;
+            float f2 = (i & 255) / 255.0F;
             GlStateManager.color(f, f1, f2, (float)d1);
             GlStateManager.doPolygonOffset(-3.0F, -3.0F);
             GlStateManager.enablePolygonOffset();
             GlStateManager.alphaFunc(516, 0.1F);
             GlStateManager.enableAlpha();
             GlStateManager.disableCull();
-            float f3 = (float)(Minecraft.getSystemTime() % 3000L) / 3000.0F;
+            float f3 = Minecraft.getSystemTime() % 3000L / 3000.0F;
             float f4 = 0.0F;
             float f5 = 0.0F;
             float f6 = 128.0F;
             bufferbuilder.begin(7, DefaultVertexFormats.POSITION_TEX);
             bufferbuilder.setTranslation(-d2, -d3, -d4);
-            double d5 = Math.max((double)MathHelper.floor(d4 - d0), worldborder.minZ());
-            double d6 = Math.min((double)MathHelper.ceil(d4 + d0), worldborder.maxZ());
+            double d5 = Math.max(MathHelper.floor(d4 - d0), worldborder.minZ());
+            double d6 = Math.min(MathHelper.ceil(d4 + d0), worldborder.maxZ());
 
             if (d2 > worldborder.maxX() - d0)
             {
@@ -1818,10 +1823,10 @@
                 {
                     double d8 = Math.min(1.0D, d6 - d7);
                     float f8 = (float)d8 * 0.5F;
-                    bufferbuilder.pos(worldborder.maxX(), 256.0D, d7).tex((double)(f3 + f7), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.maxX(), 256.0D, d7 + d8).tex((double)(f3 + f8 + f7), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.maxX(), 0.0D, d7 + d8).tex((double)(f3 + f8 + f7), (double)(f3 + 128.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.maxX(), 0.0D, d7).tex((double)(f3 + f7), (double)(f3 + 128.0F)).endVertex();
+                    bufferbuilder.pos(worldborder.maxX(), 256.0D, d7).tex(f3 + f7, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(worldborder.maxX(), 256.0D, d7 + d8).tex(f3 + f8 + f7, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(worldborder.maxX(), 0.0D, d7 + d8).tex(f3 + f8 + f7, f3 + 128.0F).endVertex();
+                    bufferbuilder.pos(worldborder.maxX(), 0.0D, d7).tex(f3 + f7, f3 + 128.0F).endVertex();
                     ++d7;
                 }
             }
@@ -1834,16 +1839,16 @@
                 {
                     double d12 = Math.min(1.0D, d6 - d9);
                     float f12 = (float)d12 * 0.5F;
-                    bufferbuilder.pos(worldborder.minX(), 256.0D, d9).tex((double)(f3 + f9), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.minX(), 256.0D, d9 + d12).tex((double)(f3 + f12 + f9), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.minX(), 0.0D, d9 + d12).tex((double)(f3 + f12 + f9), (double)(f3 + 128.0F)).endVertex();
-                    bufferbuilder.pos(worldborder.minX(), 0.0D, d9).tex((double)(f3 + f9), (double)(f3 + 128.0F)).endVertex();
+                    bufferbuilder.pos(worldborder.minX(), 256.0D, d9).tex(f3 + f9, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(worldborder.minX(), 256.0D, d9 + d12).tex(f3 + f12 + f9, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(worldborder.minX(), 0.0D, d9 + d12).tex(f3 + f12 + f9, f3 + 128.0F).endVertex();
+                    bufferbuilder.pos(worldborder.minX(), 0.0D, d9).tex(f3 + f9, f3 + 128.0F).endVertex();
                     ++d9;
                 }
             }
 
-            d5 = Math.max((double)MathHelper.floor(d2 - d0), worldborder.minX());
-            d6 = Math.min((double)MathHelper.ceil(d2 + d0), worldborder.maxX());
+            d5 = Math.max(MathHelper.floor(d2 - d0), worldborder.minX());
+            d6 = Math.min(MathHelper.ceil(d2 + d0), worldborder.maxX());
 
             if (d4 > worldborder.maxZ() - d0)
             {
@@ -1853,10 +1858,10 @@
                 {
                     double d13 = Math.min(1.0D, d6 - d10);
                     float f13 = (float)d13 * 0.5F;
-                    bufferbuilder.pos(d10, 256.0D, worldborder.maxZ()).tex((double)(f3 + f10), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(d10 + d13, 256.0D, worldborder.maxZ()).tex((double)(f3 + f13 + f10), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(d10 + d13, 0.0D, worldborder.maxZ()).tex((double)(f3 + f13 + f10), (double)(f3 + 128.0F)).endVertex();
-                    bufferbuilder.pos(d10, 0.0D, worldborder.maxZ()).tex((double)(f3 + f10), (double)(f3 + 128.0F)).endVertex();
+                    bufferbuilder.pos(d10, 256.0D, worldborder.maxZ()).tex(f3 + f10, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(d10 + d13, 256.0D, worldborder.maxZ()).tex(f3 + f13 + f10, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(d10 + d13, 0.0D, worldborder.maxZ()).tex(f3 + f13 + f10, f3 + 128.0F).endVertex();
+                    bufferbuilder.pos(d10, 0.0D, worldborder.maxZ()).tex(f3 + f10, f3 + 128.0F).endVertex();
                     ++d10;
                 }
             }
@@ -1869,10 +1874,10 @@
                 {
                     double d14 = Math.min(1.0D, d6 - d11);
                     float f14 = (float)d14 * 0.5F;
-                    bufferbuilder.pos(d11, 256.0D, worldborder.minZ()).tex((double)(f3 + f11), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(d11 + d14, 256.0D, worldborder.minZ()).tex((double)(f3 + f14 + f11), (double)(f3 + 0.0F)).endVertex();
-                    bufferbuilder.pos(d11 + d14, 0.0D, worldborder.minZ()).tex((double)(f3 + f14 + f11), (double)(f3 + 128.0F)).endVertex();
-                    bufferbuilder.pos(d11, 0.0D, worldborder.minZ()).tex((double)(f3 + f11), (double)(f3 + 128.0F)).endVertex();
+                    bufferbuilder.pos(d11, 256.0D, worldborder.minZ()).tex(f3 + f11, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(d11 + d14, 256.0D, worldborder.minZ()).tex(f3 + f14 + f11, f3 + 0.0F).endVertex();
+                    bufferbuilder.pos(d11 + d14, 0.0D, worldborder.minZ()).tex(f3 + f14 + f11, f3 + 128.0F).endVertex();
+                    bufferbuilder.pos(d11, 0.0D, worldborder.minZ()).tex(f3 + f11, f3 + 128.0F).endVertex();
                     ++d11;
                 }
             }
@@ -1914,9 +1919,9 @@
 
     public void drawBlockDamageTexture(Tessellator tessellatorIn, BufferBuilder worldRendererIn, Entity entityIn, float partialTicks)
     {
-        double d0 = entityIn.lastTickPosX + (entityIn.posX - entityIn.lastTickPosX) * (double)partialTicks;
-        double d1 = entityIn.lastTickPosY + (entityIn.posY - entityIn.lastTickPosY) * (double)partialTicks;
-        double d2 = entityIn.lastTickPosZ + (entityIn.posZ - entityIn.lastTickPosZ) * (double)partialTicks;
+        double d0 = entityIn.lastTickPosX + (entityIn.posX - entityIn.lastTickPosX) * partialTicks;
+        double d1 = entityIn.lastTickPosY + (entityIn.posY - entityIn.lastTickPosY) * partialTicks;
+        double d2 = entityIn.lastTickPosZ + (entityIn.posZ - entityIn.lastTickPosZ) * partialTicks;
 
         if (!this.damagedBlocks.isEmpty())
         {
@@ -1931,9 +1936,9 @@
             {
                 DestroyBlockProgress destroyblockprogress = iterator.next();
                 BlockPos blockpos = destroyblockprogress.getPosition();
-                double d3 = (double)blockpos.getX() - d0;
-                double d4 = (double)blockpos.getY() - d1;
-                double d5 = (double)blockpos.getZ() - d2;
+                double d3 = blockpos.getX() - d0;
+                double d4 = blockpos.getY() - d1;
+                double d5 = blockpos.getZ() - d2;
                 Block block = this.theWorld.getBlockState(blockpos).getBlock();
 
                 if (!(block instanceof BlockChest) && !(block instanceof BlockEnderChest) && !(block instanceof BlockSign) && !(block instanceof BlockSkull))
@@ -1980,9 +1985,9 @@
 
             if (iblockstate.getMaterial() != Material.AIR && this.theWorld.getWorldBorder().contains(blockpos))
             {
-                double d0 = player.lastTickPosX + (player.posX - player.lastTickPosX) * (double)partialTicks;
-                double d1 = player.lastTickPosY + (player.posY - player.lastTickPosY) * (double)partialTicks;
-                double d2 = player.lastTickPosZ + (player.posZ - player.lastTickPosZ) * (double)partialTicks;
+                double d0 = player.lastTickPosX + (player.posX - player.lastTickPosX) * partialTicks;
+                double d1 = player.lastTickPosY + (player.posY - player.lastTickPosY) * partialTicks;
+                double d2 = player.lastTickPosZ + (player.posZ - player.lastTickPosZ) * partialTicks;
                 drawSelectionBoundingBox(iblockstate.getSelectedBoundingBox(this.theWorld, blockpos).expandXyz(0.0020000000949949026D).offset(-d0, -d1, -d2), 0.0F, 0.0F, 0.0F, 0.4F);
             }
 
@@ -2081,7 +2086,8 @@
         this.viewFrustum.markBlocksForUpdate(p_184385_1_, p_184385_2_, p_184385_3_, p_184385_4_, p_184385_5_, p_184385_6_, p_184385_7_);
     }
 
-    public void notifyBlockUpdate(World worldIn, BlockPos pos, IBlockState oldState, IBlockState newState, int flags)
+    @Override
+	public void notifyBlockUpdate(World worldIn, BlockPos pos, IBlockState oldState, IBlockState newState, int flags)
     {
         int i = pos.getX();
         int j = pos.getY();
@@ -2089,7 +2095,8 @@
         this.markBlocksForUpdate(i - 1, j - 1, k - 1, i + 1, j + 1, k + 1, (flags & 8) != 0);
     }
 
-    public void notifyLightSet(BlockPos pos)
+    @Override
+	public void notifyLightSet(BlockPos pos)
     {
         this.setLightUpdates.add(pos.toImmutable());
     }
@@ -2097,12 +2104,14 @@
     /**
      * On the client, re-renders all blocks in this range, inclusive. On the server, does nothing.
      */
-    public void markBlockRangeForRenderUpdate(int x1, int y1, int z1, int x2, int y2, int z2)
+    @Override
+	public void markBlockRangeForRenderUpdate(int x1, int y1, int z1, int x2, int y2, int z2)
     {
         this.markBlocksForUpdate(x1 - 1, y1 - 1, z1 - 1, x2 + 1, y2 + 1, z2 + 1, false);
     }
 
-    public void playRecord(@Nullable SoundEvent soundIn, BlockPos pos)
+    @Override
+	public void playRecord(@Nullable SoundEvent soundIn, BlockPos pos)
     {
         ISound isound = this.mapSoundPositions.get(pos);
 
@@ -2121,7 +2130,7 @@
                 this.mc.ingameGUI.setRecordPlayingMessage(itemrecord.getRecordNameLocal());
             }
 
-            ISound positionedsoundrecord = PositionedSoundRecord.getRecordSoundRecord(soundIn, (float)pos.getX(), (float)pos.getY(), (float)pos.getZ());
+            ISound positionedsoundrecord = PositionedSoundRecord.getRecordSoundRecord(soundIn, pos.getX(), pos.getY(), pos.getZ());
             this.mapSoundPositions.put(pos, positionedsoundrecord);
             this.mc.getSoundHandler().playSound(positionedsoundrecord);
         }
@@ -2137,16 +2146,19 @@
         }
     }
 
-    public void playSoundToAllNearExcept(@Nullable EntityPlayer player, SoundEvent soundIn, SoundCategory category, double x, double y, double z, float volume, float pitch)
+    @Override
+	public void playSoundToAllNearExcept(@Nullable EntityPlayer player, SoundEvent soundIn, SoundCategory category, double x, double y, double z, float volume, float pitch)
     {
     }
 
-    public void spawnParticle(int particleID, boolean ignoreRange, double xCoord, double yCoord, double zCoord, double xSpeed, double ySpeed, double zSpeed, int... parameters)
+    @Override
+	public void spawnParticle(int particleID, boolean ignoreRange, double xCoord, double yCoord, double zCoord, double xSpeed, double ySpeed, double zSpeed, int... parameters)
     {
         this.func_190570_a(particleID, ignoreRange, false, xCoord, yCoord, zCoord, xSpeed, ySpeed, zSpeed, parameters);
     }
 
-    public void func_190570_a(int p_190570_1_, boolean p_190570_2_, boolean p_190570_3_, final double p_190570_4_, final double p_190570_6_, final double p_190570_8_, double p_190570_10_, double p_190570_12_, double p_190570_14_, int... p_190570_16_)
+    @Override
+	public void func_190570_a(int p_190570_1_, boolean p_190570_2_, boolean p_190570_3_, final double p_190570_4_, final double p_190570_6_, final double p_190570_8_, double p_190570_10_, double p_190570_12_, double p_190570_14_, int... p_190570_16_)
     {
         try
         {
@@ -2165,7 +2177,8 @@
 
             crashreportcategory.setDetail("Position", new ICrashReportDetail<String>()
             {
-                public String call() throws Exception
+                @Override
+				public String call() throws Exception
                 {
                     return CrashReportCategory.getCoordinateInfo(p_190570_4_, p_190570_6_, p_190570_8_);
                 }
@@ -2237,7 +2250,8 @@
      * Called on all IWorldAccesses when an entity is created or loaded. On client worlds, starts downloading any
      * necessary textures. On server worlds, adds the entity to the entity tracker.
      */
-    public void onEntityAdded(Entity entityIn)
+    @Override
+	public void onEntityAdded(Entity entityIn)
     {
     }
 
@@ -2245,7 +2259,8 @@
      * Called on all IWorldAccesses when an entity is unloaded or destroyed. On client worlds, releases any downloaded
      * textures. On server worlds, removes the entity from the entity tracker.
      */
-    public void onEntityRemoved(Entity entityIn)
+    @Override
+	public void onEntityRemoved(Entity entityIn)
     {
     }
 
@@ -2256,7 +2271,8 @@
     {
     }
 
-    public void broadcastSound(int soundID, BlockPos pos, int data)
+    @Override
+	public void broadcastSound(int soundID, BlockPos pos, int data)
     {
         switch (soundID)
         {
@@ -2267,9 +2283,9 @@
 
                 if (entity != null)
                 {
-                    double d0 = (double)pos.getX() - entity.posX;
-                    double d1 = (double)pos.getY() - entity.posY;
-                    double d2 = (double)pos.getZ() - entity.posZ;
+                    double d0 = pos.getX() - entity.posX;
+                    double d1 = pos.getY() - entity.posY;
+                    double d2 = pos.getZ() - entity.posZ;
                     double d3 = Math.sqrt(d0 * d0 + d1 * d1 + d2 * d2);
                     double d4 = entity.posX;
                     double d5 = entity.posY;
@@ -2300,7 +2316,8 @@
         }
     }
 
-    public void playEvent(EntityPlayer player, int type, BlockPos blockPosIn, int data)
+    @Override
+	public void playEvent(EntityPlayer player, int type, BlockPos blockPosIn, int data)
     {
         Random random = this.theWorld.rand;
 
@@ -2461,19 +2478,19 @@
             case 2000:
                 int l = data % 3 - 1;
                 int i = data / 3 % 3 - 1;
-                double d8 = (double)blockPosIn.getX() + (double)l * 0.6D + 0.5D;
-                double d10 = (double)blockPosIn.getY() + 0.5D;
-                double d12 = (double)blockPosIn.getZ() + (double)i * 0.6D + 0.5D;
+                double d8 = blockPosIn.getX() + l * 0.6D + 0.5D;
+                double d10 = blockPosIn.getY() + 0.5D;
+                double d12 = blockPosIn.getZ() + i * 0.6D + 0.5D;
 
                 for (int j1 = 0; j1 < 10; ++j1)
                 {
                     double d13 = random.nextDouble() * 0.2D + 0.01D;
-                    double d16 = d8 + (double)l * 0.01D + (random.nextDouble() - 0.5D) * (double)i * 0.5D;
+                    double d16 = d8 + l * 0.01D + (random.nextDouble() - 0.5D) * i * 0.5D;
                     double d19 = d10 + (random.nextDouble() - 0.5D) * 0.5D;
-                    double d22 = d12 + (double)i * 0.01D + (random.nextDouble() - 0.5D) * (double)l * 0.5D;
-                    double d24 = (double)l * d13 + random.nextGaussian() * 0.01D;
+                    double d22 = d12 + i * 0.01D + (random.nextDouble() - 0.5D) * l * 0.5D;
+                    double d24 = l * d13 + random.nextGaussian() * 0.01D;
                     double d26 = -0.03D + random.nextGaussian() * 0.01D;
-                    double d27 = (double)i * d13 + random.nextGaussian() * 0.01D;
+                    double d27 = i * d13 + random.nextGaussian() * 0.01D;
                     this.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, d16, d19, d22, d24, d26, d27);
                 }
 
@@ -2493,18 +2510,18 @@
 
             case 2002:
             case 2007:
-                double d6 = (double)blockPosIn.getX();
-                double d7 = (double)blockPosIn.getY();
-                double d9 = (double)blockPosIn.getZ();
+                double d6 = blockPosIn.getX();
+                double d7 = blockPosIn.getY();
+                double d9 = blockPosIn.getZ();
 
                 for (int i1 = 0; i1 < 8; ++i1)
                 {
                     this.spawnParticle(EnumParticleTypes.ITEM_CRACK, d6, d7, d9, random.nextGaussian() * 0.15D, random.nextDouble() * 0.2D, random.nextGaussian() * 0.15D, Item.getIdFromItem(Items.SPLASH_POTION));
                 }
 
-                float f5 = (float)(data >> 16 & 255) / 255.0F;
-                float f = (float)(data >> 8 & 255) / 255.0F;
-                float f1 = (float)(data >> 0 & 255) / 255.0F;
+                float f5 = (data >> 16 & 255) / 255.0F;
+                float f = (data >> 8 & 255) / 255.0F;
+                float f1 = (data >> 0 & 255) / 255.0F;
                 EnumParticleTypes enumparticletypes = type == 2007 ? EnumParticleTypes.SPELL_INSTANT : EnumParticleTypes.SPELL;
 
                 for (int l1 = 0; l1 < 100; ++l1)
@@ -2528,9 +2545,9 @@
                 break;
 
             case 2003:
-                double d0 = (double)blockPosIn.getX() + 0.5D;
-                double d1 = (double)blockPosIn.getY();
-                double d2 = (double)blockPosIn.getZ() + 0.5D;
+                double d0 = blockPosIn.getX() + 0.5D;
+                double d1 = blockPosIn.getY();
+                double d2 = blockPosIn.getZ() + 0.5D;
 
                 for (int j = 0; j < 8; ++j)
                 {
@@ -2548,9 +2565,9 @@
             case 2004:
                 for (int k1 = 0; k1 < 20; ++k1)
                 {
-                    double d14 = (double)blockPosIn.getX() + 0.5D + ((double)this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
-                    double d17 = (double)blockPosIn.getY() + 0.5D + ((double)this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
-                    double d20 = (double)blockPosIn.getZ() + 0.5D + ((double)this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
+                    double d14 = blockPosIn.getX() + 0.5D + (this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
+                    double d17 = blockPosIn.getY() + 0.5D + (this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
+                    double d20 = blockPosIn.getZ() + 0.5D + (this.theWorld.rand.nextFloat() - 0.5D) * 2.0D;
                     this.theWorld.spawnParticle(EnumParticleTypes.SMOKE_NORMAL, d14, d17, d20, 0.0D, 0.0D, 0.0D, new int[0]);
                     this.theWorld.spawnParticle(EnumParticleTypes.FLAME, d14, d17, d20, 0.0D, 0.0D, 0.0D, new int[0]);
                 }
@@ -2566,10 +2583,10 @@
                 {
                     float f2 = random.nextFloat() * 4.0F;
                     float f3 = random.nextFloat() * ((float)Math.PI * 2F);
-                    double d3 = (double)(MathHelper.cos(f3) * f2);
+                    double d3 = MathHelper.cos(f3) * f2;
                     double d4 = 0.01D + random.nextDouble() * 0.5D;
-                    double d5 = (double)(MathHelper.sin(f3) * f2);
-                    Particle particle = this.spawnEntityFX(EnumParticleTypes.DRAGON_BREATH.getParticleID(), false, (double)blockPosIn.getX() + d3 * 0.1D, (double)blockPosIn.getY() + 0.3D, (double)blockPosIn.getZ() + d5 * 0.1D, d3, d4, d5);
+                    double d5 = MathHelper.sin(f3) * f2;
+                    Particle particle = this.spawnEntityFX(EnumParticleTypes.DRAGON_BREATH.getParticleID(), false, blockPosIn.getX() + d3 * 0.1D, blockPosIn.getY() + 0.3D, blockPosIn.getZ() + d5 * 0.1D, d3, d4, d5);
 
                     if (particle != null)
                     {
@@ -2581,7 +2598,7 @@
                 break;
 
             case 3000:
-                this.theWorld.spawnParticle(EnumParticleTypes.EXPLOSION_HUGE, true, (double)blockPosIn.getX() + 0.5D, (double)blockPosIn.getY() + 0.5D, (double)blockPosIn.getZ() + 0.5D, 0.0D, 0.0D, 0.0D, new int[0]);
+                this.theWorld.spawnParticle(EnumParticleTypes.EXPLOSION_HUGE, true, blockPosIn.getX() + 0.5D, blockPosIn.getY() + 0.5D, blockPosIn.getZ() + 0.5D, 0.0D, 0.0D, 0.0D, new int[0]);
                 this.theWorld.playSound(blockPosIn, SoundEvents.BLOCK_END_GATEWAY_SPAWN, SoundCategory.BLOCKS, 10.0F, (1.0F + (this.theWorld.rand.nextFloat() - this.theWorld.rand.nextFloat()) * 0.2F) * 0.7F, false);
                 break;
 
@@ -2590,7 +2607,8 @@
         }
     }
 
-    public void sendBlockBreakProgress(int breakerId, BlockPos pos, int progress)
+    @Override
+	public void sendBlockBreakProgress(int breakerId, BlockPos pos, int progress)
     {
         if (progress >= 0 && progress < 10)
         {
diff -ur original/client/renderer/texture/TextureUtil.java minecraft/client/renderer/texture/TextureUtil.java
--- original/client/renderer/texture/TextureUtil.java	2017-06-17 13:16:33.025552000 +0200
+++ minecraft/client/renderer/texture/TextureUtil.java	2017-06-14 13:00:18.756257700 +0200
@@ -295,7 +295,7 @@
         DATA_BUFFER.position(0).limit(p_110994_2_);
     }
 
-    static void bindTexture(int p_94277_0_)
+    public static void bindTexture(int p_94277_0_)
     {
         GlStateManager.bindTexture(p_94277_0_);
     }
diff -ur original/client/renderer/tileentity/TileEntitySpecialRenderer.java minecraft/client/renderer/tileentity/TileEntitySpecialRenderer.java
--- original/client/renderer/tileentity/TileEntitySpecialRenderer.java	2017-06-17 13:16:33.113136000 +0200
+++ minecraft/client/renderer/tileentity/TileEntitySpecialRenderer.java	2017-06-14 13:06:13.428068600 +0200
@@ -88,7 +88,7 @@
             float f = this.rendererDispatcher.entityYaw;
             float f1 = this.rendererDispatcher.entityPitch;
             boolean flag = false;
-            EntityRenderer.drawNameplate(this.getFontRenderer(), str, (float)x + 0.5F, (float)y + 1.5F, (float)z + 0.5F, 0, f, f1, false, false);
+            EntityRenderer.drawNameplate(this.getFontRenderer(), str, (float)x + 0.5F, (float)y + 1.5F, (float)z + 0.5F, 0, f, f1, false, false, entity);
         }
     }
 }
diff -ur original/client/settings/KeyBinding.java minecraft/client/settings/KeyBinding.java
--- original/client/settings/KeyBinding.java	2017-06-17 13:16:33.444454000 +0200
+++ minecraft/client/settings/KeyBinding.java	2017-06-14 19:10:14.115541500 +0200
@@ -1,13 +1,16 @@
 package net.minecraft.client.settings;
 
-import com.google.common.collect.Maps;
-import com.google.common.collect.Sets;
 import java.util.Map;
 import java.util.Set;
 import java.util.function.Supplier;
+
+import org.lwjgl.input.Keyboard;
+
+import com.google.common.collect.Maps;
+import com.google.common.collect.Sets;
+
 import net.minecraft.client.resources.I18n;
 import net.minecraft.util.IntHashMap;
-import org.lwjgl.input.Keyboard;
 
 public class KeyBinding implements Comparable<KeyBinding>
 {
@@ -21,7 +24,7 @@
     private int keyCode;
 
     /** Is the key held down? */
-    private boolean pressed;
+	public boolean pressed;
     private int pressTime;
 
     public static void onTick(int keyCode)
@@ -155,9 +158,10 @@
         this.keyCode = keyCode;
     }
 
-    public int compareTo(KeyBinding p_compareTo_1_)
+    @Override
+	public int compareTo(KeyBinding p_compareTo_1_)
     {
-        return this.keyCategory.equals(p_compareTo_1_.keyCategory) ? I18n.format(this.keyDescription).compareTo(I18n.format(p_compareTo_1_.keyDescription)) : ((Integer)field_193627_d.get(this.keyCategory)).compareTo(field_193627_d.get(p_compareTo_1_.keyCategory));
+        return this.keyCategory.equals(p_compareTo_1_.keyCategory) ? I18n.format(this.keyDescription).compareTo(I18n.format(p_compareTo_1_.keyDescription)) : field_193627_d.get(this.keyCategory).compareTo(field_193627_d.get(p_compareTo_1_.keyCategory));
     }
 
     public static Supplier<String> func_193626_b(String p_193626_0_)
diff -ur original/entity/Entity.java minecraft/entity/Entity.java
--- original/entity/Entity.java	2017-06-17 13:16:34.592056000 +0200
+++ minecraft/entity/Entity.java	2017-06-16 21:38:07.326262100 +0200
@@ -1,8 +1,5 @@
 package net.minecraft.entity;
 
-import com.google.common.collect.Iterables;
-import com.google.common.collect.Lists;
-import com.google.common.collect.Sets;
 import java.util.Arrays;
 import java.util.Collection;
 import java.util.Collections;
@@ -10,7 +7,22 @@
 import java.util.Random;
 import java.util.Set;
 import java.util.UUID;
+
 import javax.annotation.Nullable;
+
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
+import com.google.common.collect.Iterables;
+import com.google.common.collect.Lists;
+import com.google.common.collect.Sets;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventKnockback;
+import me.deftware.client.framework.Event.Events.EventNoClip;
+import me.deftware.client.framework.Event.Events.EventSlowdown;
+import me.deftware.client.framework.Event.Events.EventSlowdown.SlowdownType;
+import me.deftware.client.framework.Event.Events.EventSneakingCheck;
 import net.minecraft.advancements.CriteriaTriggers;
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockFence;
@@ -22,6 +34,7 @@
 import net.minecraft.block.material.Material;
 import net.minecraft.block.state.IBlockState;
 import net.minecraft.block.state.pattern.BlockPattern;
+import net.minecraft.client.entity.EntityPlayerSP;
 import net.minecraft.command.CommandResultStats;
 import net.minecraft.command.ICommandSender;
 import net.minecraft.crash.CrashReport;
@@ -80,8 +93,6 @@
 import net.minecraft.world.Teleporter;
 import net.minecraft.world.World;
 import net.minecraft.world.WorldServer;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 
 public abstract class Entity implements ICommandSender
 {
@@ -135,7 +146,7 @@
     public float prevRotationPitch;
 
     /** Axis aligned bounding box. */
-    private AxisAlignedBB boundingBox;
+    public AxisAlignedBB boundingBox;
     public boolean onGround;
 
     /**
@@ -261,17 +272,17 @@
     public int dimension;
 
     /** The position of the last portal the entity was in */
-    protected BlockPos lastPortalPos;
+	public BlockPos lastPortalPos;
 
     /**
      * A horizontal vector related to the position of the last portal the entity was in
      */
-    protected Vec3d lastPortalVec;
+	public Vec3d lastPortalVec;
 
     /**
      * A direction related to the position of the last portal the entity was in
      */
-    protected EnumFacing teleportDirection;
+	public EnumFacing teleportDirection;
     private boolean invulnerable;
     protected UUID entityUniqueID;
     protected String cachedUniqueIdString;
@@ -367,7 +378,8 @@
         return this.dataManager;
     }
 
-    public boolean equals(Object p_equals_1_)
+    @Override
+	public boolean equals(Object p_equals_1_)
     {
         if (p_equals_1_ instanceof Entity)
         {
@@ -379,7 +391,8 @@
         }
     }
 
-    public int hashCode()
+    @Override
+	public int hashCode()
     {
         return this.entityId;
     }
@@ -439,17 +452,17 @@
 
             if (this.width < f)
             {
-                double d0 = (double)width / 2.0D;
-                this.setEntityBoundingBox(new AxisAlignedBB(this.posX - d0, this.posY, this.posZ - d0, this.posX + d0, this.posY + (double)this.height, this.posZ + d0));
+                double d0 = width / 2.0D;
+                this.setEntityBoundingBox(new AxisAlignedBB(this.posX - d0, this.posY, this.posZ - d0, this.posX + d0, this.posY + this.height, this.posZ + d0));
                 return;
             }
 
             AxisAlignedBB axisalignedbb = this.getEntityBoundingBox();
-            this.setEntityBoundingBox(new AxisAlignedBB(axisalignedbb.minX, axisalignedbb.minY, axisalignedbb.minZ, axisalignedbb.minX + (double)this.width, axisalignedbb.minY + (double)this.height, axisalignedbb.minZ + (double)this.width));
+            this.setEntityBoundingBox(new AxisAlignedBB(axisalignedbb.minX, axisalignedbb.minY, axisalignedbb.minZ, axisalignedbb.minX + this.width, axisalignedbb.minY + this.height, axisalignedbb.minZ + this.width));
 
             if (this.width > f && !this.firstUpdate && !this.world.isRemote)
             {
-                this.moveEntity(MoverType.SELF, (double)(f - this.width), 0.0D, (double)(f - this.width));
+                this.moveEntity(MoverType.SELF, f - this.width, 0.0D, f - this.width);
             }
         }
     }
@@ -473,7 +486,7 @@
         this.posZ = z;
         float f = this.width / 2.0F;
         float f1 = this.height;
-        this.setEntityBoundingBox(new AxisAlignedBB(x - (double)f, y, z - (double)f, x + (double)f, y + (double)f1, z + (double)f));
+        this.setEntityBoundingBox(new AxisAlignedBB(x - f, y, z - f, x + f, y + f1, z + f));
     }
 
     /**
@@ -484,8 +497,8 @@
     {
         float f = this.rotationPitch;
         float f1 = this.rotationYaw;
-        this.rotationYaw = (float)((double)this.rotationYaw + (double)yaw * 0.15D);
-        this.rotationPitch = (float)((double)this.rotationPitch - (double)pitch * 0.15D);
+        this.rotationYaw = (float)(this.rotationYaw + yaw * 0.15D);
+        this.rotationPitch = (float)(this.rotationPitch - pitch * 0.15D);
         this.rotationPitch = MathHelper.clamp(this.rotationPitch, -90.0F, 90.0F);
         this.prevRotationPitch += this.rotationPitch - f;
         this.prevRotationYaw += this.rotationYaw - f1;
@@ -722,7 +735,11 @@
      */
     public void moveEntity(MoverType x, double p_70091_2_, double p_70091_4_, double p_70091_6_)
     {
-        if (this.noClip)
+		// TODO: Client
+		EventNoClip e = new EventNoClip(noClip);
+		Event.sendEvent(e);
+
+		if (noClip || e.isNoclip() && this instanceof EntityPlayerSP)
         {
             this.setEntityBoundingBox(this.getEntityBoundingBox().offset(p_70091_2_, p_70091_4_, p_70091_6_));
             this.resetPositionToBB();
@@ -787,7 +804,14 @@
             double d11 = this.posY;
             double d1 = this.posZ;
 
-            if (this.isInWeb)
+			// TODO: Client
+			EventSlowdown event = new EventSlowdown(SlowdownType.Web);
+			Event.sendEvent(event);
+			if (event.isCanceled()) {
+				this.isInWeb = false;
+			}
+
+			if (this.isInWeb)
             {
                 this.isInWeb = false;
                 p_70091_2_ *= 0.25D;
@@ -802,9 +826,24 @@
             double d3 = p_70091_4_;
             double d4 = p_70091_6_;
 
-            if ((x == MoverType.SELF || x == MoverType.PLAYER) && this.onGround && this.isSneaking() && this instanceof EntityPlayer)
+			// TODO: Client
+			boolean flag12 = false;
+
+			if (isSneaking() && this instanceof EntityPlayer && onGround) {
+				flag12 = true;
+			}
+
+			if (onGround && this instanceof EntityPlayer) {
+				EventSneakingCheck event2 = new EventSneakingCheck(flag12);
+				Event.sendEvent(event2);
+				flag12 = event2.isSneaking();
+			}
+
+			// TODO: Client => Replace this.isSneaking() with flag12
+			if ((x == MoverType.SELF || x == MoverType.PLAYER) && this.onGround && flag12
+					&& this instanceof EntityPlayer)
             {
-                for (double d5 = 0.05D; p_70091_2_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(p_70091_2_, (double)(-this.stepHeight), 0.0D)).isEmpty(); d2 = p_70091_2_)
+                for (double d5 = 0.05D; p_70091_2_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(p_70091_2_, (-this.stepHeight), 0.0D)).isEmpty(); d2 = p_70091_2_)
                 {
                     if (p_70091_2_ < 0.05D && p_70091_2_ >= -0.05D)
                     {
@@ -820,7 +859,7 @@
                     }
                 }
 
-                for (; p_70091_6_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(0.0D, (double)(-this.stepHeight), p_70091_6_)).isEmpty(); d4 = p_70091_6_)
+                for (; p_70091_6_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(0.0D, (-this.stepHeight), p_70091_6_)).isEmpty(); d4 = p_70091_6_)
                 {
                     if (p_70091_6_ < 0.05D && p_70091_6_ >= -0.05D)
                     {
@@ -836,7 +875,7 @@
                     }
                 }
 
-                for (; p_70091_2_ != 0.0D && p_70091_6_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(p_70091_2_, (double)(-this.stepHeight), p_70091_6_)).isEmpty(); d4 = p_70091_6_)
+                for (; p_70091_2_ != 0.0D && p_70091_6_ != 0.0D && this.world.getCollisionBoxes(this, this.getEntityBoundingBox().offset(p_70091_2_, (-this.stepHeight), p_70091_6_)).isEmpty(); d4 = p_70091_6_)
                 {
                     if (p_70091_2_ < 0.05D && p_70091_2_ >= -0.05D)
                     {
@@ -877,7 +916,7 @@
 
                 for (int l = list1.size(); k < l; ++k)
                 {
-                    p_70091_4_ = ((AxisAlignedBB)list1.get(k)).calculateYOffset(this.getEntityBoundingBox(), p_70091_4_);
+                    p_70091_4_ = list1.get(k).calculateYOffset(this.getEntityBoundingBox(), p_70091_4_);
                 }
 
                 this.setEntityBoundingBox(this.getEntityBoundingBox().offset(0.0D, p_70091_4_, 0.0D));
@@ -889,7 +928,7 @@
 
                 for (int l5 = list1.size(); j5 < l5; ++j5)
                 {
-                    p_70091_2_ = ((AxisAlignedBB)list1.get(j5)).calculateXOffset(this.getEntityBoundingBox(), p_70091_2_);
+                    p_70091_2_ = list1.get(j5).calculateXOffset(this.getEntityBoundingBox(), p_70091_2_);
                 }
 
                 if (p_70091_2_ != 0.0D)
@@ -904,7 +943,7 @@
 
                 for (int i6 = list1.size(); k5 < i6; ++k5)
                 {
-                    p_70091_6_ = ((AxisAlignedBB)list1.get(k5)).calculateZOffset(this.getEntityBoundingBox(), p_70091_6_);
+                    p_70091_6_ = list1.get(k5).calculateZOffset(this.getEntityBoundingBox(), p_70091_6_);
                 }
 
                 if (p_70091_6_ != 0.0D)
@@ -922,7 +961,7 @@
                 double d7 = p_70091_6_;
                 AxisAlignedBB axisalignedbb1 = this.getEntityBoundingBox();
                 this.setEntityBoundingBox(axisalignedbb);
-                p_70091_4_ = (double)this.stepHeight;
+                p_70091_4_ = this.stepHeight;
                 List<AxisAlignedBB> list = this.world.getCollisionBoxes(this, this.getEntityBoundingBox().addCoord(d2, p_70091_4_, d4));
                 AxisAlignedBB axisalignedbb2 = this.getEntityBoundingBox();
                 AxisAlignedBB axisalignedbb3 = axisalignedbb2.addCoord(d2, 0.0D, d4);
@@ -931,7 +970,7 @@
 
                 for (int k1 = list.size(); j1 < k1; ++j1)
                 {
-                    d8 = ((AxisAlignedBB)list.get(j1)).calculateYOffset(axisalignedbb3, d8);
+                    d8 = list.get(j1).calculateYOffset(axisalignedbb3, d8);
                 }
 
                 axisalignedbb2 = axisalignedbb2.offset(0.0D, d8, 0.0D);
@@ -940,7 +979,7 @@
 
                 for (int i2 = list.size(); l1 < i2; ++l1)
                 {
-                    d18 = ((AxisAlignedBB)list.get(l1)).calculateXOffset(axisalignedbb2, d18);
+                    d18 = list.get(l1).calculateXOffset(axisalignedbb2, d18);
                 }
 
                 axisalignedbb2 = axisalignedbb2.offset(d18, 0.0D, 0.0D);
@@ -949,7 +988,7 @@
 
                 for (int k2 = list.size(); j2 < k2; ++j2)
                 {
-                    d19 = ((AxisAlignedBB)list.get(j2)).calculateZOffset(axisalignedbb2, d19);
+                    d19 = list.get(j2).calculateZOffset(axisalignedbb2, d19);
                 }
 
                 axisalignedbb2 = axisalignedbb2.offset(0.0D, 0.0D, d19);
@@ -959,7 +998,7 @@
 
                 for (int i3 = list.size(); l2 < i3; ++l2)
                 {
-                    d20 = ((AxisAlignedBB)list.get(l2)).calculateYOffset(axisalignedbb4, d20);
+                    d20 = list.get(l2).calculateYOffset(axisalignedbb4, d20);
                 }
 
                 axisalignedbb4 = axisalignedbb4.offset(0.0D, d20, 0.0D);
@@ -968,7 +1007,7 @@
 
                 for (int k3 = list.size(); j3 < k3; ++j3)
                 {
-                    d21 = ((AxisAlignedBB)list.get(j3)).calculateXOffset(axisalignedbb4, d21);
+                    d21 = list.get(j3).calculateXOffset(axisalignedbb4, d21);
                 }
 
                 axisalignedbb4 = axisalignedbb4.offset(d21, 0.0D, 0.0D);
@@ -977,7 +1016,7 @@
 
                 for (int i4 = list.size(); l3 < i4; ++l3)
                 {
-                    d22 = ((AxisAlignedBB)list.get(l3)).calculateZOffset(axisalignedbb4, d22);
+                    d22 = list.get(l3).calculateZOffset(axisalignedbb4, d22);
                 }
 
                 axisalignedbb4 = axisalignedbb4.offset(0.0D, 0.0D, d22);
@@ -1003,7 +1042,7 @@
 
                 for (int k4 = list.size(); j4 < k4; ++j4)
                 {
-                    p_70091_4_ = ((AxisAlignedBB)list.get(j4)).calculateYOffset(this.getEntityBoundingBox(), p_70091_4_);
+                    p_70091_4_ = list.get(j4).calculateYOffset(this.getEntityBoundingBox(), p_70091_4_);
                 }
 
                 this.setEntityBoundingBox(this.getEntityBoundingBox().offset(0.0D, p_70091_4_, 0.0D));
@@ -1078,10 +1117,10 @@
                     block.onEntityWalk(this.world, blockpos, this);
                 }
 
-                this.distanceWalkedModified = (float)((double)this.distanceWalkedModified + (double)MathHelper.sqrt(d15 * d15 + d17 * d17) * 0.6D);
-                this.distanceWalkedOnStepModified = (float)((double)this.distanceWalkedOnStepModified + (double)MathHelper.sqrt(d15 * d15 + d16 * d16 + d17 * d17) * 0.6D);
+                this.distanceWalkedModified = (float)(this.distanceWalkedModified + MathHelper.sqrt(d15 * d15 + d17 * d17) * 0.6D);
+                this.distanceWalkedOnStepModified = (float)(this.distanceWalkedOnStepModified + MathHelper.sqrt(d15 * d15 + d16 * d16 + d17 * d17) * 0.6D);
 
-                if (this.distanceWalkedOnStepModified > (float)this.nextStepDistance && iblockstate.getMaterial() != Material.AIR)
+                if (this.distanceWalkedOnStepModified > this.nextStepDistance && iblockstate.getMaterial() != Material.AIR)
                 {
                     this.nextStepDistance = (int)this.distanceWalkedOnStepModified + 1;
 
@@ -1255,7 +1294,7 @@
      */
     public boolean isSilent()
     {
-        return ((Boolean)this.dataManager.get(SILENT)).booleanValue();
+        return this.dataManager.get(SILENT).booleanValue();
     }
 
     /**
@@ -1268,7 +1307,7 @@
 
     public boolean hasNoGravity()
     {
-        return ((Boolean)this.dataManager.get(NO_GRAVITY)).booleanValue();
+        return this.dataManager.get(NO_GRAVITY).booleanValue();
     }
 
     public void setNoGravity(boolean noGravity)
@@ -1298,7 +1337,7 @@
         }
         else if (y < 0.0D)
         {
-            this.fallDistance = (float)((double)this.fallDistance - y);
+            this.fallDistance = (float)(this.fallDistance - y);
         }
     }
 
@@ -1319,7 +1358,7 @@
     {
         if (!this.isImmuneToFire)
         {
-            this.attackEntityFrom(DamageSource.inFire, (float)amount);
+            this.attackEntityFrom(DamageSource.inFire, amount);
         }
     }
 
@@ -1352,7 +1391,7 @@
         {
             BlockPos.PooledMutableBlockPos blockpos$pooledmutableblockpos = BlockPos.PooledMutableBlockPos.retain(this.posX, this.posY, this.posZ);
 
-            if (!this.world.isRainingAt(blockpos$pooledmutableblockpos) && !this.world.isRainingAt(blockpos$pooledmutableblockpos.setPos(this.posX, this.posY + (double)this.height, this.posZ)))
+            if (!this.world.isRainingAt(blockpos$pooledmutableblockpos) && !this.world.isRainingAt(blockpos$pooledmutableblockpos.setPos(this.posX, this.posY + this.height, this.posZ)))
             {
                 blockpos$pooledmutableblockpos.release();
                 return false;
@@ -1422,20 +1461,20 @@
         }
 
         this.playSound(this.getSplashSound(), f1, 1.0F + (this.rand.nextFloat() - this.rand.nextFloat()) * 0.4F);
-        float f2 = (float)MathHelper.floor(this.getEntityBoundingBox().minY);
+        float f2 = MathHelper.floor(this.getEntityBoundingBox().minY);
 
-        for (int i = 0; (float)i < 1.0F + this.width * 20.0F; ++i)
+        for (int i = 0; i < 1.0F + this.width * 20.0F; ++i)
         {
             float f3 = (this.rand.nextFloat() * 2.0F - 1.0F) * this.width;
             float f4 = (this.rand.nextFloat() * 2.0F - 1.0F) * this.width;
-            this.world.spawnParticle(EnumParticleTypes.WATER_BUBBLE, this.posX + (double)f3, (double)(f2 + 1.0F), this.posZ + (double)f4, this.motionX, this.motionY - (double)(this.rand.nextFloat() * 0.2F), this.motionZ);
+            this.world.spawnParticle(EnumParticleTypes.WATER_BUBBLE, this.posX + f3, f2 + 1.0F, this.posZ + f4, this.motionX, this.motionY - this.rand.nextFloat() * 0.2F, this.motionZ);
         }
 
-        for (int j = 0; (float)j < 1.0F + this.width * 20.0F; ++j)
+        for (int j = 0; j < 1.0F + this.width * 20.0F; ++j)
         {
             float f5 = (this.rand.nextFloat() * 2.0F - 1.0F) * this.width;
             float f6 = (this.rand.nextFloat() * 2.0F - 1.0F) * this.width;
-            this.world.spawnParticle(EnumParticleTypes.WATER_SPLASH, this.posX + (double)f5, (double)(f2 + 1.0F), this.posZ + (double)f6, this.motionX, this.motionY, this.motionZ);
+            this.world.spawnParticle(EnumParticleTypes.WATER_SPLASH, this.posX + f5, f2 + 1.0F, this.posZ + f6, this.motionX, this.motionY, this.motionZ);
         }
     }
 
@@ -1460,7 +1499,7 @@
 
         if (iblockstate.getRenderType() != EnumBlockRenderType.INVISIBLE)
         {
-            this.world.spawnParticle(EnumParticleTypes.BLOCK_CRACK, this.posX + ((double)this.rand.nextFloat() - 0.5D) * (double)this.width, this.getEntityBoundingBox().minY + 0.1D, this.posZ + ((double)this.rand.nextFloat() - 0.5D) * (double)this.width, -this.motionX * 4.0D, 1.5D, -this.motionZ * 4.0D, Block.getStateId(iblockstate));
+            this.world.spawnParticle(EnumParticleTypes.BLOCK_CRACK, this.posX + (this.rand.nextFloat() - 0.5D) * this.width, this.getEntityBoundingBox().minY + 0.1D, this.posZ + (this.rand.nextFloat() - 0.5D) * this.width, -this.motionX * 4.0D, 1.5D, -this.motionZ * 4.0D, Block.getStateId(iblockstate));
         }
     }
 
@@ -1475,15 +1514,15 @@
         }
         else
         {
-            double d0 = this.posY + (double)this.getEyeHeight();
+            double d0 = this.posY + this.getEyeHeight();
             BlockPos blockpos = new BlockPos(this.posX, d0, this.posZ);
             IBlockState iblockstate = this.world.getBlockState(blockpos);
 
             if (iblockstate.getMaterial() == materialIn)
             {
                 float f = BlockLiquid.getLiquidHeightPercent(iblockstate.getBlock().getMetaFromState(iblockstate)) - 0.11111111F;
-                float f1 = (float)(blockpos.getY() + 1) - f;
-                boolean flag = d0 < (double)f1;
+                float f1 = blockpos.getY() + 1 - f;
+                boolean flag = d0 < f1;
                 return !flag && this instanceof EntityPlayer ? false : flag;
             }
             else
@@ -1517,9 +1556,9 @@
             p_191958_3_ = p_191958_3_ * f;
             float f1 = MathHelper.sin(this.rotationYaw * 0.017453292F);
             float f2 = MathHelper.cos(this.rotationYaw * 0.017453292F);
-            this.motionX += (double)(p_191958_1_ * f2 - p_191958_3_ * f1);
-            this.motionY += (double)p_191958_2_;
-            this.motionZ += (double)(p_191958_3_ * f2 + p_191958_1_ * f1);
+            this.motionX += p_191958_1_ * f2 - p_191958_3_ * f1;
+            this.motionY += p_191958_2_;
+            this.motionZ += p_191958_3_ * f2 + p_191958_1_ * f1;
         }
     }
 
@@ -1529,7 +1568,7 @@
 
         if (this.world.isBlockLoaded(blockpos$mutableblockpos))
         {
-            blockpos$mutableblockpos.setY(MathHelper.floor(this.posY + (double)this.getEyeHeight()));
+            blockpos$mutableblockpos.setY(MathHelper.floor(this.posY + this.getEyeHeight()));
             return this.world.getCombinedLight(blockpos$mutableblockpos, 0);
         }
         else
@@ -1547,7 +1586,7 @@
 
         if (this.world.isBlockLoaded(blockpos$mutableblockpos))
         {
-            blockpos$mutableblockpos.setY(MathHelper.floor(this.posY + (double)this.getEyeHeight()));
+            blockpos$mutableblockpos.setY(MathHelper.floor(this.posY + this.getEyeHeight()));
             return this.world.getLightBrightness(blockpos$mutableblockpos);
         }
         else
@@ -1580,7 +1619,7 @@
         this.rotationPitch = pitch;
         this.prevRotationYaw = this.rotationYaw;
         this.prevRotationPitch = this.rotationPitch;
-        double d0 = (double)(this.prevRotationYaw - yaw);
+        double d0 = this.prevRotationYaw - yaw;
 
         if (d0 < -180.0D)
         {
@@ -1598,7 +1637,7 @@
 
     public void moveToBlockPosAndAngles(BlockPos pos, float rotationYawIn, float rotationPitchIn)
     {
-        this.setLocationAndAngles((double)pos.getX() + 0.5D, (double)pos.getY(), (double)pos.getZ() + 0.5D, rotationYawIn, rotationPitchIn);
+        this.setLocationAndAngles(pos.getX() + 0.5D, pos.getY(), pos.getZ() + 0.5D, rotationYawIn, rotationPitchIn);
     }
 
     /**
@@ -1660,7 +1699,7 @@
         double d0 = this.posX - x;
         double d1 = this.posY - y;
         double d2 = this.posZ - z;
-        return (double)MathHelper.sqrt(d0 * d0 + d1 * d1 + d2 * d2);
+        return MathHelper.sqrt(d0 * d0 + d1 * d1 + d2 * d2);
     }
 
     /**
@@ -1696,7 +1735,7 @@
 
                 if (d2 >= 0.009999999776482582D)
                 {
-                    d2 = (double)MathHelper.sqrt(d2);
+                    d2 = MathHelper.sqrt(d2);
                     d0 = d0 / d2;
                     d1 = d1 / d2;
                     double d3 = 1.0D / d2;
@@ -1710,8 +1749,8 @@
                     d1 = d1 * d3;
                     d0 = d0 * 0.05000000074505806D;
                     d1 = d1 * 0.05000000074505806D;
-                    d0 = d0 * (double)(1.0F - this.entityCollisionReduction);
-                    d1 = d1 * (double)(1.0F - this.entityCollisionReduction);
+                    d0 = d0 * (1.0F - this.entityCollisionReduction);
+                    d1 = d1 * (1.0F - this.entityCollisionReduction);
 
                     if (!this.isBeingRidden())
                     {
@@ -1788,20 +1827,20 @@
         float f1 = MathHelper.sin(-yaw * 0.017453292F - (float)Math.PI);
         float f2 = -MathHelper.cos(-pitch * 0.017453292F);
         float f3 = MathHelper.sin(-pitch * 0.017453292F);
-        return new Vec3d((double)(f1 * f2), (double)f3, (double)(f * f2));
+        return new Vec3d(f1 * f2, f3, f * f2);
     }
 
     public Vec3d getPositionEyes(float partialTicks)
     {
         if (partialTicks == 1.0F)
         {
-            return new Vec3d(this.posX, this.posY + (double)this.getEyeHeight(), this.posZ);
+            return new Vec3d(this.posX, this.posY + this.getEyeHeight(), this.posZ);
         }
         else
         {
-            double d0 = this.prevPosX + (this.posX - this.prevPosX) * (double)partialTicks;
-            double d1 = this.prevPosY + (this.posY - this.prevPosY) * (double)partialTicks + (double)this.getEyeHeight();
-            double d2 = this.prevPosZ + (this.posZ - this.prevPosZ) * (double)partialTicks;
+            double d0 = this.prevPosX + (this.posX - this.prevPosX) * partialTicks;
+            double d1 = this.prevPosY + (this.posY - this.prevPosY) * partialTicks + this.getEyeHeight();
+            double d2 = this.prevPosZ + (this.posZ - this.prevPosZ) * partialTicks;
             return new Vec3d(d0, d1, d2);
         }
     }
@@ -1911,7 +1950,8 @@
     {
         p_190533_0_.registerWalker(FixTypes.ENTITY, new IDataWalker()
         {
-            public NBTTagCompound process(IDataFixer fixer, NBTTagCompound compound, int versionIn)
+            @Override
+			public NBTTagCompound process(IDataFixer fixer, NBTTagCompound compound, int versionIn)
             {
                 if (compound.hasKey("Passengers", 9))
                 {
@@ -2202,7 +2242,7 @@
         }
         else
         {
-            EntityItem entityitem = new EntityItem(this.world, this.posX, this.posY + (double)offsetY, this.posZ, stack);
+            EntityItem entityitem = new EntityItem(this.world, this.posX, this.posY + offsetY, this.posZ, stack);
             entityitem.setDefaultPickupDelay();
             this.world.spawnEntityInWorld(entityitem);
             return entityitem;
@@ -2232,9 +2272,9 @@
 
             for (int i = 0; i < 8; ++i)
             {
-                int j = MathHelper.floor(this.posY + (double)(((float)((i >> 0) % 2) - 0.5F) * 0.1F) + (double)this.getEyeHeight());
-                int k = MathHelper.floor(this.posX + (double)(((float)((i >> 1) % 2) - 0.5F) * this.width * 0.8F));
-                int l = MathHelper.floor(this.posZ + (double)(((float)((i >> 2) % 2) - 0.5F) * this.width * 0.8F));
+                int j = MathHelper.floor(this.posY + ((i >> 0) % 2 - 0.5F) * 0.1F + this.getEyeHeight());
+                int k = MathHelper.floor(this.posX + ((i >> 1) % 2 - 0.5F) * this.width * 0.8F);
+                int l = MathHelper.floor(this.posZ + ((i >> 2) % 2 - 0.5F) * this.width * 0.8F);
 
                 if (blockpos$pooledmutableblockpos.getX() != k || blockpos$pooledmutableblockpos.getY() != j || blockpos$pooledmutableblockpos.getZ() != l)
                 {
@@ -2322,7 +2362,7 @@
      */
     public double getMountedYOffset()
     {
-        return (double)this.height * 0.75D;
+        return this.height * 0.75D;
     }
 
     public boolean startRiding(Entity entityIn)
@@ -2366,7 +2406,7 @@
     {
         for (int i = this.riddenByEntities.size() - 1; i >= 0; --i)
         {
-            ((Entity)this.riddenByEntities.get(i)).dismountRidingEntity();
+            this.riddenByEntities.get(i).dismountRidingEntity();
         }
     }
 
@@ -2470,8 +2510,8 @@
                 BlockPattern.PatternHelper blockpattern$patternhelper = Blocks.PORTAL.createPatternHelper(this.world, this.lastPortalPos);
                 double d0 = blockpattern$patternhelper.getForwards().getAxis() == EnumFacing.Axis.X ? (double)blockpattern$patternhelper.getFrontTopLeft().getZ() : (double)blockpattern$patternhelper.getFrontTopLeft().getX();
                 double d1 = blockpattern$patternhelper.getForwards().getAxis() == EnumFacing.Axis.X ? this.posZ : this.posX;
-                d1 = Math.abs(MathHelper.pct(d1 - (double)(blockpattern$patternhelper.getForwards().rotateY().getAxisDirection() == EnumFacing.AxisDirection.NEGATIVE ? 1 : 0), d0, d0 - (double)blockpattern$patternhelper.getWidth()));
-                double d2 = MathHelper.pct(this.posY - 1.0D, (double)blockpattern$patternhelper.getFrontTopLeft().getY(), (double)(blockpattern$patternhelper.getFrontTopLeft().getY() - blockpattern$patternhelper.getHeight()));
+                d1 = Math.abs(MathHelper.pct(d1 - (blockpattern$patternhelper.getForwards().rotateY().getAxisDirection() == EnumFacing.AxisDirection.NEGATIVE ? 1 : 0), d0, d0 - blockpattern$patternhelper.getWidth()));
+                double d2 = MathHelper.pct(this.posY - 1.0D, blockpattern$patternhelper.getFrontTopLeft().getY(), blockpattern$patternhelper.getFrontTopLeft().getY() - blockpattern$patternhelper.getHeight());
                 this.lastPortalVec = new Vec3d(d1, d2, 0.0D);
                 this.teleportDirection = blockpattern$patternhelper.getForwards();
             }
@@ -2493,9 +2533,16 @@
      */
     public void setVelocity(double x, double y, double z)
     {
-        this.motionX = x;
-        this.motionY = y;
-        this.motionZ = z;
+		// TODO: Client
+		EventKnockback event = new EventKnockback(x, y, z);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+
+		this.motionX = event.getX();
+		this.motionY = event.getY();
+		this.motionZ = event.getZ();
     }
 
     public void handleStatusUpdate(byte id)
@@ -2653,7 +2700,7 @@
      */
     protected boolean getFlag(int flag)
     {
-        return (((Byte)this.dataManager.get(FLAGS)).byteValue() & 1 << flag) != 0;
+        return (this.dataManager.get(FLAGS).byteValue() & 1 << flag) != 0;
     }
 
     /**
@@ -2661,7 +2708,7 @@
      */
     protected void setFlag(int flag, boolean set)
     {
-        byte b0 = ((Byte)this.dataManager.get(FLAGS)).byteValue();
+        byte b0 = this.dataManager.get(FLAGS).byteValue();
 
         if (set)
         {
@@ -2675,7 +2722,7 @@
 
     public int getAir()
     {
-        return ((Integer)this.dataManager.get(AIR)).intValue();
+        return this.dataManager.get(AIR).intValue();
     }
 
     public void setAir(int air)
@@ -2707,9 +2754,9 @@
     protected boolean pushOutOfBlocks(double x, double y, double z)
     {
         BlockPos blockpos = new BlockPos(x, y, z);
-        double d0 = x - (double)blockpos.getX();
-        double d1 = y - (double)blockpos.getY();
-        double d2 = z - (double)blockpos.getZ();
+        double d0 = x - blockpos.getX();
+        double d1 = y - blockpos.getY();
+        double d2 = z - blockpos.getZ();
 
         if (!this.world.collidesWithAnyBlock(this.getEntityBoundingBox()))
         {
@@ -2751,25 +2798,25 @@
             }
 
             float f = this.rand.nextFloat() * 0.2F + 0.1F;
-            float f1 = (float)enumfacing.getAxisDirection().getOffset();
+            float f1 = enumfacing.getAxisDirection().getOffset();
 
             if (enumfacing.getAxis() == EnumFacing.Axis.X)
             {
-                this.motionX = (double)(f1 * f);
+                this.motionX = f1 * f;
                 this.motionY *= 0.75D;
                 this.motionZ *= 0.75D;
             }
             else if (enumfacing.getAxis() == EnumFacing.Axis.Y)
             {
                 this.motionX *= 0.75D;
-                this.motionY = (double)(f1 * f);
+                this.motionY = f1 * f;
                 this.motionZ *= 0.75D;
             }
             else if (enumfacing.getAxis() == EnumFacing.Axis.Z)
             {
                 this.motionX *= 0.75D;
                 this.motionY *= 0.75D;
-                this.motionZ = (double)(f1 * f);
+                this.motionZ = f1 * f;
             }
 
             return true;
@@ -2788,7 +2835,8 @@
     /**
      * Get the name of this object. For players this returns their username
      */
-    public String getName()
+    @Override
+	public String getName()
     {
         if (this.hasCustomName())
         {
@@ -2860,7 +2908,8 @@
         return false;
     }
 
-    public String toString()
+    @Override
+	public String toString()
     {
         return String.format("%s['%s'/%d, l='%s', x=%.2f, y=%.2f, z=%.2f]", this.getClass().getSimpleName(), this.getName(), this.entityId, this.world == null ? "~NULL~" : this.world.getWorldInfo().getWorldName(), this.posX, this.posY, this.posZ);
     }
@@ -2952,8 +3001,8 @@
                     d1 = MathHelper.clamp(d1 * 8.0D, worldserver1.getWorldBorder().minZ() + 16.0D, worldserver1.getWorldBorder().maxZ() - 16.0D);
                 }
 
-                d0 = (double)MathHelper.clamp((int)d0, -29999872, 29999872);
-                d1 = (double)MathHelper.clamp((int)d1, -29999872, 29999872);
+                d0 = MathHelper.clamp((int)d0, -29999872, 29999872);
+                d1 = MathHelper.clamp((int)d1, -29999872, 29999872);
                 float f = this.rotationYaw;
                 this.setLocationAndAngles(d0, this.posY, d1, 90.0F, 0.0F);
                 Teleporter teleporter = worldserver1.getDefaultTeleporter();
@@ -3050,7 +3099,8 @@
     {
         category.setDetail("Entity Type", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return EntityList.func_191301_a(Entity.this) + " (" + Entity.this.getClass().getCanonicalName() + ")";
             }
@@ -3058,7 +3108,8 @@
         category.addCrashSection("Entity ID", Integer.valueOf(this.entityId));
         category.setDetail("Entity Name", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Entity.this.getName();
             }
@@ -3068,14 +3119,16 @@
         category.addCrashSection("Entity's Momentum", String.format("%.2f, %.2f, %.2f", this.motionX, this.motionY, this.motionZ));
         category.setDetail("Entity's Passengers", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Entity.this.getPassengers().toString();
             }
         });
         category.setDetail("Entity's Vehicle", new ICrashReportDetail<String>()
         {
-            public String call() throws Exception
+            @Override
+			public String call() throws Exception
             {
                 return Entity.this.getRidingEntity().toString();
             }
@@ -3127,7 +3180,8 @@
     /**
      * Get the formatted ChatComponent that will be used for the sender's username in chat
      */
-    public ITextComponent getDisplayName()
+    @Override
+	public ITextComponent getDisplayName()
     {
         TextComponentString textcomponentstring = new TextComponentString(ScorePlayerTeam.formatPlayerName(this.getTeam(), this.getName()));
         textcomponentstring.getStyle().setHoverEvent(this.getHoverEvent());
@@ -3145,7 +3199,7 @@
 
     public String getCustomNameTag()
     {
-        return (String)this.dataManager.get(CUSTOM_NAME);
+        return this.dataManager.get(CUSTOM_NAME);
     }
 
     /**
@@ -3153,7 +3207,7 @@
      */
     public boolean hasCustomName()
     {
-        return !((String)this.dataManager.get(CUSTOM_NAME)).isEmpty();
+        return !this.dataManager.get(CUSTOM_NAME).isEmpty();
     }
 
     public void setAlwaysRenderNameTag(boolean alwaysRenderNameTag)
@@ -3163,7 +3217,7 @@
 
     public boolean getAlwaysRenderNameTag()
     {
-        return ((Boolean)this.dataManager.get(CUSTOM_NAME_VISIBLE)).booleanValue();
+        return this.dataManager.get(CUSTOM_NAME_VISIBLE).booleanValue();
     }
 
     /**
@@ -3190,7 +3244,7 @@
      */
     public EnumFacing getHorizontalFacing()
     {
-        return EnumFacing.getHorizontal(MathHelper.floor((double)(this.rotationYaw * 4.0F / 360.0F) + 0.5D) & 3);
+        return EnumFacing.getHorizontal(MathHelper.floor(this.rotationYaw * 4.0F / 360.0F + 0.5D) & 3);
     }
 
     /**
@@ -3264,14 +3318,16 @@
     /**
      * Send a chat message to the CommandSender
      */
-    public void addChatMessage(ITextComponent component)
+    @Override
+	public void addChatMessage(ITextComponent component)
     {
     }
 
     /**
      * Returns {@code true} if the CommandSender is allowed to execute the command, {@code false} if not
      */
-    public boolean canCommandSenderUseCommand(int permLevel, String commandName)
+    @Override
+	public boolean canCommandSenderUseCommand(int permLevel, String commandName)
     {
         return true;
     }
@@ -3280,7 +3336,8 @@
      * Get the position in the world. <b>{@code null} is not allowed!</b> If you are not an entity in the world, return
      * the coordinates 0, 0, 0
      */
-    public BlockPos getPosition()
+    @Override
+	public BlockPos getPosition()
     {
         return new BlockPos(this.posX, this.posY + 0.5D, this.posZ);
     }
@@ -3289,7 +3346,8 @@
      * Get the position vector. <b>{@code null} is not allowed!</b> If you are not an entity in the world, return 0.0D,
      * 0.0D, 0.0D
      */
-    public Vec3d getPositionVector()
+    @Override
+	public Vec3d getPositionVector()
     {
         return new Vec3d(this.posX, this.posY, this.posZ);
     }
@@ -3298,7 +3356,8 @@
      * Get the world, if available. <b>{@code null} is not allowed!</b> If you are not an entity in the world, return
      * the overworld
      */
-    public World getEntityWorld()
+    @Override
+	public World getEntityWorld()
     {
         return this.world;
     }
@@ -3306,7 +3365,8 @@
     /**
      * Returns the entity associated with the command sender. MAY BE NULL!
      */
-    public Entity getCommandSenderEntity()
+    @Override
+	public Entity getCommandSenderEntity()
     {
         return this;
     }
@@ -3314,12 +3374,14 @@
     /**
      * Returns true if the command sender should be sent feedback about executed commands
      */
-    public boolean sendCommandFeedback()
+    @Override
+	public boolean sendCommandFeedback()
     {
         return false;
     }
 
-    public void setCommandStat(CommandResultStats.Type type, int amount)
+    @Override
+	public void setCommandStat(CommandResultStats.Type type, int amount)
     {
         if (this.world != null && !this.world.isRemote)
         {
@@ -3327,7 +3389,8 @@
         }
     }
 
-    @Nullable
+    @Override
+	@Nullable
 
     /**
      * Get the Minecraft server instance
diff -ur original/entity/passive/AbstractHorse.java minecraft/entity/passive/AbstractHorse.java
--- original/entity/passive/AbstractHorse.java	2017-06-17 13:16:36.293689000 +0200
+++ minecraft/entity/passive/AbstractHorse.java	2017-06-16 22:15:36.046504900 +0200
@@ -1,9 +1,14 @@
 package net.minecraft.entity.passive;
 
-import com.google.common.base.Optional;
-import com.google.common.base.Predicate;
 import java.util.UUID;
+
 import javax.annotation.Nullable;
+
+import com.google.common.base.Optional;
+import com.google.common.base.Predicate;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventSaddleCheck;
 import net.minecraft.advancements.CriteriaTriggers;
 import net.minecraft.block.Block;
 import net.minecraft.block.SoundType;
@@ -59,7 +64,8 @@
 {
     private static final Predicate<Entity> IS_HORSE_BREEDING = new Predicate<Entity>()
     {
-        public boolean apply(@Nullable Entity p_apply_1_)
+        @Override
+		public boolean apply(@Nullable Entity p_apply_1_)
         {
             return p_apply_1_ instanceof AbstractHorse && ((AbstractHorse)p_apply_1_).isBreeding();
         }
@@ -100,7 +106,8 @@
         this.initHorseChest();
     }
 
-    protected void initEntityAI()
+    @Override
+	protected void initEntityAI()
     {
         this.tasks.addTask(0, new EntityAISwimming(this));
         this.tasks.addTask(1, new EntityAIPanic(this, 1.2D));
@@ -112,7 +119,8 @@
         this.tasks.addTask(8, new EntityAILookIdle(this));
     }
 
-    protected void entityInit()
+    @Override
+	protected void entityInit()
     {
         super.entityInit();
         this.dataManager.register(STATUS, Byte.valueOf((byte)0));
@@ -121,12 +129,12 @@
 
     protected boolean getHorseWatchableBoolean(int p_110233_1_)
     {
-        return (((Byte)this.dataManager.get(STATUS)).byteValue() & p_110233_1_) != 0;
+        return (this.dataManager.get(STATUS).byteValue() & p_110233_1_) != 0;
     }
 
     protected void setHorseWatchableBoolean(int p_110208_1_, boolean p_110208_2_)
     {
-        byte b0 = ((Byte)this.dataManager.get(STATUS)).byteValue();
+        byte b0 = this.dataManager.get(STATUS).byteValue();
 
         if (p_110208_2_)
         {
@@ -162,7 +170,8 @@
     /**
      * "Sets the scale for an ageable entity according to the boolean parameter, which says if it's a child."
      */
-    public void setScaleForAge(boolean child)
+    @Override
+	public void setScaleForAge(boolean child)
     {
         this.setScale(child ? this.getHorseSize() : 1.0F);
     }
@@ -182,12 +191,14 @@
         this.horseJumping = jumping;
     }
 
-    public boolean canBeLeashedTo(EntityPlayer player)
+    @Override
+	public boolean canBeLeashedTo(EntityPlayer player)
     {
         return super.canBeLeashedTo(player) && this.getCreatureAttribute() != EnumCreatureAttribute.UNDEAD;
     }
 
-    protected void onLeashDistance(float p_142017_1_)
+    @Override
+	protected void onLeashDistance(float p_142017_1_)
     {
         if (p_142017_1_ > 6.0F && this.isEatingHaystack())
         {
@@ -240,7 +251,8 @@
     /**
      * Called when the entity is attacked.
      */
-    public boolean attackEntityFrom(DamageSource source, float amount)
+    @Override
+	public boolean attackEntityFrom(DamageSource source, float amount)
     {
         Entity entity = source.getEntity();
         return this.isBeingRidden() && entity != null && this.isRidingOrBeingRiddenBy(entity) ? false : super.attackEntityFrom(source, amount);
@@ -249,7 +261,8 @@
     /**
      * Returns true if this entity should push and be pushed by other entities when colliding.
      */
-    public boolean canBePushed()
+    @Override
+	public boolean canBePushed()
     {
         return !this.isBeingRidden();
     }
@@ -264,7 +277,8 @@
         }
     }
 
-    public void fall(float distance, float damageMultiplier)
+    @Override
+	public void fall(float distance, float damageMultiplier)
     {
         if (distance > 1.0F)
         {
@@ -275,17 +289,17 @@
 
         if (i > 0)
         {
-            this.attackEntityFrom(DamageSource.fall, (float)i);
+            this.attackEntityFrom(DamageSource.fall, i);
 
             if (this.isBeingRidden())
             {
                 for (Entity entity : this.getRecursivePassengers())
                 {
-                    entity.attackEntityFrom(DamageSource.fall, (float)i);
+                    entity.attackEntityFrom(DamageSource.fall, i);
                 }
             }
 
-            IBlockState iblockstate = this.world.getBlockState(new BlockPos(this.posX, this.posY - 0.2D - (double)this.prevRotationYaw, this.posZ));
+            IBlockState iblockstate = this.world.getBlockState(new BlockPos(this.posX, this.posY - 0.2D - this.prevRotationYaw, this.posZ));
             Block block = iblockstate.getBlock();
 
             if (iblockstate.getMaterial() != Material.AIR && !this.isSilent())
@@ -341,7 +355,8 @@
     /**
      * Called by InventoryBasic.onInventoryChanged() on a array that is never filled.
      */
-    public void onInventoryChanged(IInventory invBasic)
+    @Override
+	public void onInventoryChanged(IInventory invBasic)
     {
         boolean flag = this.isHorseSaddled();
         this.updateHorseSlots();
@@ -377,14 +392,16 @@
         return this.getEntityAttribute(JUMP_STRENGTH).getAttributeValue();
     }
 
-    @Nullable
+    @Override
+	@Nullable
     protected SoundEvent getDeathSound()
     {
         this.openHorseMouth();
         return null;
     }
 
-    @Nullable
+    @Override
+	@Nullable
     protected SoundEvent getHurtSound(DamageSource p_184601_1_)
     {
         this.openHorseMouth();
@@ -397,7 +414,8 @@
         return null;
     }
 
-    @Nullable
+    @Override
+	@Nullable
     protected SoundEvent getAmbientSound()
     {
         this.openHorseMouth();
@@ -417,7 +435,10 @@
 
     public boolean isHorseSaddled()
     {
-        return this.getHorseWatchableBoolean(4);
+		// TODO: Client
+		EventSaddleCheck event = new EventSaddleCheck(this.getHorseWatchableBoolean(4));
+		Event.sendEvent(event);
+		return event.isState();
     }
 
     @Nullable
@@ -428,7 +449,8 @@
         return null;
     }
 
-    protected void playStepSound(BlockPos pos, Block blockIn)
+    @Override
+	protected void playStepSound(BlockPos pos, Block blockIn)
     {
         if (!blockIn.getDefaultState().getMaterial().isLiquid())
         {
@@ -468,7 +490,8 @@
         this.playSound(SoundEvents.ENTITY_HORSE_GALLOP, p_190680_1_.getVolume() * 0.15F, p_190680_1_.getPitch());
     }
 
-    protected void applyEntityAttributes()
+    @Override
+	protected void applyEntityAttributes()
     {
         super.applyEntityAttributes();
         this.getAttributeMap().registerAttribute(JUMP_STRENGTH);
@@ -479,7 +502,8 @@
     /**
      * Will return how many at most can spawn in a chunk at once.
      */
-    public int getMaxSpawnedInChunk()
+    @Override
+	public int getMaxSpawnedInChunk()
     {
         return 6;
     }
@@ -492,7 +516,8 @@
     /**
      * Returns the volume for the sounds this mob makes.
      */
-    protected float getSoundVolume()
+    @Override
+	protected float getSoundVolume()
     {
         return 0.8F;
     }
@@ -500,7 +525,8 @@
     /**
      * Get number of ticks, at least during which the living entity will be silent.
      */
-    public int getTalkInterval()
+    @Override
+	public int getTalkInterval()
     {
         return 400;
     }
@@ -578,7 +604,7 @@
 
         if (this.isChild() && i > 0)
         {
-            this.world.spawnParticle(EnumParticleTypes.VILLAGER_HAPPY, this.posX + (double)(this.rand.nextFloat() * this.width * 2.0F) - (double)this.width, this.posY + 0.5D + (double)(this.rand.nextFloat() * this.height), this.posZ + (double)(this.rand.nextFloat() * this.width * 2.0F) - (double)this.width, 0.0D, 0.0D, 0.0D);
+            this.world.spawnParticle(EnumParticleTypes.VILLAGER_HAPPY, this.posX + this.rand.nextFloat() * this.width * 2.0F - this.width, this.posY + 0.5D + this.rand.nextFloat() * this.height, this.posZ + this.rand.nextFloat() * this.width * 2.0F - this.width, 0.0D, 0.0D, 0.0D);
 
             if (!this.world.isRemote)
             {
@@ -622,7 +648,8 @@
     /**
      * Dead and sleeping entities cannot move
      */
-    protected boolean isMovementBlocked()
+    @Override
+	protected boolean isMovementBlocked()
     {
         return super.isMovementBlocked() && this.isBeingRidden() && this.isHorseSaddled() || this.isEatingHaystack() || this.isRearing();
     }
@@ -631,7 +658,8 @@
      * Checks if the parameter is an item which this animal can be fed to breed it (wheat, carrots or seeds depending on
      * the animal type)
      */
-    public boolean isBreedingItem(ItemStack stack)
+    @Override
+	public boolean isBreedingItem(ItemStack stack)
     {
         return false;
     }
@@ -644,7 +672,8 @@
     /**
      * Called when the mob's health reaches 0.
      */
-    public void onDeath(DamageSource cause)
+    @Override
+	public void onDeath(DamageSource cause)
     {
         super.onDeath(cause);
 
@@ -666,7 +695,8 @@
      * Called frequently so the entity can update its state every tick as required. For example, zombies and skeletons
      * use this to react to sunlight and start to burn.
      */
-    public void onLivingUpdate()
+    @Override
+	public void onLivingUpdate()
     {
         if (this.rand.nextInt(200) == 0)
         {
@@ -721,7 +751,8 @@
     /**
      * Called to update the entity's position/logic.
      */
-    public void onUpdate()
+    @Override
+	public void onUpdate()
     {
         super.onUpdate();
 
@@ -877,7 +908,8 @@
         return true;
     }
 
-    public void func_191986_a(float p_191986_1_, float p_191986_2_, float p_191986_3_)
+    @Override
+	public void func_191986_a(float p_191986_1_, float p_191986_2_, float p_191986_3_)
     {
         if (this.isBeingRidden() && this.canBeSteered() && this.isHorseSaddled())
         {
@@ -905,11 +937,11 @@
 
             if (this.jumpPower > 0.0F && !this.isHorseJumping() && this.onGround)
             {
-                this.motionY = this.getHorseJumpStrength() * (double)this.jumpPower;
+                this.motionY = this.getHorseJumpStrength() * this.jumpPower;
 
                 if (this.isPotionActive(MobEffects.JUMP_BOOST))
                 {
-                    this.motionY += (double)((float)(this.getActivePotionEffect(MobEffects.JUMP_BOOST).getAmplifier() + 1) * 0.1F);
+                    this.motionY += (this.getActivePotionEffect(MobEffects.JUMP_BOOST).getAmplifier() + 1) * 0.1F;
                 }
 
                 this.setHorseJumping(true);
@@ -919,8 +951,8 @@
                 {
                     float f = MathHelper.sin(this.rotationYaw * 0.017453292F);
                     float f1 = MathHelper.cos(this.rotationYaw * 0.017453292F);
-                    this.motionX += (double)(-0.4F * f * this.jumpPower);
-                    this.motionZ += (double)(0.4F * f1 * this.jumpPower);
+                    this.motionX += -0.4F * f * this.jumpPower;
+                    this.motionZ += 0.4F * f1 * this.jumpPower;
                     this.playSound(SoundEvents.ENTITY_HORSE_JUMP, 0.4F, 1.0F);
                 }
 
@@ -976,7 +1008,8 @@
     /**
      * (abstract) Protected helper method to write subclass entity data to NBT.
      */
-    public void writeEntityToNBT(NBTTagCompound compound)
+    @Override
+	public void writeEntityToNBT(NBTTagCompound compound)
     {
         super.writeEntityToNBT(compound);
         compound.setBoolean("EatingHaystack", this.isEatingHaystack());
@@ -998,7 +1031,8 @@
     /**
      * (abstract) Protected helper method to read subclass entity data from NBT.
      */
-    public void readEntityFromNBT(NBTTagCompound compound)
+    @Override
+	public void readEntityFromNBT(NBTTagCompound compound)
     {
         super.readEntityFromNBT(compound);
         this.setEatingHaystack(compound.getBoolean("EatingHaystack"));
@@ -1045,7 +1079,8 @@
     /**
      * Returns true if the mob is currently able to mate with the specified mob.
      */
-    public boolean canMateWith(EntityAnimal otherAnimal)
+    @Override
+	public boolean canMateWith(EntityAnimal otherAnimal)
     {
         return false;
     }
@@ -1058,7 +1093,8 @@
         return !this.isBeingRidden() && !this.isRiding() && this.isTame() && !this.isChild() && this.getHealth() >= this.getMaxHealth() && this.isInLove();
     }
 
-    @Nullable
+    @Override
+	@Nullable
     public EntityAgeable createChild(EntityAgeable ageable)
     {
         return null;
@@ -1066,7 +1102,7 @@
 
     protected void func_190681_a(EntityAgeable p_190681_1_, AbstractHorse p_190681_2_)
     {
-        double d0 = this.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).getBaseValue() + p_190681_1_.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).getBaseValue() + (double)this.getModifiedMaxHealth();
+        double d0 = this.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).getBaseValue() + p_190681_1_.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).getBaseValue() + this.getModifiedMaxHealth();
         p_190681_2_.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).setBaseValue(d0 / 3.0D);
         double d1 = this.getEntityAttribute(JUMP_STRENGTH).getBaseValue() + p_190681_1_.getEntityAttribute(JUMP_STRENGTH).getBaseValue() + this.getModifiedJumpStrength();
         p_190681_2_.getEntityAttribute(JUMP_STRENGTH).setBaseValue(d1 / 3.0D);
@@ -1078,7 +1114,8 @@
      * returns true if all the conditions for steering the entity are met. For pigs, this is true if it is being ridden
      * by a player and the player is holding a carrot-on-a-stick
      */
-    public boolean canBeSteered()
+    @Override
+	public boolean canBeSteered()
     {
         return this.getControllingPassenger() instanceof EntityLivingBase;
     }
@@ -1098,7 +1135,8 @@
         return this.prevMouthOpenness + (this.mouthOpenness - this.prevMouthOpenness) * p_110201_1_;
     }
 
-    public void setJumpPower(int jumpPowerIn)
+    @Override
+	public void setJumpPower(int jumpPowerIn)
     {
         if (this.isHorseSaddled())
         {
@@ -1118,23 +1156,26 @@
             }
             else
             {
-                this.jumpPower = 0.4F + 0.4F * (float)jumpPowerIn / 90.0F;
+                this.jumpPower = 0.4F + 0.4F * jumpPowerIn / 90.0F;
             }
         }
     }
 
-    public boolean canJump()
+    @Override
+	public boolean canJump()
     {
         return this.isHorseSaddled();
     }
 
-    public void handleStartJump(int p_184775_1_)
+    @Override
+	public void handleStartJump(int p_184775_1_)
     {
         this.allowStandSliding = true;
         this.makeHorseRear();
     }
 
-    public void handleStopJump()
+    @Override
+	public void handleStopJump()
     {
     }
 
@@ -1150,11 +1191,12 @@
             double d0 = this.rand.nextGaussian() * 0.02D;
             double d1 = this.rand.nextGaussian() * 0.02D;
             double d2 = this.rand.nextGaussian() * 0.02D;
-            this.world.spawnParticle(enumparticletypes, this.posX + (double)(this.rand.nextFloat() * this.width * 2.0F) - (double)this.width, this.posY + 0.5D + (double)(this.rand.nextFloat() * this.height), this.posZ + (double)(this.rand.nextFloat() * this.width * 2.0F) - (double)this.width, d0, d1, d2);
+            this.world.spawnParticle(enumparticletypes, this.posX + this.rand.nextFloat() * this.width * 2.0F - this.width, this.posY + 0.5D + this.rand.nextFloat() * this.height, this.posZ + this.rand.nextFloat() * this.width * 2.0F - this.width, d0, d1, d2);
         }
     }
 
-    public void handleStatusUpdate(byte id)
+    @Override
+	public void handleStatusUpdate(byte id)
     {
         if (id == 7)
         {
@@ -1170,7 +1212,8 @@
         }
     }
 
-    public void updatePassenger(Entity passenger)
+    @Override
+	public void updatePassenger(Entity passenger)
     {
         super.updatePassenger(passenger);
 
@@ -1186,7 +1229,7 @@
             float f = MathHelper.cos(this.renderYawOffset * 0.017453292F);
             float f1 = 0.7F * this.prevRearingAmount;
             float f2 = 0.15F * this.prevRearingAmount;
-            passenger.setPosition(this.posX + (double)(f1 * f3), this.posY + this.getMountedYOffset() + passenger.getYOffset() + (double)f2, this.posZ - (double)(f1 * f));
+            passenger.setPosition(this.posX + f1 * f3, this.posY + this.getMountedYOffset() + passenger.getYOffset() + f2, this.posZ - f1 * f);
 
             if (passenger instanceof EntityLivingBase)
             {
@@ -1200,7 +1243,7 @@
      */
     protected float getModifiedMaxHealth()
     {
-        return 15.0F + (float)this.rand.nextInt(8) + (float)this.rand.nextInt(9);
+        return 15.0F + this.rand.nextInt(8) + this.rand.nextInt(9);
     }
 
     /**
@@ -1222,12 +1265,14 @@
     /**
      * returns true if this entity is by a ladder, false otherwise
      */
-    public boolean isOnLadder()
+    @Override
+	public boolean isOnLadder()
     {
         return false;
     }
 
-    public float getEyeHeight()
+    @Override
+	public float getEyeHeight()
     {
         return this.height;
     }
@@ -1242,7 +1287,8 @@
         return false;
     }
 
-    public boolean replaceItemInInventory(int inventorySlot, ItemStack itemStackIn)
+    @Override
+	public boolean replaceItemInInventory(int inventorySlot, ItemStack itemStackIn)
     {
         int i = inventorySlot - 400;
 
@@ -1279,7 +1325,8 @@
         }
     }
 
-    @Nullable
+    @Override
+	@Nullable
 
     /**
      * For vehicles, the first passenger is generally considered the controller and "drives" the vehicle. For example,
@@ -1290,7 +1337,8 @@
         return this.getPassengers().isEmpty() ? null : (Entity)this.getPassengers().get(0);
     }
 
-    @Nullable
+    @Override
+	@Nullable
 
     /**
      * Called only once on an entity when first time spawned, via egg, mob spawner, natural spawning etc, but not called
diff -ur original/entity/player/EntityPlayer.java minecraft/entity/player/EntityPlayer.java
--- original/entity/player/EntityPlayer.java	2017-06-17 13:16:36.576460000 +0200
+++ minecraft/entity/player/EntityPlayer.java	2017-06-16 20:59:25.261246900 +0200
@@ -1,12 +1,15 @@
 package net.minecraft.entity.player;
 
-import com.google.common.base.Predicate;
-import com.google.common.collect.Lists;
-import com.mojang.authlib.GameProfile;
 import java.nio.charset.StandardCharsets;
 import java.util.List;
 import java.util.UUID;
+
 import javax.annotation.Nullable;
+
+import com.google.common.base.Predicate;
+import com.google.common.collect.Lists;
+import com.mojang.authlib.GameProfile;
+
 import net.minecraft.block.Block;
 import net.minecraft.block.BlockBed;
 import net.minecraft.block.BlockHorizontal;
@@ -103,7 +106,7 @@
 
     /** Inventory of the player */
     public InventoryPlayer inventory = new InventoryPlayer(this);
-    protected InventoryEnderChest theInventoryEnderChest = new InventoryEnderChest();
+	public InventoryEnderChest theInventoryEnderChest = new InventoryEnderChest();
 
     /**
      * The Container for the player's inventory (which opens when they press E)
@@ -114,7 +117,7 @@
     public Container openContainer;
 
     /** The food object of the player, the general hunger logic. */
-    protected FoodStats foodStats = new FoodStats();
+	public FoodStats foodStats = new FoodStats();
 
     /**
      * Used to tell if the player pressed jump twice. If this is at 0 and it's pressed (And they are allowed to fly, as
@@ -171,7 +174,7 @@
      * The current amount of experience the player has within their Experience Bar.
      */
     public float experience;
-    protected int xpSeed;
+	public int xpSeed;
     protected float speedInAir = 0.02F;
     private int lastXPSound;
 
@@ -200,11 +203,12 @@
         this.inventoryContainer = new ContainerPlayer(this.inventory, !worldIn.isRemote, this);
         this.openContainer = this.inventoryContainer;
         BlockPos blockpos = worldIn.getSpawnPoint();
-        this.setLocationAndAngles((double)blockpos.getX() + 0.5D, (double)(blockpos.getY() + 1), (double)blockpos.getZ() + 0.5D, 0.0F, 0.0F);
+        this.setLocationAndAngles(blockpos.getX() + 0.5D, blockpos.getY() + 1, blockpos.getZ() + 0.5D, 0.0F, 0.0F);
         this.unused180 = 180.0F;
     }
 
-    protected void applyEntityAttributes()
+    @Override
+	protected void applyEntityAttributes()
     {
         super.applyEntityAttributes();
         this.getAttributeMap().registerAttribute(SharedMonsterAttributes.ATTACK_DAMAGE).setBaseValue(1.0D);
@@ -213,7 +217,8 @@
         this.getAttributeMap().registerAttribute(SharedMonsterAttributes.LUCK);
     }
 
-    protected void entityInit()
+    @Override
+	protected void entityInit()
     {
         super.entityInit();
         this.dataManager.register(ABSORPTION, Float.valueOf(0.0F));
@@ -227,7 +232,8 @@
     /**
      * Called to update the entity's position/logic.
      */
-    public void onUpdate()
+    @Override
+	public void onUpdate()
     {
         this.noClip = this.isSpectator();
 
@@ -409,7 +415,7 @@
         if (f != this.width || f1 != this.height)
         {
             AxisAlignedBB axisalignedbb = this.getEntityBoundingBox();
-            axisalignedbb = new AxisAlignedBB(axisalignedbb.minX, axisalignedbb.minY, axisalignedbb.minZ, axisalignedbb.minX + (double)f, axisalignedbb.minY + (double)f1, axisalignedbb.minZ + (double)f);
+            axisalignedbb = new AxisAlignedBB(axisalignedbb.minX, axisalignedbb.minY, axisalignedbb.minZ, axisalignedbb.minX + f, axisalignedbb.minY + f1, axisalignedbb.minZ + f);
 
             if (!this.world.collidesWithAnyBlock(axisalignedbb))
             {
@@ -421,17 +427,20 @@
     /**
      * Return the amount of time this entity should stay in a portal before being transported.
      */
-    public int getMaxInPortalTime()
+    @Override
+	public int getMaxInPortalTime()
     {
         return this.capabilities.disableDamage ? 1 : 80;
     }
 
-    protected SoundEvent getSwimSound()
+    @Override
+	protected SoundEvent getSwimSound()
     {
         return SoundEvents.ENTITY_PLAYER_SWIM;
     }
 
-    protected SoundEvent getSplashSound()
+    @Override
+	protected SoundEvent getSplashSound()
     {
         return SoundEvents.ENTITY_PLAYER_SPLASH;
     }
@@ -439,27 +448,32 @@
     /**
      * Return the amount of cooldown before this entity can use a portal again.
      */
-    public int getPortalCooldown()
+    @Override
+	public int getPortalCooldown()
     {
         return 10;
     }
 
-    public void playSound(SoundEvent soundIn, float volume, float pitch)
+    @Override
+	public void playSound(SoundEvent soundIn, float volume, float pitch)
     {
         this.world.playSound(this, this.posX, this.posY, this.posZ, soundIn, this.getSoundCategory(), volume, pitch);
     }
 
-    public SoundCategory getSoundCategory()
+    @Override
+	public SoundCategory getSoundCategory()
     {
         return SoundCategory.PLAYERS;
     }
 
-    protected int func_190531_bD()
+    @Override
+	protected int func_190531_bD()
     {
         return 20;
     }
 
-    public void handleStatusUpdate(byte id)
+    @Override
+	public void handleStatusUpdate(byte id)
     {
         if (id == 9)
         {
@@ -482,7 +496,8 @@
     /**
      * Dead and sleeping entities cannot move
      */
-    protected boolean isMovementBlocked()
+    @Override
+	protected boolean isMovementBlocked()
     {
         return this.getHealth() <= 0.0F || this.isPlayerSleeping();
     }
@@ -498,7 +513,8 @@
     /**
      * Handles updating while being ridden by an entity
      */
-    public void updateRidden()
+    @Override
+	public void updateRidden()
     {
         if (!this.world.isRemote && this.isSneaking() && this.isRiding())
         {
@@ -530,7 +546,8 @@
      * Keeps moving the entity up so it isn't colliding with blocks and other requirements for this entity to be spawned
      * (only actually used on players though its also on Entity)
      */
-    public void preparePlayerToSpawn()
+    @Override
+	public void preparePlayerToSpawn()
     {
         this.setSize(0.6F, 1.8F);
         super.preparePlayerToSpawn();
@@ -538,7 +555,8 @@
         this.deathTime = 0;
     }
 
-    protected void updateEntityActionState()
+    @Override
+	protected void updateEntityActionState()
     {
         super.updateEntityActionState();
         this.updateArmSwingProgress();
@@ -549,7 +567,8 @@
      * Called frequently so the entity can update its state every tick as required. For example, zombies and skeletons
      * use this to react to sunlight and start to burn.
      */
-    public void onLivingUpdate()
+    @Override
+	public void onLivingUpdate()
     {
         if (this.flyToggleTimer > 0)
         {
@@ -576,14 +595,14 @@
 
         if (!this.world.isRemote)
         {
-            iattributeinstance.setBaseValue((double)this.capabilities.getWalkSpeed());
+            iattributeinstance.setBaseValue(this.capabilities.getWalkSpeed());
         }
 
         this.jumpMovementFactor = this.speedInAir;
 
         if (this.isSprinting())
         {
-            this.jumpMovementFactor = (float)((double)this.jumpMovementFactor + (double)this.speedInAir * 0.3D);
+            this.jumpMovementFactor = (float)(this.jumpMovementFactor + this.speedInAir * 0.3D);
         }
 
         this.setAIMoveSpeed((float)iattributeinstance.getAttributeValue());
@@ -663,7 +682,7 @@
 
     public int getScore()
     {
-        return ((Integer)this.dataManager.get(PLAYER_SCORE)).intValue();
+        return this.dataManager.get(PLAYER_SCORE).intValue();
     }
 
     /**
@@ -686,7 +705,8 @@
     /**
      * Called when the mob's health reaches 0.
      */
-    public void onDeath(DamageSource cause)
+    @Override
+	public void onDeath(DamageSource cause)
     {
         super.onDeath(cause);
         this.setSize(0.2F, 0.2F);
@@ -706,8 +726,8 @@
 
         if (cause != null)
         {
-            this.motionX = (double)(-MathHelper.cos((this.attackedAtYaw + this.rotationYaw) * 0.017453292F) * 0.1F);
-            this.motionZ = (double)(-MathHelper.sin((this.attackedAtYaw + this.rotationYaw) * 0.017453292F) * 0.1F);
+            this.motionX = -MathHelper.cos((this.attackedAtYaw + this.rotationYaw) * 0.017453292F) * 0.1F;
+            this.motionZ = -MathHelper.sin((this.attackedAtYaw + this.rotationYaw) * 0.017453292F) * 0.1F;
         }
         else
         {
@@ -734,7 +754,8 @@
         }
     }
 
-    protected SoundEvent getHurtSound(DamageSource p_184601_1_)
+    @Override
+	protected SoundEvent getHurtSound(DamageSource p_184601_1_)
     {
         if (p_184601_1_ == DamageSource.onFire)
         {
@@ -746,7 +767,8 @@
         }
     }
 
-    protected SoundEvent getDeathSound()
+    @Override
+	protected SoundEvent getDeathSound()
     {
         return SoundEvents.ENTITY_PLAYER_DEATH;
     }
@@ -781,7 +803,7 @@
         }
         else
         {
-            double d0 = this.posY - 0.30000001192092896D + (double)this.getEyeHeight();
+            double d0 = this.posY - 0.30000001192092896D + this.getEyeHeight();
             EntityItem entityitem = new EntityItem(this.world, this.posX, d0, this.posZ, droppedItem);
             entityitem.setPickupDelay(40);
 
@@ -794,21 +816,21 @@
             {
                 float f = this.rand.nextFloat() * 0.5F;
                 float f1 = this.rand.nextFloat() * ((float)Math.PI * 2F);
-                entityitem.motionX = (double)(-MathHelper.sin(f1) * f);
-                entityitem.motionZ = (double)(MathHelper.cos(f1) * f);
+                entityitem.motionX = -MathHelper.sin(f1) * f;
+                entityitem.motionZ = MathHelper.cos(f1) * f;
                 entityitem.motionY = 0.20000000298023224D;
             }
             else
             {
                 float f2 = 0.3F;
-                entityitem.motionX = (double)(-MathHelper.sin(this.rotationYaw * 0.017453292F) * MathHelper.cos(this.rotationPitch * 0.017453292F) * f2);
-                entityitem.motionZ = (double)(MathHelper.cos(this.rotationYaw * 0.017453292F) * MathHelper.cos(this.rotationPitch * 0.017453292F) * f2);
-                entityitem.motionY = (double)(-MathHelper.sin(this.rotationPitch * 0.017453292F) * f2 + 0.1F);
+                entityitem.motionX = -MathHelper.sin(this.rotationYaw * 0.017453292F) * MathHelper.cos(this.rotationPitch * 0.017453292F) * f2;
+                entityitem.motionZ = MathHelper.cos(this.rotationYaw * 0.017453292F) * MathHelper.cos(this.rotationPitch * 0.017453292F) * f2;
+                entityitem.motionY = -MathHelper.sin(this.rotationPitch * 0.017453292F) * f2 + 0.1F;
                 float f3 = this.rand.nextFloat() * ((float)Math.PI * 2F);
                 f2 = 0.02F * this.rand.nextFloat();
-                entityitem.motionX += Math.cos((double)f3) * (double)f2;
-                entityitem.motionY += (double)((this.rand.nextFloat() - this.rand.nextFloat()) * 0.1F);
-                entityitem.motionZ += Math.sin((double)f3) * (double)f2;
+                entityitem.motionX += Math.cos(f3) * f2;
+                entityitem.motionY += (this.rand.nextFloat() - this.rand.nextFloat()) * 0.1F;
+                entityitem.motionZ += Math.sin(f3) * f2;
             }
 
             ItemStack itemstack = this.dropItemAndGetStack(entityitem);
@@ -844,13 +866,13 @@
 
             if (i > 0 && !itemstack.func_190926_b())
             {
-                f += (float)(i * i + 1);
+                f += i * i + 1;
             }
         }
 
         if (this.isPotionActive(MobEffects.HASTE))
         {
-            f *= 1.0F + (float)(this.getActivePotionEffect(MobEffects.HASTE).getAmplifier() + 1) * 0.2F;
+            f *= 1.0F + (this.getActivePotionEffect(MobEffects.HASTE).getAmplifier() + 1) * 0.2F;
         }
 
         if (this.isPotionActive(MobEffects.MINING_FATIGUE))
@@ -901,7 +923,8 @@
     {
         fixer.registerWalker(FixTypes.PLAYER, new IDataWalker()
         {
-            public NBTTagCompound process(IDataFixer fixer, NBTTagCompound compound, int versionIn)
+            @Override
+			public NBTTagCompound process(IDataFixer fixer, NBTTagCompound compound, int versionIn)
             {
                 DataFixesManager.processInventory(fixer, compound, versionIn, "Inventory");
                 DataFixesManager.processInventory(fixer, compound, versionIn, "EnderItems");
@@ -924,7 +947,8 @@
     /**
      * (abstract) Protected helper method to read subclass entity data from NBT.
      */
-    public void readEntityFromNBT(NBTTagCompound compound)
+    @Override
+	public void readEntityFromNBT(NBTTagCompound compound)
     {
         super.readEntityFromNBT(compound);
         this.setUniqueId(getUUID(this.gameProfile));
@@ -980,7 +1004,8 @@
     /**
      * (abstract) Protected helper method to write subclass entity data to NBT.
      */
-    public void writeEntityToNBT(NBTTagCompound compound)
+    @Override
+	public void writeEntityToNBT(NBTTagCompound compound)
     {
         super.writeEntityToNBT(compound);
         compound.setInteger("DataVersion", 1139);
@@ -1020,7 +1045,8 @@
     /**
      * Called when the entity is attacked.
      */
-    public boolean attackEntityFrom(DamageSource source, float amount)
+    @Override
+	public boolean attackEntityFrom(DamageSource source, float amount)
     {
         if (this.isEntityInvulnerable(source))
         {
@@ -1070,7 +1096,8 @@
         }
     }
 
-    protected void func_190629_c(EntityLivingBase p_190629_1_)
+    @Override
+	protected void func_190629_c(EntityLivingBase p_190629_1_)
     {
         super.func_190629_c(p_190629_1_);
 
@@ -1095,12 +1122,14 @@
         }
     }
 
-    protected void damageArmor(float damage)
+    @Override
+	protected void damageArmor(float damage)
     {
         this.inventory.damageArmor(damage);
     }
 
-    protected void damageShield(float damage)
+    @Override
+	protected void damageShield(float damage)
     {
         if (damage >= 3.0F && this.activeItemStack.getItem() == Items.SHIELD)
         {
@@ -1149,7 +1178,8 @@
      * Deals damage to the entity. This will take the armor of the entity into consideration before damaging the health
      * bar.
      */
-    protected void damageEntity(DamageSource damageSrc, float damageAmount)
+    @Override
+	protected void damageEntity(DamageSource damageSrc, float damageAmount)
     {
         if (!this.isEntityInvulnerable(damageSrc))
         {
@@ -1266,12 +1296,14 @@
     /**
      * Returns the Y Offset of this entity.
      */
-    public double getYOffset()
+    @Override
+	public double getYOffset()
     {
         return -0.35D;
     }
 
-    public void dismountRidingEntity()
+    @Override
+	public void dismountRidingEntity()
     {
         super.dismountRidingEntity();
         this.rideCooldown = 0;
@@ -1328,9 +1360,9 @@
 
                     f = f + f1;
                     boolean flag3 = false;
-                    double d0 = (double)(this.distanceWalkedModified - this.prevDistanceWalkedModified);
+                    double d0 = this.distanceWalkedModified - this.prevDistanceWalkedModified;
 
-                    if (flag && !flag2 && !flag1 && this.onGround && d0 < (double)this.getAIMoveSpeed())
+                    if (flag && !flag2 && !flag1 && this.onGround && d0 < this.getAIMoveSpeed())
                     {
                         ItemStack itemstack = this.getHeldItem(EnumHand.MAIN_HAND);
 
@@ -1366,11 +1398,11 @@
                         {
                             if (targetEntity instanceof EntityLivingBase)
                             {
-                                ((EntityLivingBase)targetEntity).knockBack(this, (float)i * 0.5F, (double)MathHelper.sin(this.rotationYaw * 0.017453292F), (double)(-MathHelper.cos(this.rotationYaw * 0.017453292F)));
+                                ((EntityLivingBase)targetEntity).knockBack(this, i * 0.5F, MathHelper.sin(this.rotationYaw * 0.017453292F), (-MathHelper.cos(this.rotationYaw * 0.017453292F)));
                             }
                             else
                             {
-                                targetEntity.addVelocity((double)(-MathHelper.sin(this.rotationYaw * 0.017453292F) * (float)i * 0.5F), 0.1D, (double)(MathHelper.cos(this.rotationYaw * 0.017453292F) * (float)i * 0.5F));
+                                targetEntity.addVelocity(-MathHelper.sin(this.rotationYaw * 0.017453292F) * i * 0.5F, 0.1D, MathHelper.cos(this.rotationYaw * 0.017453292F) * i * 0.5F);
                             }
 
                             this.motionX *= 0.6D;
@@ -1386,7 +1418,7 @@
                             {
                                 if (entitylivingbase != this && entitylivingbase != targetEntity && !this.isOnSameTeam(entitylivingbase) && this.getDistanceSqToEntity(entitylivingbase) < 9.0D)
                                 {
-                                    entitylivingbase.knockBack(this, 0.4F, (double)MathHelper.sin(this.rotationYaw * 0.017453292F), (double)(-MathHelper.cos(this.rotationYaw * 0.017453292F)));
+                                    entitylivingbase.knockBack(this, 0.4F, MathHelper.sin(this.rotationYaw * 0.017453292F), (-MathHelper.cos(this.rotationYaw * 0.017453292F)));
                                     entitylivingbase.attackEntityFrom(DamageSource.causePlayerDamage(this), f3);
                                 }
                             }
@@ -1470,8 +1502,8 @@
 
                             if (this.world instanceof WorldServer && f5 > 2.0F)
                             {
-                                int k = (int)((double)f5 * 0.5D);
-                                ((WorldServer)this.world).spawnParticle(EnumParticleTypes.DAMAGE_INDICATOR, targetEntity.posX, targetEntity.posY + (double)(targetEntity.height * 0.5F), targetEntity.posZ, k, 0.1D, 0.0D, 0.1D, 0.2D);
+                                int k = (int)(f5 * 0.5D);
+                                ((WorldServer)this.world).spawnParticle(EnumParticleTypes.DAMAGE_INDICATOR, targetEntity.posX, targetEntity.posY + targetEntity.height * 0.5F, targetEntity.posZ, k, 0.1D, 0.0D, 0.1D, 0.2D);
                             }
                         }
 
@@ -1493,7 +1525,7 @@
 
     public void func_190777_m(boolean p_190777_1_)
     {
-        float f = 0.25F + (float)EnchantmentHelper.getEfficiencyModifier(this) * 0.05F;
+        float f = 0.25F + EnchantmentHelper.getEfficiencyModifier(this) * 0.05F;
 
         if (p_190777_1_)
         {
@@ -1521,12 +1553,12 @@
 
     public void spawnSweepParticles()
     {
-        double d0 = (double)(-MathHelper.sin(this.rotationYaw * 0.017453292F));
-        double d1 = (double)MathHelper.cos(this.rotationYaw * 0.017453292F);
+        double d0 = (-MathHelper.sin(this.rotationYaw * 0.017453292F));
+        double d1 = MathHelper.cos(this.rotationYaw * 0.017453292F);
 
         if (this.world instanceof WorldServer)
         {
-            ((WorldServer)this.world).spawnParticle(EnumParticleTypes.SWEEP_ATTACK, this.posX + d0, this.posY + (double)this.height * 0.5D, this.posZ + d1, 0, d0, 0.0D, d1, 0.0D);
+            ((WorldServer)this.world).spawnParticle(EnumParticleTypes.SWEEP_ATTACK, this.posX + d0, this.posY + this.height * 0.5D, this.posZ + d1, 0, d0, 0.0D, d1, 0.0D);
         }
     }
 
@@ -1537,7 +1569,8 @@
     /**
      * Will get destroyed next tick.
      */
-    public void setDead()
+    @Override
+	public void setDead()
     {
         super.setDead();
         this.inventoryContainer.onContainerClosed(this);
@@ -1551,7 +1584,8 @@
     /**
      * Checks if this entity is inside of an opaque block
      */
-    public boolean isEntityInsideOpaqueBlock()
+    @Override
+	public boolean isEntityInsideOpaqueBlock()
     {
         return !this.sleeping && super.isEntityInsideOpaqueBlock();
     }
@@ -1574,7 +1608,7 @@
 
     public EntityPlayer.SleepResult trySleep(BlockPos bedLocation)
     {
-        EnumFacing enumfacing = (EnumFacing)this.world.getBlockState(bedLocation).getValue(BlockHorizontal.FACING);
+        EnumFacing enumfacing = this.world.getBlockState(bedLocation).getValue(BlockHorizontal.FACING);
 
         if (!this.world.isRemote)
         {
@@ -1600,7 +1634,7 @@
 
             double d0 = 8.0D;
             double d1 = 5.0D;
-            List<EntityMob> list = this.world.<EntityMob>getEntitiesWithinAABB(EntityMob.class, new AxisAlignedBB((double)bedLocation.getX() - 8.0D, (double)bedLocation.getY() - 5.0D, (double)bedLocation.getZ() - 8.0D, (double)bedLocation.getX() + 8.0D, (double)bedLocation.getY() + 5.0D, (double)bedLocation.getZ() + 8.0D), new EntityPlayer.SleepEnemyPredicate(this));
+            List<EntityMob> list = this.world.<EntityMob>getEntitiesWithinAABB(EntityMob.class, new AxisAlignedBB(bedLocation.getX() - 8.0D, bedLocation.getY() - 5.0D, bedLocation.getZ() - 8.0D, bedLocation.getX() + 8.0D, bedLocation.getY() + 5.0D, bedLocation.getZ() + 8.0D), new EntityPlayer.SleepEnemyPredicate(this));
 
             if (!list.isEmpty())
             {
@@ -1618,14 +1652,14 @@
 
         if (this.world.isBlockLoaded(bedLocation))
         {
-            float f1 = 0.5F + (float)enumfacing.getFrontOffsetX() * 0.4F;
-            float f = 0.5F + (float)enumfacing.getFrontOffsetZ() * 0.4F;
+            float f1 = 0.5F + enumfacing.getFrontOffsetX() * 0.4F;
+            float f = 0.5F + enumfacing.getFrontOffsetZ() * 0.4F;
             this.setRenderOffsetForSleep(enumfacing);
-            this.setPosition((double)((float)bedLocation.getX() + f1), (double)((float)bedLocation.getY() + 0.6875F), (double)((float)bedLocation.getZ() + f));
+            this.setPosition(bedLocation.getX() + f1, bedLocation.getY() + 0.6875F, bedLocation.getZ() + f);
         }
         else
         {
-            this.setPosition((double)((float)bedLocation.getX() + 0.5F), (double)((float)bedLocation.getY() + 0.6875F), (double)((float)bedLocation.getZ() + 0.5F));
+            this.setPosition(bedLocation.getX() + 0.5F, bedLocation.getY() + 0.6875F, bedLocation.getZ() + 0.5F);
         }
 
         this.sleeping = true;
@@ -1645,21 +1679,21 @@
 
     private boolean func_190774_a(BlockPos p_190774_1_, EnumFacing p_190774_2_)
     {
-        if (Math.abs(this.posX - (double)p_190774_1_.getX()) <= 3.0D && Math.abs(this.posY - (double)p_190774_1_.getY()) <= 2.0D && Math.abs(this.posZ - (double)p_190774_1_.getZ()) <= 3.0D)
+        if (Math.abs(this.posX - p_190774_1_.getX()) <= 3.0D && Math.abs(this.posY - p_190774_1_.getY()) <= 2.0D && Math.abs(this.posZ - p_190774_1_.getZ()) <= 3.0D)
         {
             return true;
         }
         else
         {
             BlockPos blockpos = p_190774_1_.offset(p_190774_2_.getOpposite());
-            return Math.abs(this.posX - (double)blockpos.getX()) <= 3.0D && Math.abs(this.posY - (double)blockpos.getY()) <= 2.0D && Math.abs(this.posZ - (double)blockpos.getZ()) <= 3.0D;
+            return Math.abs(this.posX - blockpos.getX()) <= 3.0D && Math.abs(this.posY - blockpos.getY()) <= 2.0D && Math.abs(this.posZ - blockpos.getZ()) <= 3.0D;
         }
     }
 
     private void setRenderOffsetForSleep(EnumFacing p_175139_1_)
     {
-        this.renderOffsetX = -1.8F * (float)p_175139_1_.getFrontOffsetX();
-        this.renderOffsetZ = -1.8F * (float)p_175139_1_.getFrontOffsetZ();
+        this.renderOffsetX = -1.8F * p_175139_1_.getFrontOffsetX();
+        this.renderOffsetZ = -1.8F * p_175139_1_.getFrontOffsetZ();
     }
 
     /**
@@ -1680,7 +1714,7 @@
                 blockpos = this.bedLocation.up();
             }
 
-            this.setPosition((double)((float)blockpos.getX() + 0.5F), (double)((float)blockpos.getY() + 0.1F), (double)((float)blockpos.getZ() + 0.5F));
+            this.setPosition(blockpos.getX() + 0.5F, blockpos.getY() + 0.1F, blockpos.getZ() + 0.5F);
         }
 
         this.sleeping = false;
@@ -1738,7 +1772,7 @@
     {
         if (this.bedLocation != null)
         {
-            EnumFacing enumfacing = (EnumFacing)this.world.getBlockState(this.bedLocation).getValue(BlockHorizontal.FACING);
+            EnumFacing enumfacing = this.world.getBlockState(this.bedLocation).getValue(BlockHorizontal.FACING);
 
             switch (enumfacing)
             {
@@ -1762,7 +1796,8 @@
     /**
      * Returns whether player is sleeping or not
      */
-    public boolean isPlayerSleeping()
+    @Override
+	public boolean isPlayerSleeping()
     {
         return this.sleeping;
     }
@@ -1842,7 +1877,8 @@
     /**
      * Causes this entity to do an upwards motion (jumping).
      */
-    public void jump()
+    @Override
+	public void jump()
     {
         super.jump();
         this.addStat(StatList.JUMP);
@@ -1857,7 +1893,8 @@
         }
     }
 
-    public void func_191986_a(float p_191986_1_, float p_191986_2_, float p_191986_3_)
+    @Override
+	public void func_191986_a(float p_191986_1_, float p_191986_2_, float p_191986_3_)
     {
         double d0 = this.posX;
         double d1 = this.posY;
@@ -1867,7 +1904,7 @@
         {
             double d3 = this.motionY;
             float f = this.jumpMovementFactor;
-            this.jumpMovementFactor = this.capabilities.getFlySpeed() * (float)(this.isSprinting() ? 2 : 1);
+            this.jumpMovementFactor = this.capabilities.getFlySpeed() * (this.isSprinting() ? 2 : 1);
             super.func_191986_a(p_191986_1_, p_191986_2_, p_191986_3_);
             this.motionY = d3 * 0.6D;
             this.jumpMovementFactor = f;
@@ -1885,7 +1922,8 @@
     /**
      * the movespeed used for the new AI system
      */
-    public float getAIMoveSpeed()
+    @Override
+	public float getAIMoveSpeed()
     {
         return (float)this.getEntityAttribute(SharedMonsterAttributes.MOVEMENT_SPEED).getAttributeValue();
     }
@@ -1904,7 +1942,7 @@
                 if (i > 0)
                 {
                     this.addStat(StatList.DIVE_ONE_CM, i);
-                    this.addExhaustion(0.01F * (float)i * 0.01F);
+                    this.addExhaustion(0.01F * i * 0.01F);
                 }
             }
             else if (this.isInWater())
@@ -1914,7 +1952,7 @@
                 if (j > 0)
                 {
                     this.addStat(StatList.SWIM_ONE_CM, j);
-                    this.addExhaustion(0.01F * (float)j * 0.01F);
+                    this.addExhaustion(0.01F * j * 0.01F);
                 }
             }
             else if (this.isOnLadder())
@@ -1933,17 +1971,17 @@
                     if (this.isSprinting())
                     {
                         this.addStat(StatList.SPRINT_ONE_CM, k);
-                        this.addExhaustion(0.1F * (float)k * 0.01F);
+                        this.addExhaustion(0.1F * k * 0.01F);
                     }
                     else if (this.isSneaking())
                     {
                         this.addStat(StatList.CROUCH_ONE_CM, k);
-                        this.addExhaustion(0.0F * (float)k * 0.01F);
+                        this.addExhaustion(0.0F * k * 0.01F);
                     }
                     else
                     {
                         this.addStat(StatList.WALK_ONE_CM, k);
-                        this.addExhaustion(0.0F * (float)k * 0.01F);
+                        this.addExhaustion(0.0F * k * 0.01F);
                     }
                 }
             }
@@ -1995,13 +2033,14 @@
         }
     }
 
-    public void fall(float distance, float damageMultiplier)
+    @Override
+	public void fall(float distance, float damageMultiplier)
     {
         if (!this.capabilities.allowFlying)
         {
             if (distance >= 2.0F)
             {
-                this.addStat(StatList.FALL_ONE_CM, (int)Math.round((double)distance * 100.0D));
+                this.addStat(StatList.FALL_ONE_CM, (int)Math.round(distance * 100.0D));
             }
 
             super.fall(distance, damageMultiplier);
@@ -2011,7 +2050,8 @@
     /**
      * sets the players height back to normal after doing things like sleeping and dieing
      */
-    protected void resetHeight()
+    @Override
+	protected void resetHeight()
     {
         if (!this.isSpectator())
         {
@@ -2019,7 +2059,8 @@
         }
     }
 
-    protected SoundEvent getFallSound(int heightIn)
+    @Override
+	protected SoundEvent getFallSound(int heightIn)
     {
         return heightIn > 4 ? SoundEvents.ENTITY_PLAYER_BIG_FALL : SoundEvents.ENTITY_PLAYER_SMALL_FALL;
     }
@@ -2027,7 +2068,8 @@
     /**
      * This method gets called when the entity kills another one.
      */
-    public void onKillEntity(EntityLivingBase entityLivingIn)
+    @Override
+	public void onKillEntity(EntityLivingBase entityLivingIn)
     {
         EntityList.EntityEggInfo entitylist$entityegginfo = EntityList.ENTITY_EGGS.get(EntityList.func_191301_a(entityLivingIn));
 
@@ -2040,7 +2082,8 @@
     /**
      * Sets the Entity inside a web block.
      */
-    public void setInWeb()
+    @Override
+	public void setInWeb()
     {
         if (!this.capabilities.isFlying)
         {
@@ -2063,9 +2106,9 @@
 
         this.experience += (float)amount / (float)this.xpBarCap();
 
-        for (this.experienceTotal += amount; this.experience >= 1.0F; this.experience /= (float)this.xpBarCap())
+        for (this.experienceTotal += amount; this.experience >= 1.0F; this.experience /= this.xpBarCap())
         {
-            this.experience = (this.experience - 1.0F) * (float)this.xpBarCap();
+            this.experience = (this.experience - 1.0F) * this.xpBarCap();
             this.addExperienceLevel(1);
         }
     }
@@ -2103,9 +2146,9 @@
             this.experienceTotal = 0;
         }
 
-        if (levels > 0 && this.experienceLevel % 5 == 0 && (float)this.lastXPSound < (float)this.ticksExisted - 100.0F)
+        if (levels > 0 && this.experienceLevel % 5 == 0 && this.lastXPSound < this.ticksExisted - 100.0F)
         {
-            float f = this.experienceLevel > 30 ? 1.0F : (float)this.experienceLevel / 30.0F;
+            float f = this.experienceLevel > 30 ? 1.0F : this.experienceLevel / 30.0F;
             this.world.playSound((EntityPlayer)null, this.posX, this.posY, this.posZ, SoundEvents.ENTITY_PLAYER_LEVELUP, this.getSoundCategory(), f * 0.75F, 1.0F);
             this.lastXPSound = this.ticksExisted;
         }
@@ -2188,7 +2231,8 @@
     /**
      * Get the experience points the entity currently has.
      */
-    protected int getExperiencePoints(EntityPlayer player)
+    @Override
+	protected int getExperiencePoints(EntityPlayer player)
     {
         if (!this.world.getGameRules().getBoolean("keepInventory") && !this.isSpectator())
         {
@@ -2204,12 +2248,14 @@
     /**
      * Only use is to identify if class is an instance of player for experience dropping
      */
-    protected boolean isPlayer()
+    @Override
+	protected boolean isPlayer()
     {
         return true;
     }
 
-    public boolean getAlwaysRenderNameTagForRender()
+    @Override
+	public boolean getAlwaysRenderNameTagForRender()
     {
         return true;
     }
@@ -2218,7 +2264,8 @@
      * returns if this entity triggers Block.onEntityWalking on the blocks they walk on. used for spiders and wolves to
      * prevent them from trampling crops
      */
-    protected boolean canTriggerWalking()
+    @Override
+	protected boolean canTriggerWalking()
     {
         return !this.capabilities.isFlying;
     }
@@ -2240,7 +2287,8 @@
     /**
      * Get the name of this object. For players this returns their username
      */
-    public String getName()
+    @Override
+	public String getName()
     {
         return this.gameProfile.getName();
     }
@@ -2253,7 +2301,8 @@
         return this.theInventoryEnderChest;
     }
 
-    public ItemStack getItemStackFromSlot(EntityEquipmentSlot slotIn)
+    @Override
+	public ItemStack getItemStackFromSlot(EntityEquipmentSlot slotIn)
     {
         if (slotIn == EntityEquipmentSlot.MAINHAND)
         {
@@ -2269,7 +2318,8 @@
         }
     }
 
-    public void setItemStackToSlot(EntityEquipmentSlot slotIn, ItemStack stack)
+    @Override
+	public void setItemStackToSlot(EntityEquipmentSlot slotIn, ItemStack stack)
     {
         if (slotIn == EntityEquipmentSlot.MAINHAND)
         {
@@ -2294,12 +2344,14 @@
         return this.inventory.addItemStackToInventory(p_191521_1_);
     }
 
-    public Iterable<ItemStack> getHeldEquipment()
+    @Override
+	public Iterable<ItemStack> getHeldEquipment()
     {
         return Lists.newArrayList(this.getHeldItemMainhand(), this.getHeldItemOffhand());
     }
 
-    public Iterable<ItemStack> getArmorInventoryList()
+    @Override
+	public Iterable<ItemStack> getArmorInventoryList()
     {
         return this.inventory.armorInventory;
     }
@@ -2358,7 +2410,8 @@
      * Determines if an entity is visible or not to a specfic player, if the entity is normally invisible.
      * For EntityLivingBase subclasses, returning false when invisible will render the entity semitransparent.
      */
-    public boolean isInvisibleToPlayer(EntityPlayer player)
+    @Override
+	public boolean isInvisibleToPlayer(EntityPlayer player)
     {
         if (!this.isInvisible())
         {
@@ -2382,7 +2435,8 @@
 
     public abstract boolean isCreative();
 
-    public boolean isPushedByWater()
+    @Override
+	public boolean isPushedByWater()
     {
         return !this.capabilities.isFlying;
     }
@@ -2392,7 +2446,8 @@
         return this.world.getScoreboard();
     }
 
-    public Team getTeam()
+    @Override
+	public Team getTeam()
     {
         return this.getWorldScoreboard().getPlayersTeam(this.getName());
     }
@@ -2400,7 +2455,8 @@
     /**
      * Get the formatted ChatComponent that will be used for the sender's username in chat
      */
-    public ITextComponent getDisplayName()
+    @Override
+	public ITextComponent getDisplayName()
     {
         ITextComponent itextcomponent = new TextComponentString(ScorePlayerTeam.formatPlayerName(this.getTeam(), this.getName()));
         itextcomponent.getStyle().setClickEvent(new ClickEvent(ClickEvent.Action.SUGGEST_COMMAND, "/msg " + this.getName() + " "));
@@ -2409,7 +2465,8 @@
         return itextcomponent;
     }
 
-    public float getEyeHeight()
+    @Override
+	public float getEyeHeight()
     {
         float f = 1.62F;
 
@@ -2432,7 +2489,8 @@
         return f;
     }
 
-    public void setAbsorptionAmount(float amount)
+    @Override
+	public void setAbsorptionAmount(float amount)
     {
         if (amount < 0.0F)
         {
@@ -2445,9 +2503,10 @@
     /**
      * Returns the amount of health added by the Absorption effect.
      */
-    public float getAbsorptionAmount()
+    @Override
+	public float getAbsorptionAmount()
     {
-        return ((Float)this.getDataManager().get(ABSORPTION)).floatValue();
+        return this.getDataManager().get(ABSORPTION).floatValue();
     }
 
     /**
@@ -2488,18 +2547,20 @@
 
     public boolean isWearing(EnumPlayerModelParts part)
     {
-        return (((Byte)this.getDataManager().get(PLAYER_MODEL_FLAG)).byteValue() & part.getPartMask()) == part.getPartMask();
+        return (this.getDataManager().get(PLAYER_MODEL_FLAG).byteValue() & part.getPartMask()) == part.getPartMask();
     }
 
     /**
      * Returns true if the command sender should be sent feedback about executed commands
      */
-    public boolean sendCommandFeedback()
+    @Override
+	public boolean sendCommandFeedback()
     {
         return this.getServer().worldServers[0].getGameRules().getBoolean("sendCommandFeedback");
     }
 
-    public boolean replaceItemInInventory(int inventorySlot, ItemStack itemStackIn)
+    @Override
+	public boolean replaceItemInInventory(int inventorySlot, ItemStack itemStackIn)
     {
         if (inventorySlot >= 0 && inventorySlot < this.inventory.mainInventory.size())
         {
@@ -2591,9 +2652,10 @@
         this.hasReducedDebug = reducedDebug;
     }
 
-    public EnumHandSide getPrimaryHand()
+    @Override
+	public EnumHandSide getPrimaryHand()
     {
-        return ((Byte)this.dataManager.get(MAIN_HAND)).byteValue() == 0 ? EnumHandSide.LEFT : EnumHandSide.RIGHT;
+        return this.dataManager.get(MAIN_HAND).byteValue() == 0 ? EnumHandSide.LEFT : EnumHandSide.RIGHT;
     }
 
     public void setPrimaryHand(EnumHandSide hand)
@@ -2603,7 +2665,7 @@
 
     public NBTTagCompound func_192023_dk()
     {
-        return (NBTTagCompound)this.dataManager.get(field_192032_bt);
+        return this.dataManager.get(field_192032_bt);
     }
 
     protected void func_192029_h(NBTTagCompound p_192029_1_)
@@ -2613,7 +2675,7 @@
 
     public NBTTagCompound func_192025_dl()
     {
-        return (NBTTagCompound)this.dataManager.get(field_192033_bu);
+        return this.dataManager.get(field_192033_bu);
     }
 
     protected void func_192031_i(NBTTagCompound p_192031_1_)
@@ -2631,7 +2693,7 @@
      */
     public float getCooledAttackStrength(float adjustTicks)
     {
-        return MathHelper.clamp(((float)this.ticksSinceLastSwing + adjustTicks) / this.getCooldownPeriod(), 0.0F, 1.0F);
+        return MathHelper.clamp((this.ticksSinceLastSwing + adjustTicks) / this.getCooldownPeriod(), 0.0F, 1.0F);
     }
 
     public void resetCooldown()
@@ -2647,7 +2709,8 @@
     /**
      * Applies a velocity to the entities, to push them away from eachother.
      */
-    public void applyEntityCollision(Entity entityIn)
+    @Override
+	public void applyEntityCollision(Entity entityIn)
     {
         if (!this.isPlayerSleeping())
         {
@@ -2716,7 +2779,8 @@
             this.field_192387_a = p_i47461_1_;
         }
 
-        public boolean apply(@Nullable EntityMob p_apply_1_)
+        @Override
+		public boolean apply(@Nullable EntityMob p_apply_1_)
         {
             return p_apply_1_.func_191990_c(this.field_192387_a);
         }
diff -ur original/item/ItemStack.java minecraft/item/ItemStack.java
--- original/item/ItemStack.java	2017-06-17 13:16:37.556901000 +0200
+++ minecraft/item/ItemStack.java	2017-06-14 12:59:55.242229900 +0200
@@ -54,7 +54,7 @@
     public static final DecimalFormat DECIMALFORMAT = new DecimalFormat("#.##");
 
     /** Size of the stack. */
-    private int stackSize;
+    public int stackSize;
 
     /**
      * Number of animation frames to go when receiving an item (by walking into it, for example).
diff -ur original/network/NetHandlerPlayServer.java minecraft/network/NetHandlerPlayServer.java
--- original/network/NetHandlerPlayServer.java	2017-06-17 13:16:37.853686000 +0200
+++ minecraft/network/NetHandlerPlayServer.java	2017-06-16 12:51:07.875556500 +0200
@@ -1,15 +1,23 @@
 package net.minecraft.network;
 
+import java.io.IOException;
+import java.util.Collections;
+import java.util.List;
+import java.util.Set;
+
+import org.apache.commons.lang3.StringUtils;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+
 import com.google.common.collect.Lists;
 import com.google.common.primitives.Doubles;
 import com.google.common.primitives.Floats;
 import com.google.common.util.concurrent.Futures;
+
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
-import java.io.IOException;
-import java.util.Collections;
-import java.util.List;
-import java.util.Set;
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventSMovedWrongly;
 import net.minecraft.advancements.Advancement;
 import net.minecraft.advancements.CriteriaTriggers;
 import net.minecraft.block.BlockCommandBlock;
@@ -116,9 +124,6 @@
 import net.minecraft.world.DimensionType;
 import net.minecraft.world.GameType;
 import net.minecraft.world.WorldServer;
-import org.apache.commons.lang3.StringUtils;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
 
 public class NetHandlerPlayServer implements INetHandlerPlayServer, ITickable
 {
@@ -182,7 +187,8 @@
     /**
      * Like the old updateEntity(), except more generic.
      */
-    public void update()
+    @Override
+	public void update()
     {
         this.captureCurrentPosition();
         this.playerEntity.onUpdateEntity();
@@ -194,7 +200,7 @@
         {
             if (++this.floatingTickCount > 80)
             {
-                LOGGER.warn("{} was kicked for floating too long!", (Object)this.playerEntity.getName());
+                LOGGER.warn("{} was kicked for floating too long!", this.playerEntity.getName());
                 this.func_194028_b(new TextComponentTranslation("multiplayer.disconnect.flying", new Object[0]));
                 return;
             }
@@ -220,7 +226,7 @@
             {
                 if (++this.vehicleFloatingTickCount > 80)
                 {
-                    LOGGER.warn("{} was kicked for floating a vehicle too long!", (Object)this.playerEntity.getName());
+                    LOGGER.warn("{} was kicked for floating a vehicle too long!", this.playerEntity.getName());
                     this.func_194028_b(new TextComponentTranslation("multiplayer.disconnect.flying", new Object[0]));
                     return;
                 }
@@ -240,9 +246,9 @@
 
         this.serverController.theProfiler.startSection("keepAlive");
 
-        if ((long)this.networkTickCount - this.lastSentPingPacket > 40L)
+        if (this.networkTickCount - this.lastSentPingPacket > 40L)
         {
-            this.lastSentPingPacket = (long)this.networkTickCount;
+            this.lastSentPingPacket = this.networkTickCount;
             this.lastPingTime = this.currentTimeMillis();
             this.keepAliveId = (int)this.lastPingTime;
             this.sendPacket(new SPacketKeepAlive(this.keepAliveId));
@@ -260,7 +266,7 @@
             --this.itemDropThreshold;
         }
 
-        if (this.playerEntity.getLastActiveTime() > 0L && this.serverController.getMaxPlayerIdleMinutes() > 0 && MinecraftServer.getCurrentTimeMillis() - this.playerEntity.getLastActiveTime() > (long)(this.serverController.getMaxPlayerIdleMinutes() * 1000 * 60))
+        if (this.playerEntity.getLastActiveTime() > 0L && this.serverController.getMaxPlayerIdleMinutes() > 0 && MinecraftServer.getCurrentTimeMillis() - this.playerEntity.getLastActiveTime() > this.serverController.getMaxPlayerIdleMinutes() * 1000 * 60)
         {
             this.func_194028_b(new TextComponentTranslation("multiplayer.disconnect.idling", new Object[0]));
         }
@@ -285,7 +291,8 @@
     {
         this.netManager.sendPacket(new SPacketDisconnect(p_194028_1_), new GenericFutureListener < Future <? super Void >> ()
         {
-            public void operationComplete(Future <? super Void > p_operationComplete_1_) throws Exception
+            @Override
+			public void operationComplete(Future <? super Void > p_operationComplete_1_) throws Exception
             {
                 NetHandlerPlayServer.this.netManager.closeChannel(p_194028_1_);
             }
@@ -293,7 +300,8 @@
         this.netManager.disableAutoRead();
         Futures.getUnchecked(this.serverController.addScheduledTask(new Runnable()
         {
-            public void run()
+            @Override
+			public void run()
             {
                 NetHandlerPlayServer.this.netManager.checkDisconnected();
             }
@@ -304,7 +312,8 @@
      * Processes player movement input. Includes walking, strafing, jumping, sneaking; excludes riding and toggling
      * flying/sprinting
      */
-    public void processInput(CPacketInput packetIn)
+    @Override
+	public void processInput(CPacketInput packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.setEntityActionState(packetIn.getStrafeSpeed(), packetIn.func_192620_b(), packetIn.isJumping(), packetIn.isSneaking());
@@ -327,7 +336,8 @@
         return !Doubles.isFinite(packetIn.getX()) || !Doubles.isFinite(packetIn.getY()) || !Doubles.isFinite(packetIn.getZ()) || !Floats.isFinite(packetIn.getPitch()) || !Floats.isFinite(packetIn.getYaw());
     }
 
-    public void processVehicleMove(CPacketVehicleMove packetIn)
+    @Override
+	public void processVehicleMove(CPacketVehicleMove packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -383,8 +393,13 @@
 
                 if (d10 > 0.0625D)
                 {
-                    flag1 = true;
-                    LOGGER.warn("{} moved wrongly!", (Object)entity.getName());
+					// TODO: Client
+					EventSMovedWrongly event = new EventSMovedWrongly();
+					Event.sendEvent(event);
+					if (!event.isCanceled()) {
+						flag1 = true;
+						LOGGER.warn("{} moved wrongly!", entity.getName());
+					}
                 }
 
                 entity.setPositionAndRotation(d3, d4, d5, f, f1);
@@ -407,7 +422,8 @@
         }
     }
 
-    public void processConfirmTeleport(CPacketConfirmTeleport packetIn)
+    @Override
+	public void processConfirmTeleport(CPacketConfirmTeleport packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -427,7 +443,8 @@
         }
     }
 
-    public void func_191984_a(CPacketRecipeInfo p_191984_1_)
+    @Override
+	public void func_191984_a(CPacketRecipeInfo p_191984_1_)
     {
         PacketThreadUtil.checkThreadAndEnqueue(p_191984_1_, this, this.playerEntity.getServerWorld());
 
@@ -442,7 +459,8 @@
         }
     }
 
-    public void func_194027_a(CPacketSeenAdvancements p_194027_1_)
+    @Override
+	public void func_194027_a(CPacketSeenAdvancements p_194027_1_)
     {
         PacketThreadUtil.checkThreadAndEnqueue(p_194027_1_, this, this.playerEntity.getServerWorld());
 
@@ -461,7 +479,8 @@
     /**
      * Processes clients perspective on player positioning and/or orientation
      */
-    public void processPlayer(CPacketPlayer packetIn)
+    @Override
+	public void processPlayer(CPacketPlayer packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -536,7 +555,7 @@
                             {
                                 float f2 = this.playerEntity.isElytraFlying() ? 300.0F : 100.0F;
 
-                                if (d11 - d10 > (double)(f2 * (float)i) && (!this.serverController.isSinglePlayer() || !this.serverController.getServerOwner().equals(this.playerEntity.getName())))
+                                if (d11 - d10 > f2 * i && (!this.serverController.isSinglePlayer() || !this.serverController.getServerOwner().equals(this.playerEntity.getName())))
                                 {
                                     LOGGER.warn("{} moved too quickly! {},{},{}", this.playerEntity.getName(), Double.valueOf(d7), Double.valueOf(d8), Double.valueOf(d9));
                                     this.setPlayerLocation(this.playerEntity.posX, this.playerEntity.posY, this.playerEntity.posZ, this.playerEntity.rotationYaw, this.playerEntity.rotationPitch);
@@ -569,10 +588,17 @@
                             d11 = d7 * d7 + d8 * d8 + d9 * d9;
                             boolean flag = false;
 
-                            if (!this.playerEntity.isInvulnerableDimensionChange() && d11 > 0.0625D && !this.playerEntity.isPlayerSleeping() && !this.playerEntity.interactionManager.isCreative() && this.playerEntity.interactionManager.getGameType() != GameType.SPECTATOR)
+							// TODO: Client
+							EventSMovedWrongly event = new EventSMovedWrongly();
+							Event.sendEvent(event);
+
+							if (!event.isCanceled() && !this.playerEntity.isInvulnerableDimensionChange()
+									&& d11 > 0.0625D && !this.playerEntity.isPlayerSleeping()
+									&& !this.playerEntity.interactionManager.isCreative()
+									&& this.playerEntity.interactionManager.getGameType() != GameType.SPECTATOR)
                             {
                                 flag = true;
-                                LOGGER.warn("{} moved wrongly!", (Object)this.playerEntity.getName());
+                                LOGGER.warn("{} moved wrongly!", this.playerEntity.getName());
                             }
 
                             this.playerEntity.setPositionAndRotation(d4, d5, d6, f, f1);
@@ -644,7 +670,8 @@
      * initiated, 1: reinitiated, 2? , 3-4 drop item (respectively without or with player control), 5: stopped; x,y,z,
      * side clicked on;)
      */
-    public void processPlayerDigging(CPacketPlayerDigging packetIn)
+    @Override
+	public void processPlayerDigging(CPacketPlayerDigging packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         WorldServer worldserver = this.serverController.worldServerForDimension(this.playerEntity.dimension);
@@ -686,9 +713,9 @@
             case START_DESTROY_BLOCK:
             case ABORT_DESTROY_BLOCK:
             case STOP_DESTROY_BLOCK:
-                double d0 = this.playerEntity.posX - ((double)blockpos.getX() + 0.5D);
-                double d1 = this.playerEntity.posY - ((double)blockpos.getY() + 0.5D) + 1.5D;
-                double d2 = this.playerEntity.posZ - ((double)blockpos.getZ() + 0.5D);
+                double d0 = this.playerEntity.posX - (blockpos.getX() + 0.5D);
+                double d1 = this.playerEntity.posY - (blockpos.getY() + 0.5D) + 1.5D;
+                double d2 = this.playerEntity.posZ - (blockpos.getZ() + 0.5D);
                 double d3 = d0 * d0 + d1 * d1 + d2 * d2;
 
                 if (d3 > 36.0D)
@@ -737,7 +764,8 @@
         }
     }
 
-    public void processRightClickBlock(CPacketPlayerTryUseItemOnBlock packetIn)
+    @Override
+	public void processRightClickBlock(CPacketPlayerTryUseItemOnBlock packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         WorldServer worldserver = this.serverController.worldServerForDimension(this.playerEntity.dimension);
@@ -749,7 +777,7 @@
 
         if (blockpos.getY() < this.serverController.getBuildLimit() - 1 || enumfacing != EnumFacing.UP && blockpos.getY() < this.serverController.getBuildLimit())
         {
-            if (this.targetPos == null && this.playerEntity.getDistanceSq((double)blockpos.getX() + 0.5D, (double)blockpos.getY() + 0.5D, (double)blockpos.getZ() + 0.5D) < 64.0D && !this.serverController.isBlockProtected(worldserver, blockpos, this.playerEntity) && worldserver.getWorldBorder().contains(blockpos))
+            if (this.targetPos == null && this.playerEntity.getDistanceSq(blockpos.getX() + 0.5D, blockpos.getY() + 0.5D, blockpos.getZ() + 0.5D) < 64.0D && !this.serverController.isBlockProtected(worldserver, blockpos, this.playerEntity) && worldserver.getWorldBorder().contains(blockpos))
             {
                 this.playerEntity.interactionManager.processRightClickBlock(this.playerEntity, worldserver, itemstack, enumhand, blockpos, enumfacing, packetIn.getFacingX(), packetIn.getFacingY(), packetIn.getFacingZ());
             }
@@ -768,7 +796,8 @@
     /**
      * Processes block placement and block activation (anvil, furnace, etc.)
      */
-    public void processPlayerBlockPlacement(CPacketPlayerTryUseItem packetIn)
+    @Override
+	public void processPlayerBlockPlacement(CPacketPlayerTryUseItem packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         WorldServer worldserver = this.serverController.worldServerForDimension(this.playerEntity.dimension);
@@ -782,7 +811,8 @@
         }
     }
 
-    public void handleSpectate(CPacketSpectate packetIn)
+    @Override
+	public void handleSpectate(CPacketSpectate packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -841,11 +871,13 @@
         }
     }
 
-    public void handleResourcePackStatus(CPacketResourcePackStatus packetIn)
+    @Override
+	public void handleResourcePackStatus(CPacketResourcePackStatus packetIn)
     {
     }
 
-    public void processSteerBoat(CPacketSteerBoat packetIn)
+    @Override
+	public void processSteerBoat(CPacketSteerBoat packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         Entity entity = this.playerEntity.getRidingEntity();
@@ -859,7 +891,8 @@
     /**
      * Invoked when disconnecting, the parameter is a ChatComponent describing the reason for termination
      */
-    public void onDisconnect(ITextComponent reason)
+    @Override
+	public void onDisconnect(ITextComponent reason)
     {
         LOGGER.info("{} lost connection: {}", this.playerEntity.getName(), reason.getUnformattedText());
         this.serverController.refreshStatusNextTick();
@@ -904,7 +937,8 @@
             CrashReportCategory crashreportcategory = crashreport.makeCategory("Packet being sent");
             crashreportcategory.setDetail("Packet class", new ICrashReportDetail<String>()
             {
-                public String call() throws Exception
+                @Override
+				public String call() throws Exception
                 {
                     return packetIn.getClass().getCanonicalName();
                 }
@@ -916,7 +950,8 @@
     /**
      * Updates which quickbar slot is selected
      */
-    public void processHeldItemChange(CPacketHeldItemChange packetIn)
+    @Override
+	public void processHeldItemChange(CPacketHeldItemChange packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -927,14 +962,15 @@
         }
         else
         {
-            LOGGER.warn("{} tried to set an invalid carried item", (Object)this.playerEntity.getName());
+            LOGGER.warn("{} tried to set an invalid carried item", this.playerEntity.getName());
         }
     }
 
     /**
      * Process chat messages (broadcast back to clients) and commands (executes)
      */
-    public void processChatMessage(CPacketChatMessage packetIn)
+    @Override
+	public void processChatMessage(CPacketChatMessage packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -986,7 +1022,8 @@
         this.serverController.getCommandManager().executeCommand(this.playerEntity, command);
     }
 
-    public void handleAnimation(CPacketAnimation packetIn)
+    @Override
+	public void handleAnimation(CPacketAnimation packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -997,7 +1034,8 @@
      * Processes a range of action-types: sneaking, sprinting, waking from sleep, opening the inventory or setting jump
      * height of the horse the player is riding
      */
-    public void processEntityAction(CPacketEntityAction packetIn)
+    @Override
+	public void processEntityAction(CPacketEntityAction packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1086,7 +1124,8 @@
      * Processes interactions ((un)leashing, opening command block GUI) and attacks on an entity with players currently
      * equipped item
      */
-    public void processUseEntity(CPacketUseEntity packetIn)
+    @Override
+	public void processUseEntity(CPacketUseEntity packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         WorldServer worldserver = this.serverController.worldServerForDimension(this.playerEntity.dimension);
@@ -1134,7 +1173,8 @@
      * Processes the client status updates: respawn attempt from player, opening statistics or achievements, or
      * acquiring 'open inventory' achievement
      */
-    public void processClientStatus(CPacketClientStatus packetIn)
+    @Override
+	public void processClientStatus(CPacketClientStatus packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1175,7 +1215,8 @@
     /**
      * Processes the client closing windows (container)
      */
-    public void processCloseWindow(CPacketCloseWindow packetIn)
+    @Override
+	public void processCloseWindow(CPacketCloseWindow packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.closeContainer();
@@ -1186,7 +1227,8 @@
      * didn't match the indicated result and prevents further manipulation by the player until he confirms that it has
      * the same open container/inventory
      */
-    public void processClickWindow(CPacketClickWindow packetIn)
+    @Override
+	public void processClickWindow(CPacketClickWindow packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1199,7 +1241,7 @@
 
                 for (int i = 0; i < this.playerEntity.openContainer.inventorySlots.size(); ++i)
                 {
-                    nonnulllist.add(((Slot)this.playerEntity.openContainer.inventorySlots.get(i)).getStack());
+                    nonnulllist.add(this.playerEntity.openContainer.inventorySlots.get(i).getStack());
                 }
 
                 this.playerEntity.updateCraftingInventory(this.playerEntity.openContainer, nonnulllist);
@@ -1225,7 +1267,7 @@
 
                     for (int j = 0; j < this.playerEntity.openContainer.inventorySlots.size(); ++j)
                     {
-                        ItemStack itemstack = ((Slot)this.playerEntity.openContainer.inventorySlots.get(j)).getStack();
+                        ItemStack itemstack = this.playerEntity.openContainer.inventorySlots.get(j).getStack();
                         ItemStack itemstack1 = itemstack.func_190926_b() ? ItemStack.field_190927_a : itemstack;
                         nonnulllist1.add(itemstack1);
                     }
@@ -1236,7 +1278,8 @@
         }
     }
 
-    public void func_191985_a(CPacketRecipePlacement p_191985_1_)
+    @Override
+	public void func_191985_a(CPacketRecipePlacement p_191985_1_)
     {
         PacketThreadUtil.checkThreadAndEnqueue(p_191985_1_, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1332,7 +1375,8 @@
      * Enchants the item identified by the packet given some convoluted conditions (matching window, which
      * should/shouldn't be in use?)
      */
-    public void processEnchantItem(CPacketEnchantItem packetIn)
+    @Override
+	public void processEnchantItem(CPacketEnchantItem packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1347,7 +1391,8 @@
     /**
      * Update the server with an ItemStack in a slot.
      */
-    public void processCreativeInventoryAction(CPacketCreativeInventoryAction packetIn)
+    @Override
+	public void processCreativeInventoryAction(CPacketCreativeInventoryAction packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
 
@@ -1410,7 +1455,8 @@
      * after a mismatched container-slot manipulation. It will unlock the player's ability to manipulate the container
      * contents
      */
-    public void processConfirmTransaction(CPacketConfirmTransaction packetIn)
+    @Override
+	public void processConfirmTransaction(CPacketConfirmTransaction packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         Short oshort = this.pendingTransactions.lookup(this.playerEntity.openContainer.windowId);
@@ -1421,7 +1467,8 @@
         }
     }
 
-    public void processUpdateSign(CPacketUpdateSign packetIn)
+    @Override
+	public void processUpdateSign(CPacketUpdateSign packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.markPlayerActive();
@@ -1461,7 +1508,8 @@
     /**
      * Updates a players' ping statistics
      */
-    public void processKeepAlive(CPacketKeepAlive packetIn)
+    @Override
+	public void processKeepAlive(CPacketKeepAlive packetIn)
     {
         if (packetIn.getKey() == this.keepAliveId)
         {
@@ -1478,7 +1526,8 @@
     /**
      * Processes a player starting/stopping flying
      */
-    public void processPlayerAbilities(CPacketPlayerAbilities packetIn)
+    @Override
+	public void processPlayerAbilities(CPacketPlayerAbilities packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.capabilities.isFlying = packetIn.isFlying() && this.playerEntity.capabilities.allowFlying;
@@ -1487,7 +1536,8 @@
     /**
      * Retrieves possible tab completions for the requested command string and sends them to the client
      */
-    public void processTabComplete(CPacketTabComplete packetIn)
+    @Override
+	public void processTabComplete(CPacketTabComplete packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         List<String> list = Lists.<String>newArrayList();
@@ -1497,14 +1547,15 @@
             list.add(s);
         }
 
-        this.playerEntity.connection.sendPacket(new SPacketTabComplete((String[])list.toArray(new String[list.size()])));
+        this.playerEntity.connection.sendPacket(new SPacketTabComplete(list.toArray(new String[list.size()])));
     }
 
     /**
      * Updates serverside copy of client settings: language, render distance, chat visibility, chat colours, difficulty,
      * and whether to show the cape
      */
-    public void processClientSettings(CPacketClientSettings packetIn)
+    @Override
+	public void processClientSettings(CPacketClientSettings packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         this.playerEntity.handleClientSettings(packetIn);
@@ -1513,7 +1564,8 @@
     /**
      * Synchronizes serverside and clientside book contents and signing
      */
-    public void processCustomPayload(CPacketCustomPayload packetIn)
+    @Override
+	public void processCustomPayload(CPacketCustomPayload packetIn)
     {
         PacketThreadUtil.checkThreadAndEnqueue(packetIn, this, this.playerEntity.getServerWorld());
         String s = packetIn.getChannelName();
@@ -1550,7 +1602,7 @@
             }
             catch (Exception exception6)
             {
-                LOGGER.error("Couldn't handle book info", (Throwable)exception6);
+                LOGGER.error("Couldn't handle book info", exception6);
             }
         }
         else if ("MC|BSign".equals(s))
@@ -1599,7 +1651,7 @@
             }
             catch (Exception exception7)
             {
-                LOGGER.error("Couldn't sign book", (Throwable)exception7);
+                LOGGER.error("Couldn't sign book", exception7);
             }
         }
         else if ("MC|TrSel".equals(s))
@@ -1616,7 +1668,7 @@
             }
             catch (Exception exception5)
             {
-                LOGGER.error("Couldn't select trade", (Throwable)exception5);
+                LOGGER.error("Couldn't select trade", exception5);
             }
         }
         else if ("MC|AdvCmd".equals(s))
@@ -1678,7 +1730,7 @@
             }
             catch (Exception exception4)
             {
-                LOGGER.error("Couldn't set command block", (Throwable)exception4);
+                LOGGER.error("Couldn't set command block", exception4);
             }
         }
         else if ("MC|AutoCmd".equals(s))
@@ -1718,7 +1770,7 @@
 
                 if (commandblockbaselogic != null)
                 {
-                    EnumFacing enumfacing = (EnumFacing)this.playerEntity.world.getBlockState(blockpos1).getValue(BlockCommandBlock.FACING);
+                    EnumFacing enumfacing = this.playerEntity.world.getBlockState(blockpos1).getValue(BlockCommandBlock.FACING);
 
                     switch (tileentitycommandblock$mode)
                     {
@@ -1758,7 +1810,7 @@
             }
             catch (Exception exception3)
             {
-                LOGGER.error("Couldn't set command block", (Throwable)exception3);
+                LOGGER.error("Couldn't set command block", exception3);
             }
         }
         else if ("MC|Beacon".equals(s))
@@ -1784,7 +1836,7 @@
                 }
                 catch (Exception exception2)
                 {
-                    LOGGER.error("Couldn't set beacon", (Throwable)exception2);
+                    LOGGER.error("Couldn't set beacon", exception2);
                 }
             }
         }
@@ -1895,7 +1947,7 @@
             }
             catch (Exception exception1)
             {
-                LOGGER.error("Couldn't set structure block", (Throwable)exception1);
+                LOGGER.error("Couldn't set structure block", exception1);
             }
         }
         else if ("MC|PickItem".equals(s))
@@ -1912,7 +1964,7 @@
             }
             catch (Exception exception)
             {
-                LOGGER.error("Couldn't pick item", (Throwable)exception);
+                LOGGER.error("Couldn't pick item", exception);
             }
         }
     }
diff -ur original/network/NetworkManager.java minecraft/network/NetworkManager.java
--- original/network/NetworkManager.java	2017-06-17 13:16:37.898229000 +0200
+++ minecraft/network/NetworkManager.java	2017-06-14 17:42:34.548979300 +0200
@@ -1,7 +1,23 @@
 package net.minecraft.network;
 
+import java.net.InetAddress;
+import java.net.SocketAddress;
+import java.util.Queue;
+import java.util.concurrent.locks.ReentrantReadWriteLock;
+
+import javax.annotation.Nullable;
+import javax.crypto.SecretKey;
+
+import org.apache.commons.lang3.ArrayUtils;
+import org.apache.commons.lang3.Validate;
+import org.apache.logging.log4j.LogManager;
+import org.apache.logging.log4j.Logger;
+import org.apache.logging.log4j.Marker;
+import org.apache.logging.log4j.MarkerManager;
+
 import com.google.common.collect.Queues;
 import com.google.common.util.concurrent.ThreadFactoryBuilder;
+
 import io.netty.bootstrap.Bootstrap;
 import io.netty.channel.Channel;
 import io.netty.channel.ChannelException;
@@ -26,23 +42,13 @@
 import io.netty.util.AttributeKey;
 import io.netty.util.concurrent.Future;
 import io.netty.util.concurrent.GenericFutureListener;
-import java.net.InetAddress;
-import java.net.SocketAddress;
-import java.util.Queue;
-import java.util.concurrent.locks.ReentrantReadWriteLock;
-import javax.annotation.Nullable;
-import javax.crypto.SecretKey;
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.Packet.EventPacketSend;
 import net.minecraft.util.CryptManager;
 import net.minecraft.util.ITickable;
 import net.minecraft.util.LazyLoadBase;
 import net.minecraft.util.text.ITextComponent;
 import net.minecraft.util.text.TextComponentTranslation;
-import org.apache.commons.lang3.ArrayUtils;
-import org.apache.commons.lang3.Validate;
-import org.apache.logging.log4j.LogManager;
-import org.apache.logging.log4j.Logger;
-import org.apache.logging.log4j.Marker;
-import org.apache.logging.log4j.MarkerManager;
 
 public class NetworkManager extends SimpleChannelInboundHandler < Packet<? >>
 {
@@ -52,21 +58,24 @@
     public static final AttributeKey<EnumConnectionState> PROTOCOL_ATTRIBUTE_KEY = AttributeKey.<EnumConnectionState>valueOf("protocol");
     public static final LazyLoadBase<NioEventLoopGroup> CLIENT_NIO_EVENTLOOP = new LazyLoadBase<NioEventLoopGroup>()
     {
-        protected NioEventLoopGroup load()
+        @Override
+		protected NioEventLoopGroup load()
         {
             return new NioEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Client IO #%d").setDaemon(true).build());
         }
     };
     public static final LazyLoadBase<EpollEventLoopGroup> CLIENT_EPOLL_EVENTLOOP = new LazyLoadBase<EpollEventLoopGroup>()
     {
-        protected EpollEventLoopGroup load()
+        @Override
+		protected EpollEventLoopGroup load()
         {
             return new EpollEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Epoll Client IO #%d").setDaemon(true).build());
         }
     };
     public static final LazyLoadBase<LocalEventLoopGroup> CLIENT_LOCAL_EVENTLOOP = new LazyLoadBase<LocalEventLoopGroup>()
     {
-        protected LocalEventLoopGroup load()
+        @Override
+		protected LocalEventLoopGroup load()
         {
             return new LocalEventLoopGroup(0, (new ThreadFactoryBuilder()).setNameFormat("Netty Local Client IO #%d").setDaemon(true).build());
         }
@@ -94,7 +103,8 @@
         this.direction = packetDirection;
     }
 
-    public void channelActive(ChannelHandlerContext p_channelActive_1_) throws Exception
+    @Override
+	public void channelActive(ChannelHandlerContext p_channelActive_1_) throws Exception
     {
         super.channelActive(p_channelActive_1_);
         this.channel = p_channelActive_1_.channel();
@@ -120,12 +130,14 @@
         LOGGER.debug("Enabled auto read");
     }
 
-    public void channelInactive(ChannelHandlerContext p_channelInactive_1_) throws Exception
+    @Override
+	public void channelInactive(ChannelHandlerContext p_channelInactive_1_) throws Exception
     {
         this.closeChannel(new TextComponentTranslation("disconnect.endOfStream", new Object[0]));
     }
 
-    public void exceptionCaught(ChannelHandlerContext p_exceptionCaught_1_, Throwable p_exceptionCaught_2_) throws Exception
+    @Override
+	public void exceptionCaught(ChannelHandlerContext p_exceptionCaught_1_, Throwable p_exceptionCaught_2_) throws Exception
     {
         TextComponentTranslation textcomponenttranslation;
 
@@ -142,7 +154,8 @@
         this.closeChannel(textcomponenttranslation);
     }
 
-    protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Packet<?> p_channelRead0_2_) throws Exception
+    @Override
+	protected void channelRead0(ChannelHandlerContext p_channelRead0_1_, Packet<?> p_channelRead0_2_) throws Exception
     {
         if (this.channel.isOpen())
         {
@@ -170,6 +183,15 @@
 
     public void sendPacket(Packet<?> packetIn)
     {
+
+		// TODO: Client
+		EventPacketSend event = new EventPacketSend(packetIn);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+		packetIn = event.getPacket();
+
         if (this.isChannelOpen())
         {
             this.flushOutboundQueue();
@@ -192,10 +214,18 @@
 
     public void sendPacket(Packet<?> packetIn, GenericFutureListener <? extends Future <? super Void >> listener, GenericFutureListener <? extends Future <? super Void >> ... listeners)
     {
+		// TODO: Client
+		EventPacketSend event = new EventPacketSend(packetIn);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+		packetIn = event.getPacket();
+
         if (this.isChannelOpen())
         {
             this.flushOutboundQueue();
-            this.dispatchPacket(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener));
+            this.dispatchPacket(packetIn, ArrayUtils.add(listeners, 0, listener));
         }
         else
         {
@@ -203,7 +233,7 @@
 
             try
             {
-                this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, (GenericFutureListener[])ArrayUtils.add(listeners, 0, listener)));
+                this.outboundPacketsQueue.add(new NetworkManager.InboundHandlerTuplePacketListener(packetIn, ArrayUtils.add(listeners, 0, listener)));
             }
             finally
             {
@@ -219,7 +249,7 @@
     private void dispatchPacket(final Packet<?> inPacket, @Nullable final GenericFutureListener <? extends Future <? super Void >> [] futureListeners)
     {
         final EnumConnectionState enumconnectionstate = EnumConnectionState.getFromPacket(inPacket);
-        final EnumConnectionState enumconnectionstate1 = (EnumConnectionState)this.channel.attr(PROTOCOL_ATTRIBUTE_KEY).get();
+        final EnumConnectionState enumconnectionstate1 = this.channel.attr(PROTOCOL_ATTRIBUTE_KEY).get();
 
         if (enumconnectionstate1 != enumconnectionstate)
         {
@@ -247,7 +277,8 @@
         {
             this.channel.eventLoop().execute(new Runnable()
             {
-                public void run()
+                @Override
+				public void run()
                 {
                     if (enumconnectionstate != enumconnectionstate1)
                     {
@@ -358,9 +389,10 @@
             lazyloadbase = CLIENT_NIO_EVENTLOOP;
         }
 
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group(lazyloadbase.getValue())).handler(new ChannelInitializer<Channel>()
+        (new Bootstrap()).group(lazyloadbase.getValue()).handler(new ChannelInitializer<Channel>()
         {
-            protected void initChannel(Channel p_initChannel_1_) throws Exception
+            @Override
+			protected void initChannel(Channel p_initChannel_1_) throws Exception
             {
                 try
                 {
@@ -373,7 +405,7 @@
 
                 p_initChannel_1_.pipeline().addLast("timeout", new ReadTimeoutHandler(30)).addLast("splitter", new NettyVarint21FrameDecoder()).addLast("decoder", new NettyPacketDecoder(EnumPacketDirection.CLIENTBOUND)).addLast("prepender", new NettyVarint21FrameEncoder()).addLast("encoder", new NettyPacketEncoder(EnumPacketDirection.SERVERBOUND)).addLast("packet_handler", networkmanager);
             }
-        })).channel(oclass)).connect(address, serverPort).syncUninterruptibly();
+        }).channel(oclass).connect(address, serverPort).syncUninterruptibly();
         return networkmanager;
     }
 
@@ -384,13 +416,14 @@
     public static NetworkManager provideLocalClient(SocketAddress address)
     {
         final NetworkManager networkmanager = new NetworkManager(EnumPacketDirection.CLIENTBOUND);
-        ((Bootstrap)((Bootstrap)((Bootstrap)(new Bootstrap()).group(CLIENT_LOCAL_EVENTLOOP.getValue())).handler(new ChannelInitializer<Channel>()
+        (new Bootstrap()).group(CLIENT_LOCAL_EVENTLOOP.getValue()).handler(new ChannelInitializer<Channel>()
         {
-            protected void initChannel(Channel p_initChannel_1_) throws Exception
+            @Override
+			protected void initChannel(Channel p_initChannel_1_) throws Exception
             {
                 p_initChannel_1_.pipeline().addLast("packet_handler", networkmanager);
             }
-        })).channel(LocalChannel.class)).connect(address).syncUninterruptibly();
+        }).channel(LocalChannel.class).connect(address).syncUninterruptibly();
         return networkmanager;
     }
 
diff -ur original/network/play/client/CPacketPlayer.java minecraft/network/play/client/CPacketPlayer.java
--- original/network/play/client/CPacketPlayer.java	2017-06-17 13:16:38.146968000 +0200
+++ minecraft/network/play/client/CPacketPlayer.java	2017-06-16 22:09:49.008202900 +0200
@@ -1,6 +1,7 @@
 package net.minecraft.network.play.client;
 
 import java.io.IOException;
+
 import net.minecraft.network.Packet;
 import net.minecraft.network.PacketBuffer;
 import net.minecraft.network.play.INetHandlerPlayServer;
@@ -12,8 +13,8 @@
     protected double z;
     protected float yaw;
     protected float pitch;
-    protected boolean onGround;
-    protected boolean moving;
+	public boolean onGround;
+	public boolean moving;
     protected boolean rotating;
 
     public CPacketPlayer()
@@ -28,7 +29,8 @@
     /**
      * Passes this Packet on to the NetHandler for processing.
      */
-    public void processPacket(INetHandlerPlayServer handler)
+    @Override
+	public void processPacket(INetHandlerPlayServer handler)
     {
         handler.processPlayer(this);
     }
@@ -36,7 +38,8 @@
     /**
      * Reads the raw packet data from the data stream.
      */
-    public void readPacketData(PacketBuffer buf) throws IOException
+    @Override
+	public void readPacketData(PacketBuffer buf) throws IOException
     {
         this.onGround = buf.readUnsignedByte() != 0;
     }
@@ -44,7 +47,8 @@
     /**
      * Writes the raw packet data to the data stream.
      */
-    public void writePacketData(PacketBuffer buf) throws IOException
+    @Override
+	public void writePacketData(PacketBuffer buf) throws IOException
     {
         buf.writeByte(this.onGround ? 1 : 0);
     }
@@ -95,7 +99,8 @@
             this.moving = true;
         }
 
-        public void readPacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void readPacketData(PacketBuffer buf) throws IOException
         {
             this.x = buf.readDouble();
             this.y = buf.readDouble();
@@ -103,7 +108,8 @@
             super.readPacketData(buf);
         }
 
-        public void writePacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void writePacketData(PacketBuffer buf) throws IOException
         {
             buf.writeDouble(this.x);
             buf.writeDouble(this.y);
@@ -132,7 +138,8 @@
             this.moving = true;
         }
 
-        public void readPacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void readPacketData(PacketBuffer buf) throws IOException
         {
             this.x = buf.readDouble();
             this.y = buf.readDouble();
@@ -142,7 +149,8 @@
             super.readPacketData(buf);
         }
 
-        public void writePacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void writePacketData(PacketBuffer buf) throws IOException
         {
             buf.writeDouble(this.x);
             buf.writeDouble(this.y);
@@ -168,14 +176,16 @@
             this.rotating = true;
         }
 
-        public void readPacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void readPacketData(PacketBuffer buf) throws IOException
         {
             this.yaw = buf.readFloat();
             this.pitch = buf.readFloat();
             super.readPacketData(buf);
         }
 
-        public void writePacketData(PacketBuffer buf) throws IOException
+        @Override
+		public void writePacketData(PacketBuffer buf) throws IOException
         {
             buf.writeFloat(this.yaw);
             buf.writeFloat(this.pitch);
diff -ur original/util/MovementInputFromOptions.java minecraft/util/MovementInputFromOptions.java
--- original/util/MovementInputFromOptions.java	2017-06-17 13:16:40.086330000 +0200
+++ minecraft/util/MovementInputFromOptions.java	2017-06-16 03:25:37.009114800 +0200
@@ -1,5 +1,8 @@
 package net.minecraft.util;
 
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventSlowdown;
+import me.deftware.client.framework.Event.Events.EventSlowdown.SlowdownType;
 import net.minecraft.client.settings.GameSettings;
 
 public class MovementInputFromOptions extends MovementInput
@@ -11,7 +14,8 @@
         this.gameSettings = gameSettingsIn;
     }
 
-    public void updatePlayerMoveState()
+    @Override
+	public void updatePlayerMoveState()
     {
         this.moveStrafe = 0.0F;
         this.field_192832_b = 0.0F;
@@ -59,10 +63,17 @@
         this.jump = this.gameSettings.keyBindJump.isKeyDown();
         this.sneak = this.gameSettings.keyBindSneak.isKeyDown();
 
+		// TODO: Client
+		EventSlowdown event = new EventSlowdown(SlowdownType.Sneak);
+		Event.sendEvent(event);
+		if (event.isCanceled()) {
+			return;
+		}
+
         if (this.sneak)
         {
-            this.moveStrafe = (float)((double)this.moveStrafe * 0.3D);
-            this.field_192832_b = (float)((double)this.field_192832_b * 0.3D);
+            this.moveStrafe = (float)(this.moveStrafe * 0.3D);
+            this.field_192832_b = (float)(this.field_192832_b * 0.3D);
         }
     }
 }
diff -ur original/util/ResourceLocation.java minecraft/util/ResourceLocation.java
--- original/util/ResourceLocation.java	2017-06-17 13:16:40.114857000 +0200
+++ minecraft/util/ResourceLocation.java	2017-06-16 18:30:19.127168600 +0200
@@ -1,5 +1,10 @@
 package net.minecraft.util;
 
+import java.lang.reflect.Type;
+import java.util.Locale;
+
+import org.apache.commons.lang3.Validate;
+
 import com.google.gson.JsonDeserializationContext;
 import com.google.gson.JsonDeserializer;
 import com.google.gson.JsonElement;
@@ -7,9 +12,9 @@
 import com.google.gson.JsonPrimitive;
 import com.google.gson.JsonSerializationContext;
 import com.google.gson.JsonSerializer;
-import java.lang.reflect.Type;
-import java.util.Locale;
-import org.apache.commons.lang3.Validate;
+
+import me.deftware.client.framework.Event.Event;
+import me.deftware.client.framework.Event.Events.EventResourceLoad;
 
 public class ResourceLocation implements Comparable<ResourceLocation>
 {
@@ -25,7 +30,9 @@
 
     public ResourceLocation(String resourceName)
     {
-        this(0, splitObjectName(resourceName));
+		// TODO: Client
+		this(0, splitObjectName(
+				((EventResourceLoad) Event.sendEvent(new EventResourceLoad(resourceName))).getTexture()));
     }
 
     public ResourceLocation(String resourceDomainIn, String resourcePathIn)
@@ -65,12 +72,14 @@
         return this.resourceDomain;
     }
 
-    public String toString()
+    @Override
+	public String toString()
     {
         return this.resourceDomain + ':' + this.resourcePath;
     }
 
-    public boolean equals(Object p_equals_1_)
+    @Override
+	public boolean equals(Object p_equals_1_)
     {
         if (this == p_equals_1_)
         {
@@ -87,12 +96,14 @@
         }
     }
 
-    public int hashCode()
+    @Override
+	public int hashCode()
     {
         return 31 * this.resourceDomain.hashCode() + this.resourcePath.hashCode();
     }
 
-    public int compareTo(ResourceLocation p_compareTo_1_)
+    @Override
+	public int compareTo(ResourceLocation p_compareTo_1_)
     {
         int i = this.resourceDomain.compareTo(p_compareTo_1_.resourceDomain);
 
@@ -106,12 +117,14 @@
 
     public static class Serializer implements JsonDeserializer<ResourceLocation>, JsonSerializer<ResourceLocation>
     {
-        public ResourceLocation deserialize(JsonElement p_deserialize_1_, Type p_deserialize_2_, JsonDeserializationContext p_deserialize_3_) throws JsonParseException
+        @Override
+		public ResourceLocation deserialize(JsonElement p_deserialize_1_, Type p_deserialize_2_, JsonDeserializationContext p_deserialize_3_) throws JsonParseException
         {
             return new ResourceLocation(JsonUtils.getString(p_deserialize_1_, "location"));
         }
 
-        public JsonElement serialize(ResourceLocation p_serialize_1_, Type p_serialize_2_, JsonSerializationContext p_serialize_3_)
+        @Override
+		public JsonElement serialize(ResourceLocation p_serialize_1_, Type p_serialize_2_, JsonSerializationContext p_serialize_3_)
         {
             return new JsonPrimitive(p_serialize_1_.toString());
         }
diff -ur original/util/Session.java minecraft/util/Session.java
--- original/util/Session.java	2017-06-17 13:16:40.135377000 +0200
+++ minecraft/util/Session.java	2017-06-14 12:59:33.581475600 +0200
@@ -10,10 +10,10 @@
 
 public class Session
 {
-    private final String username;
-    private final String playerID;
-    private final String token;
-    private final Session.Type sessionType;
+	protected final String username;
+    protected final String playerID;
+    protected final String token;
+    protected final Session.Type sessionType;
 
     public Session(String usernameIn, String playerIDIn, String tokenIn, String sessionTypeIn)
     {
diff -ur original/util/StringUtils.java minecraft/util/StringUtils.java
--- original/util/StringUtils.java	2017-06-17 13:16:40.156897000 +0200
+++ minecraft/util/StringUtils.java	2017-06-14 12:54:17.438069700 +0200
@@ -5,7 +5,7 @@
 
 public class StringUtils
 {
-    private static final Pattern PATTERN_CONTROL_CODE = Pattern.compile("(?i)\\u00A7[0-9A-FK-OR]");
+    protected static final Pattern PATTERN_CONTROL_CODE = Pattern.compile("(?i)\\u00A7[0-9A-FK-OR]");
 
     /**
      * Returns the time elapsed for the given number of ticks, in "mm:ss" format.
diff -ur original/util/text/TextFormatting.java minecraft/util/text/TextFormatting.java
--- original/util/text/TextFormatting.java	2017-06-17 13:16:40.688908000 +0200
+++ minecraft/util/text/TextFormatting.java	2017-06-14 13:00:10.558403400 +0200
@@ -46,7 +46,7 @@
     private final String name;
 
     /** The formatting code that produces this format. */
-    private final char formattingCode;
+    public final char formattingCode;
     private final boolean fancyStyling;
 
     /**
diff -ur original/util/Timer.java minecraft/util/Timer.java
--- original/util/Timer.java	2017-06-17 13:16:40.168909000 +0200
+++ minecraft/util/Timer.java	2017-06-16 14:11:29.094811700 +0200
@@ -29,10 +29,10 @@
     public void updateTimer()
     {
         long i = Minecraft.getSystemTime();
-        this.field_194148_c = (float)(i - this.lastSyncSysClock) / this.field_194149_e;
+        this.field_194148_c = (i - this.lastSyncSysClock) / this.field_194149_e;
         this.lastSyncSysClock = i;
         this.field_194147_b += this.field_194148_c;
         this.elapsedTicks = (int)this.field_194147_b;
-        this.field_194147_b -= (float)this.elapsedTicks;
+        this.field_194147_b -= this.elapsedTicks;
     }
 }
